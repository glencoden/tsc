{"version":3,"sources":["features/Navigation/navigationSlice.js","app/lib/values.js","features/Events/eventsSlice.js","features/Competitors/competitorsSlice.js","app/reducer.js","app/lib/helpers.js","app/selectors.js","features/AuthWall/AuthWall.js","features/Navigation/TopNavigation/TopNavigation.js","app/styleHooks.js","app/lib/points.js","app/lib/year.js","features/WorkSpace/lib/util.js","app/lib/weights.js","app/hooks/useFilters.js","app/hooks/useInterval.js","features/WorkSpace/GymnasticsList/GymnasticsList.js","features/WorkSpace/WorkSpace.js","features/Navigation/BottomNavigation/BottomNavigation.js","features/Events/EventList/EventList.js","features/Events/EventManager/EventManager.js","features/Events/EventManager/util.js","features/Competitors/CompetitorList/CompetitorList.js","features/Competitors/CompetitorManager/CompetitorManager.js","features/NoInternetWall/NoInternetWall.js","App.js","index.js","features/Navigation/BottomNavigation/BottomNavigation.module.css"],"names":["steps","ActiveContent","ContentToStep","getStepFromContent","content","navigationSlice","createSlice","name","initialState","activeContent","activeStep","reducers","setActiveContent","state","action","payload","setActiveStep","step","keys","Object","i","length","key","getContentFromStep","actions","Gender","FEMALE","MALE","Ages","Group","A","B","AgesPerGroup","Discipline","PUSH","PULL","SNATCH","CLEAN_AND_JERK","PULL_UP","T2B","SCHO","H1","LT","DR_M","SW","SD","PL","GYM","Exceptional","GYMNASTICS","getDraftEvent","id","date","Date","toISOString","split","place","host","start","final","disciplines","values","reduce","r","e","gymnastics","competitorIds","getEvents","createAsyncThunk","ids","a","requestService","post","baseUrl","deleteEvent","get","saveEvent","event","eventsSlice","all","activeId","draft","resetEvents","setEventId","addCompetitorId","push","removeCompetitorId","activeEvent","splice","indexOf","editEvent","setName","setDate","setPlace","setHost","setStart","toggleFinal","toggleDiscipline","setGymnastics","group","extraReducers","fulfilled","Array","isArray","console","warn","success","Number","getDraftCompetitor","gender","year","weight","club","results","getCompetitors","deleteCompetitor","saveCompetitor","competitor","competitorsSlice","resetCompetitors","editCompetitor","setGender","setYear","setWeight","eventId","competitorId","setClub","setResult","discipline","result","reducer","navigation","events","competitors","defaultValues","ARRAY","OBJECT","FUNCTION","selectActiveEvent","selectActiveCompetitors","includes","selectEventIdsForYear","activeYear","filter","map","AuthWall","useState","open","setOpen","Dialog","onClose","aria-labelledby","DialogContent","TextField","autoFocus","margin","label","className","type","fullWidth","onChange","target","value","ColorlibConnector","withStyles","alternativeLabel","top","active","backgroundImage","completed","line","height","border","backgroundColor","borderRadius","StepConnector","useColorlibStepIconStyles","makeStyles","root","zIndex","color","width","display","justifyContent","alignItems","cursor","boxShadow","ColorlibStepIcon","props","classes","icons","1","2","3","String","icon","TopNavigation","dispatch","useDispatch","useSelector","Stepper","connector","Step","onClick","StepLabel","StepIconComponent","useListStyles","theme","card","cardActive","palette","secondary","light","cardContent","gridTemplateColumns","cardActions","justifySelf","alignSelf","contrastText","grey","gymnasticsTag","primary","main","useManagerStyles","flexRow","gridRow","gridGap","spacer","flexShrink","marginTop","useWorkSpaceStyles","row","editor","editorEntry","flexWrap","editorIcon","editorPoints","marginLeft","gymnasticsResult","useFilterStyles","filterGroup","marginRight","createTable","inStart","inEnd","outStart","outEnd","roundTo","val","Math","max","round","getters","calcPointsForExceptional","getPoints","disc","fn","getAge","birthYear","getFullYear","getBirthYear","age","getRanks","eventIds","competitionClasses","forEach","groupKey","ageClass","genderKey","curPoints","curRank","rankings","res","curResults","curRes","points","k","sort","b","rank","c","ranking","find","addRanks","weights","WeightType","weightDisciplines","useFilters","filters","filterCallback","setFilterCallback","filterList","setFilterList","useEffect","element","every","ButtonGroup","variant","Button","prevState","undefined","useInterval","interval","cb","setActive","idRef","useRef","req","current","setTimeout","clearTimeout","GymnasticsList","gymnasticsList","gymResults","setGymResults","Typography","paragraph","FormControl","style","overflow","textOverflow","InputLabel","Select","labelId","MenuItem","PrintActionTypes","competitorsForPrint","WorkSpace","eventIdsForYear","competitorList","setCompetitorList","activeCompetitorId","setActiveCompetitorId","FilterComponent","sync","useCallback","curCompetitorList","charCodeAt","Card","elevation","CardContent","bodyWeight","weightValue","getWeight","CardActions","BottomNavigation","vw","harbor","cw","speedDialOpen","setSpeedDialOpen","onCta","ctaIcon","ctaColor","s","Cta","Fab","aria-label","SpeedDial","ariaLabel","hidden","SpeedDialIcon","onOpen","direction","SpeedDialAction","tooltipTitle","url","body","fetch","method","headers","JSON","stringify","then","response","blob","URL","createObjectURL","Blob","document","createElement","href","click","revokeObjectURL","catch","err","error","fetchPrint","EventList","activeEventId","eventList","setEventList","deleteIndex","setDeleteIndex","refresh","isObject","getTime","reverse","join","IconButton","stopPropagation","marginProp","EventManager","saveAndExit","parsedGymnastics","replace","onKeyDown","noValidate","autoComplete","FormControlLabel","control","Switch","checked","inputProps","labelPlacement","FormGroup","Checkbox","ages","multiline","rowsMax","CompetitorList","selectedCompetitorIds","doSave","setDoSave","noActiveEvent","selected","CompetitorManager","NoInternetWall","window","addEventListener","textAlign","mainView","App","vh","activeEventName","title","min","bg","css","setBaseUrl","options","global","contentSize","maxContentWidth","fonts","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.50614bab.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const steps = [ 'Erstellen', 'Teilnehmer', 'Wettbewerb' ];\n\nexport const ActiveContent = {\n    EVENT_LIST: 'event-list',\n    EVENT_MANAGER: 'event-manager',\n    COMPETITOR_LIST: 'competitor-list',\n    COMPETITOR_MANAGER: 'competitor-manager',\n    WORK_SPACE: 'work-space'\n};\n\nconst ContentToStep = {\n    [ActiveContent.EVENT_LIST]: 'Erstellen',\n    [ActiveContent.EVENT_MANAGER]: 'Erstellen',\n    [ActiveContent.COMPETITOR_LIST]: 'Teilnehmer',\n    [ActiveContent.COMPETITOR_MANAGER]: 'Teilnehmer',\n    [ActiveContent.WORK_SPACE]: 'Wettbewerb'\n};\n\nfunction getStepFromContent(content) {\n    return ContentToStep[content];\n}\n\nfunction getContentFromStep(step) {\n    const keys = Object.keys(ContentToStep);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (ContentToStep[key] === step) {\n            return key;\n        }\n    }\n}\n\nexport const navigationSlice = createSlice({\n    name: 'navigation',\n    initialState: {\n        activeContent: ActiveContent.EVENT_LIST,\n        activeStep: getStepFromContent(ActiveContent.EVENT_LIST)\n    },\n    reducers: {\n        setActiveContent: (state, action) => {\n            state.activeContent = action.payload;\n            state.activeStep = getStepFromContent(action.payload);\n        },\n        setActiveStep: (state, action) => {\n            state.activeContent = getContentFromStep(action.payload);\n            state.activeStep = action.payload;\n        }\n    }\n});\n\nexport const {\n    setActiveContent,\n    setActiveStep\n} = navigationSlice.actions;\n\nexport default navigationSlice.reducer;\n","export const Gender = {\n    FEMALE: 'W',\n    MALE: 'M'\n};\n\nexport const Ages = [ 9, 10, 11, 12, 13, 14 ];\n\nexport const Group = {\n    A: 'Kinder',\n    B: 'Schüler'\n};\n\nexport const AgesPerGroup = {\n    [Group.A]: [ 9, 10, 11, 12 ],\n    [Group.B]: [ 13, 14 ]\n};\n\nexport const Discipline = {\n    PUSH: 'Bankdrücken',\n    PULL: 'Zug liegend',\n    SNATCH: 'Reißen',\n    CLEAN_AND_JERK: 'Stoßen',\n    PULL_UP: 'Klimmziehen',\n    T2B: 'Anristen',\n    SCHO: 'SCHO',\n    H1: 'H1',\n    LT: 'LT',\n    DR_M: '30m',\n    SW: 'SW',\n    SD: 'SD',\n    PL: 'PL',\n    GYM: 'Turnen'\n};\n\nexport const Exceptional = {\n    GYMNASTICS: Discipline.GYM\n};","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from 'harbor-js';\nimport { Discipline, Group } from '../../app/lib/values';\n\nfunction getDraftEvent() {\n    return {\n        id: 0,\n        name: '',\n        date: new Date().toISOString().split('T')[0],\n        place: '',\n        host: '',\n        start: '16:30',\n        final: false,\n        disciplines: Object.values(Discipline).reduce((r, e) => ({ ...r, [e]: false }), {}),\n        gymnastics: {\n            [Group.A]: '',\n            [Group.B]: ''\n        },\n        competitorIds: []\n    };\n}\n\nexport const getEvents = createAsyncThunk(\n    'events/getEvents',\n    async ids => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/get_events`, ids);\n    }\n);\n\nexport const deleteEvent = createAsyncThunk(\n    'events/deleteEvent',\n    async id => {\n        return await requestService.get(`${requestService.baseUrl}/tsc/delete_event/${id}`);\n    }\n);\n\nexport const saveEvent = createAsyncThunk(\n    'events/saveEvent',\n    async event => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/upsert_event`, event);\n    }\n);\n\nexport const eventsSlice = createSlice({\n    name: 'events',\n    initialState: {\n        all: {},\n        activeId: 0,\n        draft: getDraftEvent()\n    },\n    reducers: {\n        resetEvents: state => {\n            state.activeId = 0;\n            state.draft = getDraftEvent();\n        },\n        setEventId: (state, action) => {\n            state.activeId = action.payload;\n        },\n        addCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            state.all[state.activeId].competitorIds.push(action.payload);\n        },\n        removeCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            const activeEvent = state.all[state.activeId];\n            activeEvent.competitorIds.splice(activeEvent.competitorIds.indexOf(action.payload), 1);\n        },\n        editEvent: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setDate: (state, action) => {\n            state.draft.date = action.payload;\n        },\n        setPlace: (state, action) => {\n            state.draft.place = action.payload;\n        },\n        setHost: (state, action) => {\n            state.draft.host = action.payload;\n        },\n        setStart: (state, action) => {\n            state.draft.start = action.payload;\n        },\n        toggleFinal: state => {\n            state.draft.final = !state.draft.final;\n        },\n        toggleDiscipline: (state, action) => {\n            state.draft.disciplines[action.payload] = !state.draft.disciplines[action.payload];\n        },\n        setGymnastics: (state, action) => {\n            if (!action.payload.group) {\n                return;\n            }\n            state.draft.gymnastics[action.payload.group] = action.payload.gymnastics;\n        }\n    },\n    extraReducers: {\n        [getEvents.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting events');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), {});\n        },\n        [deleteEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting event');\n                return;\n            }\n            if (state.activeId === Number(action.payload.id)) {\n                state.activeId = 0;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving event');\n                return;\n            }\n            state.all[action.payload.event.id] = action.payload.event;\n            state.activeId = action.payload.event.id;\n            state.draft = getDraftEvent();\n        }\n    }\n});\n\nexport const {\n    resetEvents,\n    setEventId,\n    addCompetitorId,\n    removeCompetitorId,\n    editEvent,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleFinal,\n    toggleDiscipline,\n    setGymnastics\n} = eventsSlice.actions;\n\nexport default eventsSlice.reducer;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from 'harbor-js';\nimport { Gender } from '../../app/lib/values';\n\nfunction getDraftCompetitor() {\n    return {\n        id: 0,\n        name: '',\n        gender: Gender.FEMALE,\n        year: new Date().toISOString().split('T')[0].split('-')[0] - 9,\n        weight: {},\n        club: '',\n        results: {}\n    };\n}\n\nexport const getCompetitors = createAsyncThunk(\n    'competitors/getCompetitors',\n    async ids => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/get_competitors`, ids);\n    }\n);\n\nexport const deleteCompetitor = createAsyncThunk(\n    'competitors/deleteCompetitor',\n    async id => {\n        return await requestService.get(`${requestService.baseUrl}/tsc/delete_competitor/${id}`);\n    }\n);\n\nexport const saveCompetitor = createAsyncThunk(\n    'competitors/saveCompetitor',\n    async competitor => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/upsert_competitor`, competitor);\n    }\n);\n\nexport const competitorsSlice = createSlice({\n    name: 'competitors',\n    initialState: {\n        all: {},\n        draft: getDraftCompetitor()\n    },\n    reducers: {\n        resetCompetitors: state => {\n            state.draft = getDraftCompetitor();\n        },\n        editCompetitor: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setGender: (state, action) => {\n            state.draft.gender = action.payload;\n        },\n        setYear: (state, action) => {\n            state.draft.year = action.payload;\n        },\n        setWeight: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a weight without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a weight without a competitor id');\n                return;\n            }\n            state.all[action.payload.competitorId].weight[action.payload.eventId] = action.payload.weight;\n        },\n        setClub: (state, action) => {\n            state.draft.club = action.payload;\n        },\n        setResult: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a result without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a result without a competitor id');\n                return;\n            }\n            if (!state.all[action.payload.competitorId].results[action.payload.eventId]) {\n                state.all[action.payload.competitorId].results[action.payload.eventId] = {};\n            }\n            state.all[action.payload.competitorId].results[action.payload.eventId][action.payload.discipline] = action.payload.result;\n        }\n    },\n    extraReducers: {\n        [getCompetitors.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting competitors');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), state.all);\n        },\n        [deleteCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting competitor');\n                return;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving competitor');\n                return;\n            }\n            state.all[action.payload.competitor.id] = action.payload.competitor;\n            state.draft = getDraftCompetitor();\n        }\n    }\n});\n\nexport const {\n    resetCompetitors,\n    editCompetitor,\n    setName,\n    setGender,\n    setYear,\n    setWeight,\n    setClub,\n    setResult\n} = competitorsSlice.actions;\n\nexport default competitorsSlice.reducer;\n","import navigation from '../features/Navigation/navigationSlice';\nimport events from '../features/Events/eventsSlice';\nimport competitors from '../features/Competitors/competitorsSlice';\n\nconst reducer = {\n    navigation,\n    events,\n    competitors,\n};\n\nexport default reducer;","export const defaultValues = {\n    ARRAY: [],\n    OBJECT: {},\n    FUNCTION: () => {}\n}","import { defaultValues } from './lib/helpers';\n\nexport const selectActiveEvent = state => state.events.activeId ? state.events.all[state.events.activeId] : defaultValues.OBJECT;\n\nexport const selectActiveCompetitors = state => {\n    const activeEvent = selectActiveEvent(state);\n    const competitorIds = activeEvent.competitorIds || [];\n    return Object.keys(state.competitors.all).reduce((r, e) => competitorIds.includes(Number(e)) ? [ ...r, state.competitors.all[e] ] : r, []);\n};\n\nexport const selectEventIdsForYear = state => {\n    const activeYear = selectActiveEvent(state).date?.split('-')[0];\n    if (!activeYear) {\n        return defaultValues.ARRAY;\n    }\n    return Object.values(state.events.all)\n        .filter(e => e.date?.split('-')[0] === activeYear)\n        .map(e => e.id);\n};","import { useState } from 'react';\nimport { Dialog, DialogContent, TextField } from '@material-ui/core';\n\nconst auth = 'fest';\n\n\nfunction AuthWall() {\n    const [ open, setOpen ] = useState(true);\n\n    return (\n        <Dialog open={open} onClose={() => {}} aria-labelledby=\"form-dialog-title\">\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"pw\"\n                    label={<span className=\"material-icons\">vpn_key</span>}\n                    type=\"password\"\n                    fullWidth\n                    onChange={event => {\n                        if (event.target.value !== auth) {\n                            return;\n                        }\n                        setOpen(false);\n                    }}\n                />\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default AuthWall;","import { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, StepConnector } from '@material-ui/core';\nimport { steps, setActiveStep } from '../navigationSlice';\n\nconst ColorlibConnector = withStyles({\n    alternativeLabel: {\n        top: 22\n    },\n    active: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    completed: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    line: {\n        height: 3,\n        border: 0,\n        backgroundColor: '#eaeaf0',\n        borderRadius: 1\n    }\n})(StepConnector);\n\nconst useColorlibStepIconStyles = makeStyles({\n    root: {\n        backgroundColor: '#ccc',\n        zIndex: 1,\n        color: '#fff',\n        width: 50,\n        height: 50,\n        display: 'flex',\n        borderRadius: '50%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: 'pointer'\n    },\n    active: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\n        boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n    },\n    completed: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)'\n    }\n});\n\nfunction ColorlibStepIcon(props) {\n    const classes = useColorlibStepIconStyles();\n    const { active, completed } = props;\n\n    const icons = {\n        1: <span className=\"material-icons\">event_note</span>,\n        2: <span className=\"material-icons\">people_alt</span>,\n        3: <span className=\"material-icons\">emoji_events</span>\n    };\n\n    return (\n        <div className={`${classes.root}${active ? ` ${classes.active}` : ''}${completed ? ` ${classes.completed}` : ''}`}>\n            {icons[String(props.icon)]}\n        </div>\n    );\n}\n\n\nfunction TopNavigation() {\n    const dispatch = useDispatch();\n    const activeStep = useSelector(state => state.navigation.activeStep);\n\n    return (\n        <Stepper className=\"top-navigation-stepper\" alternativeLabel activeStep={steps.indexOf(activeStep)} connector={<ColorlibConnector/>}>\n            {steps.map(step => (\n                <Step\n                    key={step}\n                    onClick={() => dispatch(setActiveStep(step))}\n                >\n                    <StepLabel StepIconComponent={ColorlibStepIcon} />\n                </Step>\n            ))}\n        </Stepper>\n    );\n}\n\nexport default TopNavigation;","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useListStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    cardActive: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    cardContent: {\n        display: 'grid',\n        gridTemplateColumns: 'auto 160px'\n    },\n    cardActions: {\n        justifySelf: 'end',\n        alignSelf: 'start'\n    },\n    contrastText: {\n        color: theme.palette.grey['100']\n    },\n    gymnasticsTag: {\n        color: theme.palette.primary.main\n    }\n}));\n\nexport const useManagerStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    flexRow: {\n        display: 'flex'\n    },\n    gridRow: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    spacer: {\n        width: '10px',\n        flexShrink: 0\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useWorkSpaceStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    row: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    editor: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    editorEntry: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'center'\n    },\n    editorIcon: {\n        color: theme.palette.grey['300']\n    },\n    editorPoints: {\n        marginLeft: '10px'\n    },\n    gymnasticsResult: {\n        alignSelf: 'center',\n        display: 'flex',\n        alignItems: 'center'\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useFilterStyles = makeStyles(theme => ({\n    filter: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '10px'\n    },\n    filterGroup: {\n        marginRight: '10px'\n    }\n}));","import { Discipline, Exceptional } from './values';\n\nfunction createTable(inStart, inEnd, outStart, outEnd, roundTo = 1) {\n    return function(val) {\n        return Math.max(Math.round(((outStart - outEnd) * (val - inStart) / (inStart - inEnd) + outStart) / roundTo), 0) * roundTo;\n    }\n}\n\nconst getters = {\n    // Jan 2021: 15 reps with 2 points each\n    [Discipline.PUSH]: createTable(0, 15, 0, 30),\n    [Discipline.PULL]: createTable(0, 15, 0, 30),\n    [Discipline.PULL_UP]: createTable(0, 15, 0, 30),\n    [Discipline.T2B]: createTable(0, 15, 0, 30),\n    // Jan 2021: values from printed table\n    [Discipline.H1]: createTable(10, 15.7, 45, 16),\n    [Discipline.LT]: createTable(11, 16, 50, 0),\n    [Discipline.DR_M]: createTable(4.3, 6.3, 40, 0),\n    [Discipline.SW]: createTable(1.35, 2.85, 0, 50),\n    [Discipline.SD]: createTable(4, 9, 0, 50),\n    [Discipline.SCHO]: createTable(3, 13, 0, 50),\n    [Discipline.PL]: createTable(9, 14, 50, 0),\n    // Jan 2021: coach inputs gymnastics points sum, result outputs x3\n    [Discipline.GYM]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.SNATCH]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.CLEAN_AND_JERK]: createTable(0, 10, 0, 30, 0.5),\n};\n\nexport const calcPointsForExceptional = {\n    [Exceptional.GYMNASTICS]: result => Object.values(result).reduce((r, e) => r + e, 0)\n};\n\nexport function getPoints(disc, result) {\n    const fn = getters[disc];\n    if (typeof fn !== 'function') {\n        return 0;\n    }\n    if (Object.values(Exceptional).includes(disc)) {\n        result = calcPointsForExceptional[disc](result);\n    }\n    return fn(result);\n}\n","export function getAge(birthYear) {\n    return new Date().getFullYear() - Number(birthYear);\n}\n\nexport function getBirthYear(age) {\n    return new Date().getFullYear() - age;\n}","import { getPoints } from '../../../app/lib/points';\nimport { AgesPerGroup, Gender, Group } from '../../../app/lib/values';\nimport { getAge } from '../../../app/lib/year';\n\nfunction addRanks(competitors, eventId) {\n    const eventIds = Array.isArray(eventId) ? eventId : [ eventId ];\n    let curPoints = -1;\n    let curRank = 1;\n    const rankings = competitors\n        .reduce((r, e) => {\n            const results = eventIds.reduce((res, id) => {\n                const curResults = e.results[id];\n                if (!curResults) {\n                    return r;\n                }\n                Object.keys(curResults).forEach(curRes => {\n                    if (typeof r[curRes] !== 'number') {\n                        r[curRes] = curResults[curRes];\n                        return;\n                    }\n                    r[curRes] = r[curRes] + curResults[curRes];\n                });\n                return r;\n            }, {});\n            return [\n                ...r,\n                {\n                    id: e.id,\n                    points: Object.keys(results).reduce((r, k) => results[k] ? r + getPoints(k, results[k]) : r, 0)\n                }\n            ];\n        }, [])\n        .sort((a, b) => b.points - a.points)\n        .map(e => {\n            if (curPoints > e.points) {\n                curRank++;\n                curPoints = e.points;\n            }\n            if (curPoints === -1) {\n                curPoints = e.points;\n            }\n            return {\n                ...e,\n                rank: curRank\n            };\n        });\n    return competitors.map(c => {\n        const ranking = rankings.find(e => e.id === c.id);\n        const { points, rank } = ranking;\n        return {\n            ...c,\n            points,\n            rank\n        };\n    });\n}\n\nexport function getRanks(competitors, eventIds) {\n    const competitionClasses = [];\n    Object.values(Group).forEach(groupKey => {\n        const ageClass = competitors.filter(e => AgesPerGroup[groupKey].includes(getAge(e.year)));\n        Object.values(Gender).forEach(genderKey => {\n            competitionClasses.push(ageClass.filter(e => genderKey === e.gender));\n        });\n    });\n    return competitionClasses.reduce((r, e) => [ ...r, ...addRanks(e, eventIds) ], []);\n}\n","import { Gender, Ages, Discipline } from './values';\nimport { getAge } from './year';\n\nconst weights = {\n    [Gender.FEMALE]: {\n        [Discipline.SCHO]: [ 2, 2, 2, 2, 3, 3 ],\n        [Discipline.PUSH]: [ 40, 45, 50, 55, 60, 65 ],\n        [Discipline.PULL]: [ 40, 45, 50, 50, 55, 60 ]\n    },\n    [Gender.MALE]: {\n        [Discipline.SCHO]: [ 2, 2, 3, 3, 4, 4 ],\n        [Discipline.PUSH]: [ 45, 50, 60, 65, 70, 75 ],\n        [Discipline.PULL]: [ 45, 50, 55, 60, 65, 70 ]\n    }\n};\n\nconst WeightType = {\n    KG: 'kg',\n    PERCENT: 'percent'\n};\n\nconst weightDisciplines = {\n    [Discipline.SCHO]: WeightType.KG,\n    [Discipline.PUSH]: WeightType.PERCENT,\n    [Discipline.PULL]: WeightType.PERCENT\n};\n\nexport function getWeight(birthYear, gender, bodyWeight, discipline) {\n    if (!weightDisciplines[discipline]) {\n        return 0;\n    }\n    const age = getAge(birthYear);\n    const weightValue = weights[gender][discipline][Ages.indexOf(age)];\n    switch (weightDisciplines[discipline]) {\n        case WeightType.KG:\n            return weightValue;\n        case WeightType.PERCENT:\n            return Math.round(bodyWeight * weightValue / 100);\n        default:\n    }\n}\n","import { useFilterStyles } from '../styleHooks';\nimport { useEffect, useState } from 'react';\nimport { Button, ButtonGroup } from '@material-ui/core';\n\nfunction useFilters(filters) {\n    const classes = useFilterStyles();\n\n    const [ filterCallback, setFilterCallback ] = useState(() => () => true);\n    const [ filterList, setFilterList ] = useState([]);\n\n    useEffect(() => {\n        setFilterCallback(() => element => filterList.every(fn => typeof fn === 'function' ? fn(element) : true));\n    }, [ filterList, setFilterCallback ]);\n\n    const FilterComponent = () => (\n        <div className={classes.filter}>\n            {filters.map((filterGroup, i) => {\n                return (\n                    <ButtonGroup\n                        variant=\"contained\"\n                        key={i}\n                        className={classes.filterGroup}\n                    >\n                        {Object.keys(filterGroup).map(name => {\n                            const active = filterList[i] === filterGroup[name];\n                            return (\n                                <Button\n                                    key={name}\n                                    color={active ? 'primary' : 'default'}\n                                    onClick={() => setFilterList(prevState => {\n                                        const result = [ ...prevState ];\n                                        if (active) {\n                                            result[i] = undefined;\n                                        } else {\n                                            result[i] = filterGroup[name];\n                                        }\n                                        return result;\n                                    })}\n                                >\n                                    {name}\n                                </Button>\n                            );\n                        })}\n                    </ButtonGroup>\n                );\n            })}\n        </div>\n    );\n\n    return [ filterCallback, FilterComponent ];\n}\n\nexport default useFilters;","import { useState, useRef, useEffect } from 'react';\n\n\nfunction useInterval(interval, cb) {\n    const [ active, setActive ] = useState(true);\n    const idRef = useRef({ id: 0 });\n\n    useEffect(() => {\n        if (!active) {\n            return;\n        }\n        const req = () => {\n            cb();\n            idRef.current.id = setTimeout(() => req(), interval * 1000);\n        };\n        req();\n        return () => clearTimeout(idRef.current.id);\n    }, [ active, interval, cb ]);\n\n    return [ active, setActive ];\n}\n\nexport default useInterval;","import { useDispatch } from 'react-redux';\nimport { useWorkSpaceStyles } from '../../../app/styleHooks';\nimport { AgesPerGroup, Exceptional, Group } from '../../../app/lib/values';\nimport { getAge } from '../../../app/lib/year';\nimport { useEffect, useState } from 'react';\nimport { setResult } from '../../Competitors/competitorsSlice';\nimport { getPoints } from '../../../app/lib/points';\nimport { FormControl, InputLabel, MenuItem, Select, Typography } from '@material-ui/core';\n\n\nfunction GymnasticsList({ event, competitor }) {\n    const dispatch = useDispatch();\n    const classes = useWorkSpaceStyles();\n\n    const results = competitor.results?.[event.id]?.[Exceptional.GYMNASTICS];\n    const gymnastics = event.gymnastics[Object.values(Group).find(e => AgesPerGroup[e].includes(getAge(competitor.year)))];\n    const gymnasticsList = gymnastics.split(', ').filter(e => !!e);\n\n    const [ gymResults, setGymResults ] = useState(results ? results : gymnasticsList.reduce((r, e) => ({ ...r, [e]: 0 }), {}));\n\n    useEffect(() => {\n        dispatch(setResult({\n            eventId: event.id,\n            competitorId: competitor.id,\n            discipline: Exceptional.GYMNASTICS,\n            result: gymResults\n        }))\n    }, [ event.id, competitor.id, dispatch, gymResults ]);\n\n    if (!gymnastics.length) {\n        return null;\n    }\n\n    const points = getPoints(Exceptional.GYMNASTICS, gymResults);\n\n    return (\n        <>\n            <Typography variant=\"overline\" paragraph className={classes.marginTop}>\n                {Exceptional.GYMNASTICS}\n            </Typography>\n            <div className={classes.editor}>\n                {gymnasticsList\n                    .map(name => (\n                        <FormControl key={name} style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                            <InputLabel id={`${name}-label`}>{name}</InputLabel>\n                            <Select\n                                labelId={`${name}-label`}\n                                id={`${name}`}\n                                value={gymResults[name]}\n                                onChange={event => setGymResults(prevState => {\n                                    const result = { ...prevState };\n                                    result[name] = event.target.value;\n                                    return result;\n                                })}\n                            >\n                                <MenuItem value={2}>2</MenuItem>\n                                <MenuItem value={1.5}>1,5</MenuItem>\n                                <MenuItem value={1}>1</MenuItem>\n                                <MenuItem value={0.5}>0,5</MenuItem>\n                                <MenuItem value={0}>0</MenuItem>\n                            </Select>\n                        </FormControl>\n                    ))\n                }\n                <div className={classes.gymnasticsResult}>\n                    <span className={`material-icons ${classes.editorIcon}`}>\n                        play_arrow\n                    </span>\n                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                        {points ? points : '--'}\n                    </Typography>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default GymnasticsList;","import { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Card, CardActions, CardContent, TextField, Typography } from '@material-ui/core';\nimport { selectActiveEvent, selectActiveCompetitors, selectEventIdsForYear } from '../../app/selectors';\nimport { getCompetitors, saveCompetitor, setResult, setWeight } from '../Competitors/competitorsSlice';\nimport { useWorkSpaceStyles } from '../../app/styleHooks';\nimport { getPoints } from '../../app/lib/points';\nimport { getRanks } from './lib/util';\nimport { defaultValues } from '../../app/lib/helpers';\nimport { AgesPerGroup, Gender, Group, Exceptional } from '../../app/lib/values';\nimport { getAge } from '../../app/lib/year';\nimport { getWeight } from '../../app/lib/weights';\nimport useFilters from '../../app/hooks/useFilters';\nimport useInterval from '../../app/hooks/useInterval';\nimport GymnasticsList from './GymnasticsList/GymnasticsList';\nimport { requestService } from 'harbor-js';\n\nexport const PrintActionTypes = {\n    CERTIFICATES: 'certificates',\n    PROTOCOL: 'protocol'\n};\n\nlet competitorsForPrint = [];\n\nexport function fetchPrint(type) {\n    const body = {};\n    let url;\n    switch (type) {\n        case PrintActionTypes.CERTIFICATES:\n            body.competitors = competitorsForPrint;\n            url = `${requestService.baseUrl}/tsc/print_certificates`;\n            break;\n        case PrintActionTypes.PROTOCOL:\n            body.competitors = competitorsForPrint;\n            url = `${requestService.baseUrl}/tsc/print_protocol`;\n            break;\n        default:\n    }\n    fetch(url, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json; charset=utf-8' },\n        body: JSON.stringify(body)\n    })\n        .then(response => response.blob())\n        .then(blob => {\n            const url = URL.createObjectURL(new Blob([ blob ], { type: 'application/pdf' }));\n            const a = document.createElement('a');\n            a.href = url;\n            a.target = '_blank';\n            a.click();\n            setTimeout(() => URL.revokeObjectURL(url), 100);\n        })\n        .catch(err => console.error(err));\n}\n\nconst filters = [\n    {\n        [Gender.FEMALE]: competitor => competitor.gender === Gender.FEMALE,\n        [Gender.MALE]: competitor => competitor.gender === Gender.MALE\n    },\n    {\n        [Group.A]: competitor => AgesPerGroup[Group.A].includes(getAge(competitor.year)),\n        [Group.B]: competitor => AgesPerGroup[Group.B].includes(getAge(competitor.year))\n    }\n];\n\nconst inputMargin = 'dense';\nconst syncTime = 5;\n\n\nfunction WorkSpace() {\n    const dispatch = useDispatch();\n    const activeEvent = useSelector(selectActiveEvent);\n    const competitors = useSelector(selectActiveCompetitors);\n    const eventIdsForYear = useSelector(selectEventIdsForYear);\n    const classes = useWorkSpaceStyles();\n\n    const [ competitorList, setCompetitorList ] = useState([]);\n    const [ activeCompetitorId, setActiveCompetitorId ] = useState(0);\n\n    const [ filterCallback, FilterComponent ] = useFilters(filters);\n\n    const competitorIds = activeEvent?.competitorIds || defaultValues.ARRAY;\n    const sync = useCallback(() => dispatch(getCompetitors(competitorIds.filter(id => id !== activeCompetitorId))), [ dispatch, activeCompetitorId, competitorIds ]);\n\n    useInterval(syncTime, sync);\n\n    useEffect(() => {\n        if (!Array.isArray(competitors)) {\n            return;\n        }\n        const curCompetitorList = getRanks(competitors, activeEvent.final ? eventIdsForYear : activeEvent.id)\n            .sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0));\n        setCompetitorList(curCompetitorList);\n    }, [ activeEvent.id, competitors, activeEvent.final ]); // eventIdsForYear will be the same unless usage around new year\n\n    competitorsForPrint = competitorList;\n\n    if (!activeEvent.id) {\n        return null;\n    }\n\n    return (\n        <div>\n            <FilterComponent />\n            {!!competitorList.length && competitorList.filter(filterCallback).map((competitor, i) => {\n                const active = activeCompetitorId === competitor.id;\n                return (\n                    <Card\n                        key={i}\n                        className={`${classes.card}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (active) {\n                                return;\n                            }\n                            if (activeCompetitorId) {\n                                dispatch(saveCompetitor(competitors.find(e => e.id === activeCompetitorId)));\n                            }\n                            setActiveCompetitorId(competitor.id);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.row}>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    {`${competitor.year} | ${competitor.gender}${competitor.weight[activeEvent.id] ? ` | ${competitor.weight[activeEvent.id]} kg` : ''}`}\n                                </Typography>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    Punkte {competitor.points}\n                                </Typography>\n                            </div>\n                            <div className={classes.row}>\n                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                    {competitor.name}\n                                </Typography>\n                                <Typography variant=\"h6\" color=\"primary\">\n                                    Platz {competitor.rank}\n                                </Typography>\n                            </div>\n                            {active && (\n                                <>\n                                    <div className={classes.editor}>\n                                        <div className={classes.editorEntry}>\n                                            <TextField\n                                                id=\"filled-weight\"\n                                                label=\"Körpergewicht\"\n                                                type=\"number\"\n                                                variant=\"outlined\"\n                                                value={competitor.weight[activeEvent.id]}\n                                                onChange={event => dispatch(setWeight({\n                                                    eventId: activeEvent.id,\n                                                    competitorId: competitor.id,\n                                                    weight: event.target.value\n                                                }))}\n                                                margin=\"dense\"\n                                            />\n                                        </div>\n                                        {Object.keys(activeEvent.disciplines).filter(e => e !== Exceptional.GYMNASTICS).map(discipline => {\n                                            if (!activeEvent.disciplines[discipline]) {\n                                                return null;\n                                            }\n                                            const value = competitor.results[activeEvent.id]?.[discipline];\n                                            const weight = getWeight(competitor.year, competitor.gender, competitor.weight[activeEvent.id], discipline);\n                                            return (\n                                                <div key={discipline} className={classes.editorEntry}>\n                                                    <TextField\n                                                        id={`filled-${discipline}`}\n                                                        label={`${discipline}${weight ? ` ${weight} kg` : ''}`}\n                                                        type=\"number\"\n                                                        variant=\"filled\"\n                                                        value={value}\n                                                        onChange={event => dispatch(setResult({\n                                                            eventId: activeEvent.id,\n                                                            competitorId: competitor.id,\n                                                            discipline,\n                                                            result: event.target.value\n                                                        }))}\n                                                        margin={inputMargin}\n                                                    />\n                                                    <span className={`material-icons ${classes.editorIcon}`}>\n                                                        play_arrow\n                                                    </span>\n                                                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                                                        {value ? getPoints(discipline, value) : '--'}\n                                                    </Typography>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                    <GymnasticsList event={activeEvent} competitor={competitor} />\n                                    <CardActions className={classes.marginTop}>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            onClick={() => {\n                                                dispatch(saveCompetitor(competitors.find(e => e.id === competitor.id)));\n                                                setActiveCompetitorId(0);\n                                            }}\n                                        >\n                                            Fertig\n                                        </Button>\n                                    </CardActions>\n                                </>\n                            )}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default WorkSpace;","import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport s from './BottomNavigation.module.css';\nimport { Fab } from '@material-ui/core';\nimport { SpeedDial, SpeedDialIcon, SpeedDialAction } from '@material-ui/lab';\nimport { ActiveContent, setActiveContent } from '../navigationSlice';\nimport { saveCompetitor } from '../../Competitors/competitorsSlice';\nimport { fetchPrint, PrintActionTypes } from '../../WorkSpace/WorkSpace';\n\nconst actions = [\n    {\n        icon: <span className=\"material-icons\">event_note</span>,\n        name: 'Protokoll',\n        type: PrintActionTypes.PROTOCOL\n    },\n    {\n        icon: <span className=\"material-icons\">people_alt</span>,\n        name: 'Urkunden',\n        type: PrintActionTypes.CERTIFICATES\n    }\n];\n\n\nfunction BottomNavigation() {\n    const dispatch = useDispatch();\n    const vw = useSelector(state => state.harbor.vw);\n    const cw = useSelector(state => state.harbor.cw);\n    const activeContent = useSelector(state => state.navigation.activeContent);\n\n    const [ speedDialOpen, setSpeedDialOpen ] = useState(false);\n\n    let onCta = null;\n    let ctaIcon = '';\n    let ctaColor = '';\n\n    switch (activeContent) {\n        case ActiveContent.EVENT_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.EVENT_MANAGER:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_LIST));\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        case ActiveContent.COMPETITOR_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.COMPETITOR_MANAGER:\n            onCta = () => {\n                dispatch(saveCompetitor());\n                dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n            };\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        default:\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n    }\n\n    return (\n        <footer\n            className={s.BottomNavigation}\n            style={{ width: `${cw}px`, margin: `0 ${(vw - cw) / 2}px` }}\n        >\n            <div className={s.Cta}>\n                {activeContent !== ActiveContent.WORK_SPACE && (\n                    <Fab\n                        color={ctaColor}\n                        aria-label=\"add\"\n                        onClick={onCta}\n                    >\n                        <span className=\"material-icons\">\n                            {ctaIcon}\n                        </span>\n                    </Fab>\n                )}\n                {activeContent === ActiveContent.WORK_SPACE && vw > 576 && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial example\"\n                        hidden={false}\n                        icon={<SpeedDialIcon/>}\n                        onClose={() => setSpeedDialOpen(false)}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                        direction=\"up\"\n                    >\n                        {actions.map(action => (\n                            <SpeedDialAction\n                                key={action.name}\n                                icon={action.icon}\n                                tooltipTitle={action.name}\n                                onClick={() => {\n                                    fetchPrint(action.type);\n                                    setSpeedDialOpen(false);\n                                }}\n                            />\n                        ))}\n                    </SpeedDial>\n                )}\n            </div>\n        </footer>\n    );\n}\n\nexport default BottomNavigation;","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { deleteEvent, setEventId, editEvent, getEvents } from '../eventsSlice';\nimport { Exceptional } from '../../../app/lib/values';\nimport { isObject } from 'harbor-js';\nimport { useListStyles } from '../../../app/styleHooks';\nimport useInterval from '../../../app/hooks/useInterval';\n\nconst refreshTime = 15;\n\n\nfunction EventList() {\n    const dispatch = useDispatch();\n    const events = useSelector(state => state.events.all);\n    const activeEventId = useSelector(state => state.events.activeId);\n    const classes = useListStyles();\n\n    const [ eventList, setEventList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n\n    const refresh = useCallback(() => dispatch(getEvents()), [ dispatch ]);\n    useInterval(refreshTime, refresh);\n\n    useEffect(() => {\n        if (!isObject(events)) {\n            return;\n        }\n        setEventList(\n            Object.values(events).sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())\n        );\n    }, [ events ]);\n\n    return (\n        <div>\n            {!!eventList.length && eventList.map((event, i) => {\n                const active = event.id === activeEventId;\n                return (\n                    <Card\n                        key={i}\n                        className={`${classes.card} ${active && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => {\n                            dispatch(setEventId(event.id));\n                            dispatch(setActiveContent(ActiveContent.WORK_SPACE));\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    {event.final && (\n                                        <Typography variant=\"overline\" color=\"primary\" display=\"block\">\n                                            {`Jahresabschluss ${event.date.split('-')[0]}`}\n                                        </Typography>\n                                    )}\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {event.date.split('-').reverse().join('.')} / {event.start} Uhr\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {event.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === i ? (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteEvent(event.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(editEvent(event.id));\n                                                    dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(i);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            {(event.place || event.host) && (\n                                <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" paragraph>\n                                    {`${event.place}${(event.place && event.host) ? ' | ' : ''}${event.host}`}\n                                </Typography>\n                            )}\n                            <Typography variant=\"body1\">\n                                {Object.keys(event.disciplines).reduce((r, e) => event.disciplines[e] ? `${r}${r.length ? ', ' : ''}${e}` : r, '')}\n                            </Typography>\n                            {event.disciplines[Exceptional.GYMNASTICS] && Object.keys(event.gymnastics).map(key => (\n                                <Typography key={key} variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                    <span className={classes.gymnasticsTag}>Turnen {key}:</span> {event.gymnastics[key]}\n                                </Typography>\n                            ))}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default EventList;","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    Card,\n    CardContent,\n    CardActions,\n    Button,\n    Checkbox,\n    FormControlLabel,\n    FormGroup,\n    TextField,\n    Switch\n} from '@material-ui/core';\nimport {\n    saveEvent,\n    resetEvents,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleDiscipline,\n    setGymnastics,\n    toggleFinal\n} from '../eventsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { AgesPerGroup, Exceptional } from '../../../app/lib/values';\nimport { getBirthYear } from '../../../app/lib/year';\nimport { useManagerStyles } from '../../../app/styleHooks';\nimport { parseCommaSeparation } from './util';\n\nconst marginProp = 'dense';\n\n\nfunction EventManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.events.draft.id);\n    const name = useSelector(state => state.events.draft.name);\n    const date = useSelector(state => state.events.draft.date);\n    const place = useSelector(state => state.events.draft.place);\n    const host = useSelector(state => state.events.draft.host);\n    const start = useSelector(state => state.events.draft.start);\n    const final = useSelector(state => state.events.draft.final);\n    const disciplines = useSelector(state => state.events.draft.disciplines);\n    const gymnastics = useSelector(state => state.events.draft.gymnastics);\n    const competitorIds = useSelector(state => state.events.draft.competitorIds);\n\n    const classes = useManagerStyles();\n\n    useEffect(() => () => dispatch(resetEvents()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        const parsedGymnastics = {};\n        Object.keys(gymnastics).forEach(key => {\n            parsedGymnastics[key] = parseCommaSeparation(gymnastics[key]);\n        });\n        dispatch(saveEvent({\n            id,\n            name,\n            date,\n            place,\n            host,\n            start,\n            final,\n            disciplines,\n            gymnastics: parsedGymnastics,\n            competitorIds\n        }));\n        if (id === 0) {\n            dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n            return;\n        }\n        dispatch(setActiveContent(ActiveContent.WORK_SPACE));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-name\"\n                            label=\"Wettbewerb\"\n                            variant=\"filled\"\n                            value={name}\n                            onChange={event => dispatch(setName(event.target.value))}\n                            margin={marginProp}\n                            fullWidth\n                        />\n                        <FormControlLabel\n                            control={\n                                <Switch\n                                    checked={final}\n                                    onChange={() => dispatch(toggleFinal())}\n                                    name=\"Jahresabschluss\"\n                                    color=\"primary\"\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                                />\n                            }\n                            label=\"Jahresab.\"\n                            labelPlacement=\"top\"\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"date\"\n                            label=\"Datum\"\n                            type=\"date\"\n                            variant=\"filled\"\n                            value={date}\n                            onChange={event => dispatch(setDate(event.target.value))}\n                            margin={marginProp}\n                            fullWidth\n                        />\n                        <div className={classes.spacer} />\n                        <TextField\n                            id=\"time\"\n                            label=\"Beginn\"\n                            type=\"time\"\n                            variant=\"filled\"\n                            value={start}\n                            onChange={event => dispatch(setStart(event.target.value))}\n                            margin={marginProp}\n                            fullWidth\n                            inputProps={{\n                                step: 300, // 5 min\n                            }}\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-place\"\n                            label=\"Wettkampf Ort\"\n                            variant=\"filled\"\n                            value={place}\n                            onChange={event => dispatch(setPlace(event.target.value))}\n                            margin={marginProp}\n                            fullWidth\n                        />\n                        <div className={classes.spacer} />\n                        <TextField\n                            id=\"filled-host\"\n                            label=\"Ausrichter\"\n                            variant=\"filled\"\n                            value={host}\n                            onChange={event => dispatch(setHost(event.target.value))}\n                            margin={marginProp}\n                            fullWidth\n                        />\n                    </div>\n\n                    <FormGroup row>\n                        {Object.keys(disciplines).map(key => (\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        checked={disciplines[key]}\n                                        onChange={() => dispatch(toggleDiscipline(key))}\n                                        name={key}\n                                        color={key === Exceptional.GYMNASTICS ? 'primary' : 'secondary'}\n                                    />\n                                }\n                                label={key}\n                                key={key}\n                            />\n                        ))}\n                    </FormGroup>\n\n                    {disciplines[Exceptional.GYMNASTICS] && Object.keys(gymnastics).map(key => {\n                        const ages = AgesPerGroup[key];\n                        return (\n                            <div key={key} className={classes.marginTop}>\n                                <h3>{`Turnen ${key} (Jahrgang ${getBirthYear(ages[ages.length - 1])} - ${getBirthYear(ages[0])})`}</h3>\n                                <TextField\n                                    id=\"outlined-multiline-flexible\"\n                                    label=\"Übungen\"\n                                    multiline\n                                    rowsMax={4}\n                                    variant=\"outlined\"\n                                    value={gymnastics[key]}\n                                    onChange={event => dispatch(setGymnastics({ group: key, gymnastics: event.target.value }))}\n                                    margin={marginProp}\n                                    fullWidth\n                                />\n                            </div>\n                        );\n                    })}\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default EventManager;","export function parseCommaSeparation(input) {\n    const matchDoubleSpace = /\\s+/gm;\n    const matchCommaSpaces = /[,\\s]*,[,\\s]*/gm;\n    return input\n        .replace(matchDoubleSpace, ' ')\n        .replace(matchCommaSpaces, ', ');\n}","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { saveEvent, addCompetitorId, removeCompetitorId } from '../../Events/eventsSlice';\nimport { deleteCompetitor, editCompetitor, getCompetitors } from '../competitorsSlice';\nimport { useListStyles } from '../../../app/styleHooks';\nimport { selectActiveEvent } from '../../../app/selectors';\nimport { isObject } from 'harbor-js';\nimport { defaultValues } from '../../../app/lib/helpers';\nimport useInterval from '../../../app/hooks/useInterval';\n\nconst refreshTime = 15;\n\n\nfunction CompetitorList() {\n    const dispatch = useDispatch();\n    const competitors = useSelector(state => state.competitors.all);\n    const activeEvent = useSelector(selectActiveEvent);\n    const selectedCompetitorIds = activeEvent.competitorIds || defaultValues.ARRAY;\n\n    const classes = useListStyles();\n\n    const [ competitorList, setCompetitorList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n    const [ doSave, setDoSave ] = useState(false);\n\n    const refresh = useCallback(() => dispatch(getCompetitors()), [ dispatch ]);\n    useInterval(refreshTime, refresh);\n\n    useEffect(() => {\n        if (!isObject(competitors)) {\n            return;\n        }\n        setCompetitorList(\n            Object.values(competitors).sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0))\n        );\n    }, [ competitors ]);\n\n    useEffect(() => {\n        if (!doSave) {\n            return;\n        }\n        dispatch(saveEvent(activeEvent));\n        setDoSave(false);\n    }, [ dispatch, activeEvent, doSave ]);\n\n    return (\n        <div>\n            {!!competitorList.length && competitorList.map((competitor, i) => {\n                const noActiveEvent = !activeEvent.id;\n                const selected = selectedCompetitorIds.includes(competitor.id);\n                return (\n                    <Card\n                        key={i}\n                        className={`${classes.card} ${selected && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (noActiveEvent) {\n                                return;\n                            }\n                            dispatch(selected ? removeCompetitorId(competitor.id) : addCompetitorId(competitor.id));\n                            setDoSave(true);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {`${competitor.year} | ${competitor.gender}`}\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {competitor.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === i ? (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteCompetitor(competitor.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(editCompetitor(competitor.id));\n                                                    dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(i);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                {competitor.club || 'Kein Verein'}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default CompetitorList;","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Button, TextField, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport {\n    resetCompetitors,\n    setName,\n    setGender,\n    setYear,\n    setClub,\n    saveCompetitor\n} from '../competitorsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { Gender, Ages } from '../../../app/lib/values';\nimport { getBirthYear } from '../../../app/lib/year';\nimport { useManagerStyles } from '../../../app/styleHooks';\n\nconst marginProp = 'dense';\n\n\nfunction CompetitorManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.competitors.draft.id);\n    const name = useSelector(state => state.competitors.draft.name);\n    const gender = useSelector(state => state.competitors.draft.gender);\n    const year = useSelector(state => state.competitors.draft.year);\n    const weight = useSelector(state => state.competitors.draft.weight);\n    const club = useSelector(state => state.competitors.draft.club);\n    const results = useSelector(state => state.competitors.draft.results);\n\n    const classes = useManagerStyles();\n\n    useEffect(() => () => dispatch(resetCompetitors()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        dispatch(saveCompetitor({\n            id,\n            name,\n            gender,\n            year,\n            weight,\n            club,\n            results\n        }));\n        dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        id=\"filled-name\"\n                        label=\"Name\"\n                        variant=\"filled\"\n                        value={name}\n                        onChange={event => dispatch(setName(event.target.value))}\n                        margin={marginProp}\n                        fullWidth\n                    />\n                    <TextField\n                        id=\"filled-club\"\n                        label=\"Verein\"\n                        variant=\"filled\"\n                        value={club}\n                        onChange={event => dispatch(setClub(event.target.value))}\n                        margin={marginProp}\n                        fullWidth\n                    />\n                    <div className={classes.gridRow}>\n                        <FormControl margin={marginProp}>\n                            <InputLabel id=\"demo-simple-select-label-gender\">Geschlecht</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-gender\"\n                                id=\"demo-simple-select-gender\"\n                                value={gender}\n                                onChange={event => dispatch(setGender(event.target.value))}\n                            >\n                                {Object.values(Gender).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                        <FormControl margin={marginProp}>\n                            <InputLabel id=\"demo-simple-select-label-year\">Jahrgang</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-year\"\n                                id=\"demo-simple-select-year\"\n                                value={year}\n                                onChange={event => dispatch(setYear(event.target.value))}\n                            >\n                                {Ages.map(age => getBirthYear(age)).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default CompetitorManager;","import { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, Typography } from '@material-ui/core';\n\n\nfunction NoInternetWall() {\n    const [ open, setOpen ] = useState(false);\n\n    useEffect(() => {\n        window.addEventListener('offline', () => setOpen(true));\n        window.addEventListener('online', () => setOpen(false));\n    }, []);\n\n    return (\n        <Dialog open={open} onClose={() => {}} aria-labelledby=\"form-dialog-title\">\n            <DialogContent>\n                <Typography>\n                    Kein Internet\n                </Typography>\n                <div style={{ textAlign: 'center' }}>\n                    <span className=\"material-icons\">perm_scan_wifi</span>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default NoInternetWall;","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Page, Header } from 'harbor-js';\nimport { ActiveContent } from './features/Navigation/navigationSlice';\nimport { selectActiveEvent } from './app/selectors';\n\nimport AuthWall from './features/AuthWall/AuthWall';\nimport TopNavigation from './features/Navigation/TopNavigation/TopNavigation';\nimport BottomNavigation from './features/Navigation/BottomNavigation/BottomNavigation';\nimport EventList from './features/Events/EventList/EventList';\nimport EventManager from './features/Events/EventManager/EventManager';\nimport CompetitorList from './features/Competitors/CompetitorList/CompetitorList';\nimport CompetitorManager from './features/Competitors/CompetitorManager/CompetitorManager';\nimport WorkSpace from './features/WorkSpace/WorkSpace';\nimport NoInternetWall from './features/NoInternetWall/NoInternetWall';\n\nconst mainView = {\n    [ActiveContent.EVENT_LIST]: <EventList />,\n    [ActiveContent.EVENT_MANAGER]: <EventManager />,\n    [ActiveContent.COMPETITOR_LIST]: <CompetitorList />,\n    [ActiveContent.COMPETITOR_MANAGER]: <CompetitorManager />,\n    [ActiveContent.WORK_SPACE]: <WorkSpace />\n};\n\n\nfunction App() {\n    const vh = useSelector(state => state.harbor.vh);\n    const activeEvent = useSelector(selectActiveEvent);\n    const activeEventName = activeEvent.name || '';\n    const activeContent = useSelector(state => state.navigation.activeContent);\n\n    useEffect(() => {\n        if (!activeEventName) {\n            document.title = 'TSC';\n            return;\n        }\n        document.title = activeEventName;\n    }, [ activeEventName ]);\n\n    return (\n        <>\n            <AuthWall />\n            <NoInternetWall />\n            <Header\n                height={Math.min(0.14 * vh, 110)}\n                bg=\"white\"\n                css={{\n                    overflow: 'hidden',\n                    boxShadow: '0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)' // default theme shadow 4\n                }}\n            >\n                <TopNavigation />\n            </Header>\n            <Page>\n                {mainView[activeContent]}\n                <div style={{ height: '112px' }} />\n            </Page>\n            <BottomNavigation />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reducer from './app/reducer';\nimport App from './App';\nimport { Harbor, requestService } from 'harbor-js';\n\nrequestService.setBaseUrl(\n    process.env.NODE_ENV === 'development'\n        ? 'http://127.0.0.1'\n        : 'https://wolke.glencoden.de'\n);\n\nconst options = {\n    global: {\n        contentSize: {\n            width: 0.95,\n            height: 1\n        },\n        maxContentWidth: 640,\n        bg: '#e5e5e5'\n    },\n    theme: {\n        fonts: {\n            body: 'roboto, sans-serif'\n        }\n    },\n    reducer\n};\n\nReactDOM.render(\n    <Harbor options={options}>\n        <App/>\n    </Harbor>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomNavigation\":\"BottomNavigation_BottomNavigation__2CoWW\",\"Cta\":\"BottomNavigation_Cta__1wAwD\"};"],"sourceRoot":""}