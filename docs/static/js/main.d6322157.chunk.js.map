{"version":3,"sources":["features/Navigation/navigationSlice.js","constants/index.js","services/requestService.js","competition-logic/values.js","features/Events/eventsSlice.js","features/Competitors/competitorsSlice.js","redux/reducer.js","util/helpers.js","redux/selectors.js","hooks/useInterval.js","features/AuthWall/AuthWall.js","util/getCenterContentStyle.js","util/getContentWidth.js","features/Navigation/TopNavigation/TopNavigation.js","competition-logic/points.js","competition-logic/year.js","features/WorkSpace/util.js","features/Navigation/BottomNavigation/BottomNavigation.js","styles/styleHooks.js","features/Events/EventList/EventList.js","features/Events/EventManager/util.js","features/Events/EventManager/EventManager.js","features/Competitors/CompetitorList/CompetitorList.js","features/Competitors/CompetitorManager/CompetitorManager.js","competition-logic/weights.js","features/WorkSpace/ListFilters/ListFilters.js","features/WorkSpace/GymnasticsList/GymnasticsList.js","features/WorkSpace/WorkSpace.js","features/NoInternetWall/NoInternetWall.js","features/MainView/MainView.js","App.js","index.js","features/Navigation/TopNavigation/TopNavigation.module.css","features/Navigation/BottomNavigation/BottomNavigation.module.css","features/MainView/MainView.module.css"],"names":["steps","ActiveContent","ContentToStep","getStepFromContent","content","navigationSlice","createSlice","name","initialState","activeContent","activeStep","reducers","setActiveContent","state","action","payload","setActiveStep","step","keys","Object","i","length","key","getContentFromStep","actions","MUI_INPUT_FIELD_MARGIN","PrintLayout","requestService","baseUrl","oAuth2_access_token","tokenExpiryDate","this","url","headers","Authorization","Promise","resolve","then","fetch","method","resp","json","catch","err","console","error","data","JSON","stringify","body","formBody","encodedKey","encodeURIComponent","encodedValue","push","join","encodeURI","ok","reject","username","password","_postEncodeURI","grant_type","client_id","client_secret","access_token","expiryDate","Date","setSeconds","getSeconds","expires_in","get","success","warn","layout","competitors","response","blob","URL","createObjectURL","Blob","type","a","document","createElement","href","target","click","setTimeout","revokeObjectURL","Gender","FEMALE","MALE","Ages","Group","A","B","AgesPerGroup","Discipline","PUSH","PULL","SNATCH","CLEAN_AND_JERK","PULL_UP","T2B","SCHO","H1","LT","DR_M","SW","SD","PL","GYM","Exceptional","GYMNASTICS","getDraftEvent","id","date","toISOString","split","place","host","start","final","disciplines","values","reduce","r","e","gymnastics","competitorIds","eventsEndpoint","getEvents","createAsyncThunk","saveEvent","event","post","put","deleteEvent","delete","eventsSlice","all","activeId","draft","resetDraft","setEventId","addCompetitorId","removeCompetitorId","activeEvent","splice","indexOf","editEvent","setName","setDate","setPlace","setHost","setStart","toggleFinal","toggleDiscipline","setGymnastics","group","extraReducers","fulfilled","Array","isArray","Number","getDraftCompetitor","gender","year","weight","club","results","competitorsEndpoint","getCompetitors","saveCompetitor","competitor","deleteCompetitor","competitorsSlice","activeEventIds","resetCompetitors","editCompetitor","setGender","setYear","setWeight","eventId","competitorId","setClub","setResult","discipline","result","setActiveEventIds","reducer","navigation","events","defaultValues","ARRAY","OBJECT","FUNCTION","isObject","val","selectActiveEvent","selectActiveCompetitors","includes","selectEventIdsForYear","activeYear","filter","map","useInterval","interval","cb","invokeInitially","useState","active","setActive","idRef","useRef","useEffect","req","current","clearTimeout","AuthWall","open","setOpen","setPassword","errorText","setErrorText","validateAuth","useCallback","isAuthTokenValid","TOKEN_EXPIRY_SAFETY_MARGIN","resetTextField","Dialog","onClose","aria-labelledby","DialogContent","TextField","autoFocus","margin","label","className","fullWidth","value","onChange","onFocus","helperText","DialogActions","Button","variant","color","onClick","login","centerContentStyle","onResize","contentWidth","Math","min","round","window","innerWidth","width","getCenterContentStyle","addEventListener","ColorlibConnector","withStyles","alternativeLabel","top","backgroundImage","completed","line","height","border","backgroundColor","borderRadius","StepConnector","useColorlibStepIconStyles","makeStyles","root","zIndex","display","justifyContent","alignItems","cursor","boxShadow","ColorlibStepIcon","props","classes","icons","1","2","3","String","icon","TopNavigation","dispatch","useDispatch","useSelector","styles","Stepper","TopNavigationStepper","style","connector","Step","StepLabel","StepIconComponent","TopNavigationSpacer","createTable","inStart","inEnd","outStart","outEnd","roundTo","max","getters","calcPointsForExceptional","getPoints","disc","fn","getAge","birthYear","getFullYear","getBirthYear","age","getRanks","eventIds","competitionClasses","forEach","groupKey","ageClass","genderKey","curPoints","curRank","rankings","res","curResults","curRes","points","k","sort","b","rank","c","ranking","find","addRanks","charCodeAt","speedDialActions","BottomNavigation","rankedCompetitorList","speedDialOpen","setSpeedDialOpen","onCta","ctaIcon","ctaColor","s","Cta","Fab","aria-label","SpeedDial","ariaLabel","hidden","SpeedDialIcon","onOpen","direction","SpeedDialAction","tooltipTitle","fetchPrint","useListStyles","theme","card","cardActive","palette","secondary","light","cardContent","gridTemplateColumns","cardActions","justifySelf","alignSelf","contrastText","grey","gymnasticsTag","primary","main","useManagerStyles","flexRow","gridRow","gridGap","spacer","flexShrink","marginTop","useWorkSpaceStyles","row","editor","editorEntry","flexWrap","editorIcon","editorPoints","marginLeft","gymnasticsResult","useFilterStyles","filterGroup","marginRight","EventList","activeEventId","eventList","setEventList","deleteIndex","setDeleteIndex","refresh","getEventsOnMount","onEdit","stopPropagation","index","Card","elevation","onDoubleClick","CardContent","Typography","reverse","CardActions","IconButton","paragraph","parseCommaSeparation","input","replace","EventManager","saveAndExit","parsedGymnastics","onKeyDown","noValidate","autoComplete","FormControlLabel","control","Switch","checked","inputProps","labelPlacement","FormGroup","Checkbox","ages","multiline","rowsMax","CompetitorList","selectedCompetitorIds","competitorList","setCompetitorList","doSave","setDoSave","getCompetitorsOnMount","noActiveEvent","selected","CompetitorManager","FormControl","InputLabel","Select","labelId","MenuItem","weights","WeightType","weightDisciplines","ListFilters","filters","setFilter","filterList","setFilterList","element","every","ButtonGroup","prevState","undefined","GymnasticsList","gymnasticsList","gymResults","setGymResults","overflow","textOverflow","WorkSpace","eventIdsForYear","activeCompetitorId","setActiveCompetitorId","sync","bodyWeight","weightValue","getWeight","NoInternetWall","textAlign","MainView","children","scroll","mainView","App","activeEventName","triggerRerender","resize","removeEventListener","title","ReactDOM","render","store","configureStore","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d6322157.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const steps = [ 'Erstellen', 'Teilnehmer', 'Wettbewerb' ];\n\nexport const ActiveContent = {\n    EVENT_LIST: 'event-list',\n    EVENT_MANAGER: 'event-manager',\n    COMPETITOR_LIST: 'competitor-list',\n    COMPETITOR_MANAGER: 'competitor-manager',\n    WORK_SPACE: 'work-space'\n};\n\nconst ContentToStep = {\n    [ActiveContent.EVENT_LIST]: 'Erstellen',\n    [ActiveContent.EVENT_MANAGER]: 'Erstellen',\n    [ActiveContent.COMPETITOR_LIST]: 'Teilnehmer',\n    [ActiveContent.COMPETITOR_MANAGER]: 'Teilnehmer',\n    [ActiveContent.WORK_SPACE]: 'Wettbewerb'\n};\n\nfunction getStepFromContent(content) {\n    return ContentToStep[content];\n}\n\nfunction getContentFromStep(step) {\n    const keys = Object.keys(ContentToStep);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (ContentToStep[key] === step) {\n            return key;\n        }\n    }\n}\n\nexport const navigationSlice = createSlice({\n    name: 'navigation',\n    initialState: {\n        activeContent: ActiveContent.EVENT_LIST,\n        activeStep: getStepFromContent(ActiveContent.EVENT_LIST)\n    },\n    reducers: {\n        setActiveContent: (state, action) => {\n            state.activeContent = action.payload;\n            state.activeStep = getStepFromContent(action.payload);\n        },\n        setActiveStep: (state, action) => {\n            state.activeContent = getContentFromStep(action.payload);\n            state.activeStep = action.payload;\n        }\n    }\n});\n\nexport const {\n    setActiveContent,\n    setActiveStep\n} = navigationSlice.actions;\n\nexport default navigationSlice.reducer;\n","// layout\nexport const MAX_CONTENT_WIDTH = 640; // px\nexport const CONTENT_WIDTH_FROM_VW = 0.95; // percent\nexport const MOBILE_BREAKPOINT = 576; // px\nexport const MUI_INPUT_FIELD_MARGIN = 'dense'; // mui native property\n\n// timing\nexport const EVENT_LIST_REFRESH_INTERVAL = 15; // seconds\nexport const COMPETITOR_LIST_REFRESH_INTERVAL = 15; // seconds\nexport const WORK_SPACE_SYNCH_INTERVAL = 5; // seconds\n\n// request service\nexport const O_AUTH_2_USER_NAME = 'michi_mueller';\nexport const TOKEN_EXPIRY_SAFETY_MARGIN = 60; // seconds","import { TOKEN_EXPIRY_SAFETY_MARGIN } from '../constants';\n\nexport const PrintLayout = {\n    CERTIFICATES: 'certificates',\n    PROTOCOL: 'protocol'\n};\n\nfunction encodeURI(data) {\n    const formBody = [];\n    for (const key in data) {\n        const encodedKey = encodeURIComponent(key);\n        const encodedValue = encodeURIComponent(data[key]);\n        formBody.push(`${encodedKey}=${encodedValue}`);\n    }\n    return formBody.join('&');\n}\n\n\nclass RequestService {\n    baseUrl = '';\n    oAuth2_access_token = '';\n    tokenExpiryDate = null;\n\n    constructor() {\n        this.baseUrl = process.env.NODE_ENV === 'development'\n            ? 'http://127.0.0.1'\n            : 'https://wolke.glencoden.de';\n    }\n\n    get(url) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => fetch(url, { method: 'GET', headers }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    post(url, data) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers,\n                body\n            }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    put(url, data) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'PUT',\n                headers,\n                body\n            }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    delete(url) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => fetch(url, { method: 'DELETE', headers }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    _postEncodeURI(url, data) {\n        return Promise.resolve()\n            .then(() => encodeURI(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' },\n                body\n            }))\n            .then(resp => {\n                if (resp.ok) {\n                    return resp.json();\n                }\n                return Promise.reject(resp);\n            });\n    }\n\n    login(username, password) {\n        return this._postEncodeURI(`${this.baseUrl}/auth/login`, { username, password, grant_type: 'password', client_id: null, client_secret: null })\n            .then(resp => {\n                // set token and expiry time\n                this.oAuth2_access_token = resp.access_token;\n                const expiryDate = new Date();\n                expiryDate.setSeconds(expiryDate.getSeconds() + resp.expires_in - TOKEN_EXPIRY_SAFETY_MARGIN);\n                this.tokenExpiryDate = expiryDate;\n\n                // clear database cache of deleted events and competitors older than stale time (server variable)\n                this.get(`${this.baseUrl}/tsc/clear_database`)\n                    .then(resp => {\n                        if (!resp?.success) {\n                            console.warn('error trying to clear database cache');\n                        }\n                    });\n\n                return {\n                    success: true\n                };\n            });\n    }\n\n    isAuthTokenValid() {\n        return new Date() < this.tokenExpiryDate;\n    }\n\n    fetchPrint(layout, competitors) {\n        const data = { competitors };\n        const url = `${this.baseUrl}/tsc/print?layout=${layout}`;\n\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n\n        Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers,\n                body\n            }))\n            .then(response => response.blob())\n            .then(blob => {\n                const url = URL.createObjectURL(new Blob([ blob ], { type: 'application/pdf' }));\n                const a = document.createElement('a');\n                a.href = url;\n                a.target = '_blank';\n                a.click();\n                setTimeout(() => URL.revokeObjectURL(url), 100);\n            })\n            .catch(err => console.error(err));\n    }\n}\n\nexport const requestService = new RequestService();","export const Gender = {\n    FEMALE: 'W',\n    MALE: 'M'\n};\n\nexport const Ages = [ 9, 10, 11, 12, 13, 14 ];\n\nexport const Group = {\n    A: 'Kinder',\n    B: 'Schüler'\n};\n\nexport const AgesPerGroup = {\n    [Group.A]: [ 9, 10, 11, 12 ],\n    [Group.B]: [ 13, 14 ]\n};\n\nexport const Discipline = {\n    PUSH: 'Bankdrücken',\n    PULL: 'Zug liegend',\n    SNATCH: 'Reißen',\n    CLEAN_AND_JERK: 'Stoßen',\n    PULL_UP: 'Klimmziehen',\n    T2B: 'Anristen',\n    SCHO: 'SCHO',\n    H1: 'H1',\n    LT: 'LT',\n    DR_M: '30m',\n    SW: 'SW',\n    SD: 'SD',\n    PL: 'PL',\n    GYM: 'Turnen'\n};\n\nexport const Exceptional = {\n    GYMNASTICS: Discipline.GYM\n};","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from '../../services/requestService';\nimport { Discipline, Group } from '../../competition-logic/values';\n\nfunction getDraftEvent() {\n    return {\n        id: 0,\n        name: '',\n        date: new Date().toISOString().split('T')[0],\n        place: '',\n        host: '',\n        start: '16:30',\n        final: false,\n        disciplines: Object.values(Discipline).reduce((r, e) => ({ ...r, [e]: false }), {}),\n        gymnastics: {\n            [Group.A]: '',\n            [Group.B]: ''\n        },\n        competitorIds: []\n    };\n}\n\nconst eventsEndpoint = '/tsc/events';\n\nexport const getEvents = createAsyncThunk(\n    'events/getEvents',\n    async () => {\n        return await requestService.get(`${requestService.baseUrl}${eventsEndpoint}`);\n    }\n);\n\nexport const saveEvent = createAsyncThunk(\n    'events/saveEvent',\n    async event => {\n        if (!event.id) {\n            return await requestService.post(`${requestService.baseUrl}${eventsEndpoint}`, event);\n        }\n        return await requestService.put(`${requestService.baseUrl}${eventsEndpoint}`, event);\n    }\n);\n\nexport const deleteEvent = createAsyncThunk(\n    'events/deleteEvent',\n    async id => {\n        return await requestService.delete(`${requestService.baseUrl}${eventsEndpoint}?id=${id}`);\n    }\n);\n\nexport const eventsSlice = createSlice({\n    name: 'events',\n    initialState: {\n        all: {},\n        activeId: 0,\n        draft: getDraftEvent()\n    },\n    reducers: {\n        resetDraft: state => {\n            state.draft = getDraftEvent();\n        },\n        setEventId: (state, action) => {\n            state.activeId = action.payload;\n        },\n        addCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            state.all[state.activeId].competitorIds.push(action.payload);\n        },\n        removeCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            const activeEvent = state.all[state.activeId];\n            activeEvent.competitorIds.splice(activeEvent.competitorIds.indexOf(action.payload), 1);\n        },\n        editEvent: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setDate: (state, action) => {\n            state.draft.date = action.payload;\n        },\n        setPlace: (state, action) => {\n            state.draft.place = action.payload;\n        },\n        setHost: (state, action) => {\n            state.draft.host = action.payload;\n        },\n        setStart: (state, action) => {\n            state.draft.start = action.payload;\n        },\n        toggleFinal: state => {\n            state.draft.final = !state.draft.final;\n        },\n        toggleDiscipline: (state, action) => {\n            state.draft.disciplines[action.payload] = !state.draft.disciplines[action.payload];\n        },\n        setGymnastics: (state, action) => {\n            if (!action.payload.group) {\n                return;\n            }\n            state.draft.gymnastics[action.payload.group] = action.payload.gymnastics;\n        }\n    },\n    extraReducers: {\n        [getEvents.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting events');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), {});\n        },\n        [deleteEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting event');\n                return;\n            }\n            if (state.activeId === Number(action.payload.id)) {\n                state.activeId = 0;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving event');\n                return;\n            }\n            state.all[action.payload.event.id] = action.payload.event;\n            state.activeId = action.payload.event.id;\n            state.draft = getDraftEvent();\n        }\n    }\n});\n\nexport const {\n    resetDraft,\n    setEventId,\n    addCompetitorId,\n    removeCompetitorId,\n    editEvent,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleFinal,\n    toggleDiscipline,\n    setGymnastics\n} = eventsSlice.actions;\n\nexport default eventsSlice.reducer;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from '../../services/requestService';\nimport { Gender } from '../../competition-logic/values';\n\nfunction getDraftCompetitor() {\n    return {\n        id: 0,\n        name: '',\n        gender: Gender.FEMALE,\n        year: new Date().toISOString().split('T')[0].split('-')[0] - 9,\n        weight: {},\n        club: '',\n        results: {}\n    };\n}\n\nconst competitorsEndpoint = '/tsc/competitors';\n\nexport const getCompetitors = createAsyncThunk(\n    'competitors/getCompetitors',\n    async () => {\n        return await requestService.get(`${requestService.baseUrl}${competitorsEndpoint}`);\n    }\n);\n\nexport const saveCompetitor = createAsyncThunk(\n    'competitors/saveCompetitor',\n    async competitor => {\n        if (!competitor.id) {\n            return await requestService.post(`${requestService.baseUrl}${competitorsEndpoint}`, competitor);\n        }\n        return await requestService.put(`${requestService.baseUrl}${competitorsEndpoint}`, competitor);\n    }\n);\n\nexport const deleteCompetitor = createAsyncThunk(\n    'competitors/deleteCompetitor',\n    async id => {\n        return await requestService.delete(`${requestService.baseUrl}${competitorsEndpoint}?id=${id}`);\n    }\n);\n\nexport const competitorsSlice = createSlice({\n    name: 'competitors',\n    initialState: {\n        all: {},\n        draft: getDraftCompetitor(),\n        activeEventIds: [],\n    },\n    reducers: {\n        resetCompetitors: state => {\n            state.draft = getDraftCompetitor();\n        },\n        editCompetitor: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setGender: (state, action) => {\n            state.draft.gender = action.payload;\n        },\n        setYear: (state, action) => {\n            state.draft.year = action.payload;\n        },\n        setWeight: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a weight without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a weight without a competitor id');\n                return;\n            }\n            state.all[action.payload.competitorId].weight[action.payload.eventId] = action.payload.weight;\n        },\n        setClub: (state, action) => {\n            state.draft.club = action.payload;\n        },\n        setResult: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a result without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a result without a competitor id');\n                return;\n            }\n            if (!state.all[action.payload.competitorId].results[action.payload.eventId]) {\n                state.all[action.payload.competitorId].results[action.payload.eventId] = {};\n            }\n            state.all[action.payload.competitorId].results[action.payload.eventId][action.payload.discipline] = action.payload.result;\n        },\n        setActiveEventIds: (state, action) => {\n            state.activeEventIds = action.payload;\n        }\n    },\n    extraReducers: {\n        [getCompetitors.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting competitors');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), state.all);\n        },\n        [deleteCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting competitor');\n                return;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving competitor');\n                return;\n            }\n            state.all[action.payload.competitor.id] = action.payload.competitor;\n            state.draft = getDraftCompetitor();\n        }\n    }\n});\n\nexport const {\n    resetCompetitors,\n    editCompetitor,\n    setName,\n    setGender,\n    setYear,\n    setWeight,\n    setClub,\n    setResult,\n    setActiveEventIds\n} = competitorsSlice.actions;\n\nexport default competitorsSlice.reducer;\n","import navigation from '../features/Navigation/navigationSlice';\nimport events from '../features/Events/eventsSlice';\nimport competitors from '../features/Competitors/competitorsSlice';\n\nconst reducer = {\n    navigation,\n    events,\n    competitors,\n};\n\nexport default reducer;","export const defaultValues = {\n    ARRAY: [],\n    OBJECT: {},\n    FUNCTION: () => {}\n}\n\nexport function isObject(val) {\n    return val !== null && typeof val !== 'function' && typeof val === 'object' && !Array.isArray(val);\n}","import { defaultValues } from '../util/helpers';\n\nexport const selectActiveEvent = state => state.events.activeId ? state.events.all[state.events.activeId] : defaultValues.OBJECT;\n\nexport const selectActiveCompetitors = state => {\n    const activeEvent = selectActiveEvent(state);\n    const competitorIds = activeEvent.competitorIds || [];\n    return Object.keys(state.competitors.all).reduce((r, e) => competitorIds.includes(Number(e)) ? [ ...r, state.competitors.all[e] ] : r, []);\n};\n\nexport const selectEventIdsForYear = state => {\n    const activeYear = selectActiveEvent(state).date?.split('-')[0];\n    if (!activeYear) {\n        return defaultValues.ARRAY;\n    }\n    return Object.values(state.events.all)\n        .filter(e => e.date?.split('-')[0] === activeYear)\n        .map(e => e.id);\n};","import { useState, useRef, useEffect } from 'react';\n\n\nfunction useInterval(interval, cb, invokeInitially = true) {\n    const [ active, setActive ] = useState(true);\n    const idRef = useRef(0);\n\n    useEffect(() => {\n        if (!active) {\n            return;\n        }\n        const req = () => {\n            cb();\n            idRef.current = setTimeout(() => req(), interval * 1000);\n        };\n        if (invokeInitially) {\n            req();\n        } else {\n            idRef.current = setTimeout(() => req(), interval * 1000);\n        }\n        return () => clearTimeout(idRef.current);\n    }, [ active, interval, cb, invokeInitially ]);\n\n    return [ active, setActive ];\n}\n\nexport default useInterval;","import { useState, useCallback } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, TextField } from '@material-ui/core';\nimport { requestService } from '../../services/requestService';\nimport useInterval from '../../hooks/useInterval';\nimport { O_AUTH_2_USER_NAME, TOKEN_EXPIRY_SAFETY_MARGIN } from '../../constants';\n\n\nfunction AuthWall() {\n    const [ open, setOpen ] = useState(true);\n    const [ password, setPassword ] = useState('');\n    const [ errorText, setErrorText ] = useState('');\n\n    const validateAuth = useCallback(\n        () => {\n            if (requestService.isAuthTokenValid()) {\n                return\n            }\n            setOpen(true);\n        },\n        []\n    );\n\n    useInterval(TOKEN_EXPIRY_SAFETY_MARGIN / 2, validateAuth);\n\n    const resetTextField = () => {\n        setPassword('');\n        setErrorText('');\n    };\n\n    const onLoginButtonClick = () => {\n        requestService.login(O_AUTH_2_USER_NAME, password)\n            .then(response => {\n                if (!response.success) {\n                    setErrorText('Unbekannter Fehler');\n                    return;\n                }\n                setOpen(false);\n                resetTextField();\n            })\n            .catch(() => {\n                setErrorText('Falsches Passwort');\n            });\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => {}}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"normal\"\n                    id=\"pw\"\n                    label={<span className=\"material-icons\">vpn_key</span>}\n                    type=\"password\"\n                    fullWidth\n                    value={password}\n                    onChange={({ target }) => setPassword(target.value)}\n                    onFocus={resetTextField}\n                    error={!!errorText}\n                    helperText={errorText}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={onLoginButtonClick}\n                >\n                    Login\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default AuthWall;","import { getContentWidth } from './getContentWidth';\n\nlet centerContentStyle = {};\n\nfunction onResize() {\n    const contentWidth = getContentWidth();\n    centerContentStyle = {\n        width: `${contentWidth}px`,\n        margin: `0 ${(window.innerWidth - contentWidth) / 2}px`\n    };\n}\n\nonResize();\n\nwindow.addEventListener('resize', onResize);\n\nexport function getCenterContentStyle() {\n    return centerContentStyle;\n}","import { CONTENT_WIDTH_FROM_VW, MAX_CONTENT_WIDTH } from '../constants';\n\nexport function getContentWidth() {\n    return Math.min(MAX_CONTENT_WIDTH, Math.round(CONTENT_WIDTH_FROM_VW * window.innerWidth));\n}","import { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, StepConnector } from '@material-ui/core';\nimport { steps, setActiveStep } from '../navigationSlice';\nimport styles from './TopNavigation.module.css';\nimport { getCenterContentStyle } from '../../../util/getCenterContentStyle';\n\nconst topNavBackgroundColor = '#fff';\n\nconst ColorlibConnector = withStyles({\n    alternativeLabel: {\n        top: 22\n    },\n    active: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    completed: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    line: {\n        height: 3,\n        border: 0,\n        backgroundColor: '#eaeaf0',\n        borderRadius: 1\n    }\n})(StepConnector);\n\nconst useColorlibStepIconStyles = makeStyles({\n    root: {\n        backgroundColor: '#ccc',\n        zIndex: 1,\n        color: topNavBackgroundColor,\n        width: 50,\n        height: 50,\n        display: 'flex',\n        borderRadius: '50%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: 'pointer'\n    },\n    active: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\n        boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n    },\n    completed: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)'\n    }\n});\n\nfunction ColorlibStepIcon(props) {\n    const classes = useColorlibStepIconStyles();\n    const { active, completed } = props;\n\n    const icons = {\n        1: <span className=\"material-icons\">event_note</span>,\n        2: <span className=\"material-icons\">people_alt</span>,\n        3: <span className=\"material-icons\">emoji_events</span>\n    };\n\n    return (\n        <div\n            className={`${classes.root}${active ? ` ${classes.active}` : ''}${completed ? ` ${classes.completed}` : ''}`}>\n            {icons[String(props.icon)]}\n        </div>\n    );\n}\n\n\nfunction TopNavigation() {\n    const dispatch = useDispatch();\n    const activeStep = useSelector(state => state.navigation.activeStep);\n\n    return (\n        <>\n            <div className={styles.TopNavigation}>\n                <Stepper\n                    className={styles.TopNavigationStepper}\n                    style={getCenterContentStyle()}\n                    alternativeLabel\n                    activeStep={steps.indexOf(activeStep)}\n                    connector={<ColorlibConnector/>}\n                >\n                    {steps.map(step => (\n                        <Step\n                            key={step}\n                            onClick={() => dispatch(setActiveStep(step))}\n                        >\n                            <StepLabel StepIconComponent={ColorlibStepIcon}/>\n                        </Step>\n                    ))}\n                </Stepper>\n            </div>\n            <div className={styles.TopNavigationSpacer}/>\n        </>\n    );\n}\n\nexport default TopNavigation;","import { Discipline, Exceptional } from './values';\n\nfunction createTable(inStart, inEnd, outStart, outEnd, roundTo = 1) {\n    return function(val) {\n        return Math.max(Math.round(((outStart - outEnd) * (val - inStart) / (inStart - inEnd) + outStart) / roundTo), 0) * roundTo;\n    }\n}\n\nconst getters = {\n    // Jan 2021: 15 reps with 2 points each\n    [Discipline.PUSH]: createTable(0, 15, 0, 30),\n    [Discipline.PULL]: createTable(0, 15, 0, 30),\n    [Discipline.PULL_UP]: createTable(0, 15, 0, 30),\n    [Discipline.T2B]: createTable(0, 15, 0, 30),\n    // Jan 2021: values from printed table\n    [Discipline.H1]: createTable(10, 15.7, 45, 16),\n    [Discipline.LT]: createTable(11, 16, 50, 0),\n    [Discipline.DR_M]: createTable(4.3, 6.3, 40, 0),\n    [Discipline.SW]: createTable(1.35, 2.85, 0, 50),\n    [Discipline.SD]: createTable(4, 9, 0, 50),\n    [Discipline.SCHO]: createTable(3, 13, 0, 50),\n    [Discipline.PL]: createTable(9, 14, 50, 0),\n    // Jan 2021: coach inputs gymnastics points sum, result outputs x3\n    [Discipline.GYM]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.SNATCH]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.CLEAN_AND_JERK]: createTable(0, 10, 0, 30, 0.5),\n};\n\nexport const calcPointsForExceptional = {\n    [Exceptional.GYMNASTICS]: result => Object.values(result).reduce((r, e) => r + e, 0)\n};\n\nexport function getPoints(disc, result) {\n    const fn = getters[disc];\n    if (typeof fn !== 'function') {\n        return 0;\n    }\n    if (Object.values(Exceptional).includes(disc)) {\n        result = calcPointsForExceptional[disc](result);\n    }\n    return fn(result);\n}\n","export function getAge(birthYear) {\n    return new Date().getFullYear() - Number(birthYear);\n}\n\nexport function getBirthYear(age) {\n    return new Date().getFullYear() - age;\n}","import { getPoints } from '../../competition-logic/points';\nimport { AgesPerGroup, Gender, Group } from '../../competition-logic/values';\nimport { getAge } from '../../competition-logic/year';\n\nfunction addRanks(competitors, eventIds) {\n    let curPoints = -1;\n    let curRank = 1;\n    const rankings = competitors\n        .reduce((r, e) => {\n            const results = eventIds.reduce((res, id) => {\n                const curResults = e.results[id];\n                if (!curResults) {\n                    return r;\n                }\n                Object.keys(curResults).forEach(curRes => {\n                    if (typeof r[curRes] !== 'number') {\n                        r[curRes] = curResults[curRes];\n                        return;\n                    }\n                    r[curRes] = r[curRes] + curResults[curRes];\n                });\n                return r;\n            }, {});\n            return [\n                ...r,\n                {\n                    id: e.id,\n                    points: Object.keys(results).reduce((r, k) => results[k] ? r + getPoints(k, results[k]) : r, 0)\n                }\n            ];\n        }, [])\n        .sort((a, b) => b.points - a.points)\n        .map(e => {\n            if (curPoints > e.points) {\n                curRank++;\n                curPoints = e.points;\n            }\n            if (curPoints === -1) {\n                curPoints = e.points;\n            }\n            return {\n                ...e,\n                rank: curRank\n            };\n        });\n    return competitors.map(c => {\n        const ranking = rankings.find(e => e.id === c.id);\n        const { points, rank } = ranking;\n        return {\n            ...c,\n            points,\n            rank\n        };\n    });\n}\n\nexport function getRanks(competitors, eventIds) {\n    const competitionClasses = [];\n    Object.values(Group).forEach(groupKey => {\n        const ageClass = competitors.filter(e => AgesPerGroup[groupKey].includes(getAge(e.year)));\n        Object.values(Gender).forEach(genderKey => {\n            competitionClasses.push(ageClass.filter(e => genderKey === e.gender));\n        });\n    });\n    return competitionClasses\n        .reduce((r, e) => [ ...r, ...addRanks(e, eventIds) ], [])\n        .sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0));\n}\n","import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport s from './BottomNavigation.module.css';\nimport { Fab } from '@material-ui/core';\nimport { SpeedDial, SpeedDialIcon, SpeedDialAction } from '@material-ui/lab';\nimport { ActiveContent, setActiveContent } from '../navigationSlice';\nimport { saveCompetitor } from '../../Competitors/competitorsSlice';\nimport { getCenterContentStyle } from '../../../util/getCenterContentStyle';\nimport { MOBILE_BREAKPOINT } from '../../../constants';\nimport { PrintLayout, requestService } from '../../../services/requestService';\nimport { selectActiveCompetitors } from '../../../redux/selectors';\nimport { getRanks } from '../../WorkSpace/util';\n\nconst speedDialActions = [\n    {\n        icon: <span className=\"material-icons\">event_note</span>,\n        name: 'Protokoll',\n        layout: PrintLayout.PROTOCOL\n    },\n    {\n        icon: <span className=\"material-icons\">people_alt</span>,\n        name: 'Urkunden',\n        layout: PrintLayout.CERTIFICATES\n    }\n];\n\n\nfunction BottomNavigation() {\n    const dispatch = useDispatch();\n    const activeContent = useSelector(state => state.navigation.activeContent);\n    const competitors = useSelector(selectActiveCompetitors);\n    const activeEventIds = useSelector(state => state.competitors.activeEventIds);\n    const rankedCompetitorList = getRanks(competitors, activeEventIds);\n\n    const [ speedDialOpen, setSpeedDialOpen ] = useState(false);\n\n    let onCta = null;\n    let ctaIcon = '';\n    let ctaColor = '';\n\n    switch (activeContent) {\n        case ActiveContent.EVENT_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.EVENT_MANAGER:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_LIST));\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        case ActiveContent.COMPETITOR_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.COMPETITOR_MANAGER:\n            onCta = () => {\n                dispatch(saveCompetitor());\n                dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n            };\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        default:\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n    }\n\n    return (\n        <footer\n            className={s.BottomNavigation}\n            style={getCenterContentStyle()}\n        >\n            <div className={s.Cta}>\n                {activeContent !== ActiveContent.WORK_SPACE && (\n                    <Fab\n                        color={ctaColor}\n                        aria-label=\"add\"\n                        onClick={onCta}\n                    >\n                        <span className=\"material-icons\">\n                            {ctaIcon}\n                        </span>\n                    </Fab>\n                )}\n                {activeContent === ActiveContent.WORK_SPACE && window.innerWidth > MOBILE_BREAKPOINT && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial example\"\n                        hidden={false}\n                        icon={<SpeedDialIcon/>}\n                        onClose={() => setSpeedDialOpen(false)}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                        direction=\"up\"\n                    >\n                        {speedDialActions.map(action => (\n                            <SpeedDialAction\n                                key={action.name}\n                                icon={action.icon}\n                                tooltipTitle={action.name}\n                                onClick={() => {\n                                    requestService.fetchPrint(action.layout, rankedCompetitorList);\n                                    setSpeedDialOpen(false);\n                                }}\n                            />\n                        ))}\n                    </SpeedDial>\n                )}\n            </div>\n        </footer>\n    );\n}\n\nexport default BottomNavigation;","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useListStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    cardActive: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    cardContent: {\n        display: 'grid',\n        gridTemplateColumns: 'auto 160px'\n    },\n    cardActions: {\n        justifySelf: 'end',\n        alignSelf: 'start'\n    },\n    contrastText: {\n        color: theme.palette.grey['100']\n    },\n    gymnasticsTag: {\n        color: theme.palette.primary.main\n    }\n}));\n\nexport const useManagerStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    flexRow: {\n        display: 'flex'\n    },\n    gridRow: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    spacer: {\n        width: '10px',\n        flexShrink: 0\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useWorkSpaceStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    row: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    editor: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    editorEntry: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'center'\n    },\n    editorIcon: {\n        color: theme.palette.grey['300']\n    },\n    editorPoints: {\n        marginLeft: '10px'\n    },\n    gymnasticsResult: {\n        alignSelf: 'center',\n        display: 'flex',\n        alignItems: 'center'\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useFilterStyles = makeStyles(theme => ({\n    filter: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '10px'\n    },\n    filterGroup: {\n        marginRight: '10px'\n    }\n}));","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { deleteEvent, setEventId, editEvent, getEvents } from '../eventsSlice';\nimport { Exceptional } from '../../../competition-logic/values';\nimport { isObject } from '../../../util/helpers';\nimport { useListStyles } from '../../../styles/styleHooks';\nimport useInterval from '../../../hooks/useInterval';\nimport { EVENT_LIST_REFRESH_INTERVAL } from '../../../constants';\n\n\nfunction EventList() {\n    const dispatch = useDispatch();\n    const events = useSelector(state => state.events.all);\n    const activeEventId = useSelector(state => state.events.activeId);\n    const classes = useListStyles();\n\n    const [ eventList, setEventList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n\n    const refresh = useCallback(() => dispatch(getEvents()), [ dispatch ]);\n    const getEventsOnMount = !isObject(events) || Object.keys(events).length === 0;  // only get events on mount if there's no current data set\n    useInterval(EVENT_LIST_REFRESH_INTERVAL, refresh, getEventsOnMount);\n\n    useEffect(() => {\n        if (!isObject(events)) {\n            return;\n        }\n        setEventList(\n            Object.values(events).sort((a, b) => new Date(a.date) - new Date(b.date))\n        );\n    }, [ events ]);\n\n    const onEdit = (e, id) => {\n        e.stopPropagation();\n        dispatch(editEvent(id));\n        dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n    }\n\n    if (!eventList.length) {\n        return null;\n    }\n\n    return (\n        <div>\n            {eventList.map((event, index) => {\n                const active = event.id === activeEventId;\n                return (\n                    <Card\n                        key={event.id}\n                        className={`${classes.card} ${active && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => dispatch(setEventId(event.id))}\n                        onDoubleClick={e => onEdit(e, event.id)}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    {event.final && (\n                                        <Typography variant=\"overline\" color=\"primary\" display=\"block\">\n                                            {`Jahresabschluss ${event.date.split('-')[0]}`}\n                                        </Typography>\n                                    )}\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {event.date.split('-').reverse().join('.')} / {event.start} Uhr\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {event.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === index ? (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteEvent(event.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => onEdit(e, event.id)}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(index);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            {(event.place || event.host) && (\n                                <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" paragraph>\n                                    {`${event.place}${(event.place && event.host) ? ' | ' : ''}${event.host}`}\n                                </Typography>\n                            )}\n                            <Typography variant=\"body1\">\n                                {Object.keys(event.disciplines).reduce((r, e) => event.disciplines[e] ? `${r}${r.length ? ', ' : ''}${e}` : r, '')}\n                            </Typography>\n                            {event.disciplines[Exceptional.GYMNASTICS] && Object.keys(event.gymnastics).map(key => (\n                                <Typography key={key} variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                    <span className={classes.gymnasticsTag}>Turnen {key}:</span> {event.gymnastics[key]}\n                                </Typography>\n                            ))}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default EventList;","export function parseCommaSeparation(input) {\n    const matchDoubleSpace = /\\s+/gm;\n    const matchCommaSpaces = /[,\\s]*,[,\\s]*/gm;\n    return input\n        .replace(matchDoubleSpace, ' ')\n        .replace(matchCommaSpaces, ', ');\n}","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    Card,\n    CardContent,\n    CardActions,\n    Button,\n    Checkbox,\n    FormControlLabel,\n    FormGroup,\n    TextField,\n    Switch\n} from '@material-ui/core';\nimport {\n    saveEvent,\n    resetDraft,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleDiscipline,\n    setGymnastics,\n    toggleFinal\n} from '../eventsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { AgesPerGroup, Exceptional } from '../../../competition-logic/values';\nimport { getBirthYear } from '../../../competition-logic/year';\nimport { useManagerStyles } from '../../../styles/styleHooks';\nimport { parseCommaSeparation } from './util';\nimport { MUI_INPUT_FIELD_MARGIN } from '../../../constants';\n\n\nfunction EventManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.events.draft.id);\n    const name = useSelector(state => state.events.draft.name);\n    const date = useSelector(state => state.events.draft.date);\n    const place = useSelector(state => state.events.draft.place);\n    const host = useSelector(state => state.events.draft.host);\n    const start = useSelector(state => state.events.draft.start);\n    const final = useSelector(state => state.events.draft.final);\n    const disciplines = useSelector(state => state.events.draft.disciplines);\n    const gymnastics = useSelector(state => state.events.draft.gymnastics);\n    const competitorIds = useSelector(state => state.events.draft.competitorIds);\n\n    const classes = useManagerStyles();\n\n    // reset draft on unmount\n    useEffect(() => () => dispatch(resetDraft()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        const parsedGymnastics = Object.keys(gymnastics)\n            .reduce((result, key) => ({ ...result, [key]: parseCommaSeparation(gymnastics[key]) }), {});\n        dispatch(saveEvent({\n            id,\n            name,\n            date,\n            place,\n            host,\n            start,\n            final,\n            disciplines,\n            gymnastics: parsedGymnastics,\n            competitorIds\n        }));\n        dispatch(setActiveContent(ActiveContent.EVENT_LIST));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-name\"\n                            label=\"Wettbewerb\"\n                            variant=\"filled\"\n                            value={name}\n                            onChange={event => dispatch(setName(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <FormControlLabel\n                            control={\n                                <Switch\n                                    checked={final}\n                                    onChange={() => dispatch(toggleFinal())}\n                                    name=\"Jahresabschluss\"\n                                    color=\"primary\"\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                                />\n                            }\n                            label=\"Jahresab.\"\n                            labelPlacement=\"top\"\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"date\"\n                            label=\"Datum\"\n                            type=\"date\"\n                            variant=\"filled\"\n                            value={date}\n                            onChange={event => dispatch(setDate(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <div className={classes.spacer}/>\n                        <TextField\n                            id=\"time\"\n                            label=\"Beginn\"\n                            type=\"time\"\n                            variant=\"filled\"\n                            value={start}\n                            onChange={event => dispatch(setStart(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                            inputProps={{\n                                step: 300 // 5 min\n                            }}\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-place\"\n                            label=\"Wettkampf Ort\"\n                            variant=\"filled\"\n                            value={place}\n                            onChange={event => dispatch(setPlace(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <div className={classes.spacer}/>\n                        <TextField\n                            id=\"filled-host\"\n                            label=\"Ausrichter\"\n                            variant=\"filled\"\n                            value={host}\n                            onChange={event => dispatch(setHost(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                    </div>\n\n                    <FormGroup row>\n                        {Object.keys(disciplines).map(key => (\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        checked={disciplines[key]}\n                                        onChange={() => dispatch(toggleDiscipline(key))}\n                                        name={key}\n                                        color={key === Exceptional.GYMNASTICS ? 'primary' : 'secondary'}\n                                    />\n                                }\n                                label={key}\n                                key={key}\n                            />\n                        ))}\n                    </FormGroup>\n\n                    {disciplines[Exceptional.GYMNASTICS] && Object.keys(gymnastics).map(key => {\n                        const ages = AgesPerGroup[key];\n                        return (\n                            <div key={key} className={classes.marginTop}>\n                                <h3>{`Turnen ${key} (Jahrgang ${getBirthYear(ages[ages.length - 1])} - ${getBirthYear(ages[0])})`}</h3>\n                                <TextField\n                                    id=\"outlined-multiline-flexible\"\n                                    label=\"Übungen\"\n                                    multiline\n                                    rowsMax={4}\n                                    variant=\"outlined\"\n                                    value={gymnastics[key]}\n                                    onChange={event => dispatch(setGymnastics({\n                                        group: key,\n                                        gymnastics: event.target.value\n                                    }))}\n                                    margin={MUI_INPUT_FIELD_MARGIN}\n                                    fullWidth\n                                />\n                            </div>\n                        );\n                    })}\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default EventManager;","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { saveEvent, addCompetitorId, removeCompetitorId } from '../../Events/eventsSlice';\nimport { deleteCompetitor, editCompetitor, getCompetitors } from '../competitorsSlice';\nimport { useListStyles } from '../../../styles/styleHooks';\nimport { selectActiveEvent } from '../../../redux/selectors';\nimport { defaultValues, isObject } from '../../../util/helpers';\nimport useInterval from '../../../hooks/useInterval';\nimport { COMPETITOR_LIST_REFRESH_INTERVAL } from '../../../constants';\n\n\nfunction CompetitorList() {\n    const dispatch = useDispatch();\n    const competitors = useSelector(state => state.competitors.all);\n    const activeEvent = useSelector(selectActiveEvent);\n    const selectedCompetitorIds = activeEvent.competitorIds || defaultValues.ARRAY;\n\n    const classes = useListStyles();\n\n    const [ competitorList, setCompetitorList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n    const [ doSave, setDoSave ] = useState(false);\n\n    const refresh = useCallback(() => dispatch(getCompetitors()), [ dispatch ]);\n    const getCompetitorsOnMount = !isObject(competitors) || Object.keys(competitors).length === 0; // only get competitors on mount if there's no current data set\n    useInterval(COMPETITOR_LIST_REFRESH_INTERVAL, refresh, getCompetitorsOnMount);\n\n    useEffect(() => {\n        if (!isObject(competitors)) {\n            return;\n        }\n        setCompetitorList(\n            Object.values(competitors).sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0))\n        );\n    }, [ competitors ]);\n\n    useEffect(() => {\n        if (!doSave) {\n            return;\n        }\n        dispatch(saveEvent(activeEvent));\n        setDoSave(false);\n    }, [ dispatch, activeEvent, doSave ]);\n\n    if (!competitorList.length) {\n        return null;\n    }\n\n    return (\n        <div>\n            {competitorList.map((competitor, index) => {\n                const noActiveEvent = !activeEvent.id;\n                const selected = selectedCompetitorIds.includes(competitor.id);\n                return (\n                    <Card\n                        key={competitor.id}\n                        className={`${classes.card} ${selected && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (noActiveEvent) {\n                                return;\n                            }\n                            dispatch(selected ? removeCompetitorId(competitor.id) : addCompetitorId(competitor.id));\n                            setDoSave(true);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {`${competitor.year} | ${competitor.gender}`}\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {competitor.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === index ? (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteCompetitor(competitor.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(editCompetitor(competitor.id));\n                                                    dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(index);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                {competitor.club || 'Kein Verein'}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default CompetitorList;","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Button, TextField, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport {\n    resetCompetitors,\n    setName,\n    setGender,\n    setYear,\n    setClub,\n    saveCompetitor\n} from '../competitorsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { Gender, Ages } from '../../../competition-logic/values';\nimport { getBirthYear } from '../../../competition-logic/year';\nimport { useManagerStyles } from '../../../styles/styleHooks';\nimport { parseCommaSeparation } from '../../Events/EventManager/util';\nimport { MUI_INPUT_FIELD_MARGIN } from '../../../constants';\n\n\nfunction CompetitorManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.competitors.draft.id);\n    const name = useSelector(state => state.competitors.draft.name);\n    const gender = useSelector(state => state.competitors.draft.gender);\n    const year = useSelector(state => state.competitors.draft.year);\n    const weight = useSelector(state => state.competitors.draft.weight);\n    const club = useSelector(state => state.competitors.draft.club);\n    const results = useSelector(state => state.competitors.draft.results);\n\n    const classes = useManagerStyles();\n\n    useEffect(() => () => dispatch(resetCompetitors()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        dispatch(saveCompetitor({\n            id,\n            name: parseCommaSeparation(name),\n            gender,\n            year,\n            weight,\n            club: parseCommaSeparation(club),\n            results\n        }));\n        dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        id=\"filled-name\"\n                        label=\"Name\"\n                        variant=\"filled\"\n                        value={name}\n                        onChange={event => dispatch(setName(event.target.value))}\n                        margin={MUI_INPUT_FIELD_MARGIN}\n                        fullWidth\n                    />\n                    <TextField\n                        id=\"filled-club\"\n                        label=\"Verein\"\n                        variant=\"filled\"\n                        value={club}\n                        onChange={event => dispatch(setClub(event.target.value))}\n                        margin={MUI_INPUT_FIELD_MARGIN}\n                        fullWidth\n                    />\n                    <div className={classes.gridRow}>\n                        <FormControl margin={MUI_INPUT_FIELD_MARGIN}>\n                            <InputLabel id=\"demo-simple-select-label-gender\">Geschlecht</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-gender\"\n                                id=\"demo-simple-select-gender\"\n                                value={gender}\n                                onChange={event => dispatch(setGender(event.target.value))}\n                            >\n                                {Object.values(Gender).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                        <FormControl margin={MUI_INPUT_FIELD_MARGIN}>\n                            <InputLabel id=\"demo-simple-select-label-year\">Jahrgang</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-year\"\n                                id=\"demo-simple-select-year\"\n                                value={year}\n                                onChange={event => dispatch(setYear(event.target.value))}\n                            >\n                                {Ages.map(age => getBirthYear(age)).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default CompetitorManager;","import { Gender, Ages, Discipline } from './values';\nimport { getAge } from './year';\n\nconst weights = {\n    [Gender.FEMALE]: {\n        [Discipline.SCHO]: [ 2, 2, 2, 2, 3, 3 ],\n        [Discipline.PUSH]: [ 40, 45, 50, 55, 60, 65 ],\n        [Discipline.PULL]: [ 40, 45, 50, 50, 55, 60 ]\n    },\n    [Gender.MALE]: {\n        [Discipline.SCHO]: [ 2, 2, 3, 3, 4, 4 ],\n        [Discipline.PUSH]: [ 45, 50, 60, 65, 70, 75 ],\n        [Discipline.PULL]: [ 45, 50, 55, 60, 65, 70 ]\n    }\n};\n\nconst WeightType = {\n    KG: 'kg',\n    PERCENT: 'percent'\n};\n\nconst weightDisciplines = {\n    [Discipline.SCHO]: WeightType.KG,\n    [Discipline.PUSH]: WeightType.PERCENT,\n    [Discipline.PULL]: WeightType.PERCENT\n};\n\nexport function getWeight(birthYear, gender, bodyWeight, discipline) {\n    if (!weightDisciplines[discipline]) {\n        return 0;\n    }\n    const age = getAge(birthYear);\n    const weightValue = weights[gender][discipline][Ages.indexOf(age)];\n    switch (weightDisciplines[discipline]) {\n        case WeightType.KG:\n            return weightValue;\n        case WeightType.PERCENT:\n            return Math.round(bodyWeight * weightValue / 100);\n        default:\n    }\n}\n","import { useEffect, useState } from 'react';\nimport { Button, ButtonGroup } from '@material-ui/core';\nimport { useFilterStyles } from '../../../styles/styleHooks';\n\n\nfunction ListFilters({ filters, setFilter }) {\n    const classes = useFilterStyles();\n\n    const [ filterList, setFilterList ] = useState([]);\n\n    useEffect(() => {\n        setFilter(() => element => filterList.every(fn => typeof fn === 'function' ? fn(element) : true));\n    }, [ filterList, setFilter ]);\n\n    return (\n        <div className={classes.filter}>\n            {filters.map((filterGroup, i) => {\n                return (\n                    <ButtonGroup\n                        variant=\"contained\"\n                        key={i}\n                        className={classes.filterGroup}\n                    >\n                        {Object.keys(filterGroup).map(name => {\n                            const active = filterList[i] === filterGroup[name];\n                            return (\n                                <Button\n                                    key={name}\n                                    color={active ? 'primary' : 'default'}\n                                    onClick={() => setFilterList(prevState => {\n                                        const result = [ ...prevState ];\n                                        if (active) {\n                                            result[i] = undefined;\n                                        } else {\n                                            result[i] = filterGroup[name];\n                                        }\n                                        return result;\n                                    })}\n                                >\n                                    {name}\n                                </Button>\n                            );\n                        })}\n                    </ButtonGroup>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default ListFilters;","import { useDispatch } from 'react-redux';\nimport { useWorkSpaceStyles } from '../../../styles/styleHooks';\nimport { AgesPerGroup, Exceptional, Group } from '../../../competition-logic/values';\nimport { getAge } from '../../../competition-logic/year';\nimport { useEffect, useState } from 'react';\nimport { setResult } from '../../Competitors/competitorsSlice';\nimport { getPoints } from '../../../competition-logic/points';\nimport { FormControl, InputLabel, MenuItem, Select, Typography } from '@material-ui/core';\n\n\nfunction GymnasticsList({ event, competitor }) {\n    const dispatch = useDispatch();\n    const classes = useWorkSpaceStyles();\n\n    const results = competitor.results?.[event.id]?.[Exceptional.GYMNASTICS];\n    const gymnastics = event.gymnastics[Object.values(Group).find(e => AgesPerGroup[e].includes(getAge(competitor.year)))];\n    const gymnasticsList = gymnastics.split(', ').filter(e => !!e);\n\n    const [ gymResults, setGymResults ] = useState(results ? results : gymnasticsList.reduce((r, e) => ({ ...r, [e]: 0 }), {}));\n\n    useEffect(() => {\n        if (Object.keys(gymResults).length === 0) {\n            return\n        }\n        dispatch(setResult({\n            eventId: event.id,\n            competitorId: competitor.id,\n            discipline: Exceptional.GYMNASTICS,\n            result: gymResults\n        }))\n    }, [ event.id, competitor.id, dispatch, gymResults ]);\n\n    if (!gymnastics.length) {\n        return null;\n    }\n\n    const points = getPoints(Exceptional.GYMNASTICS, gymResults);\n\n    return (\n        <>\n            <Typography variant=\"overline\" paragraph className={classes.marginTop}>\n                {Exceptional.GYMNASTICS}\n            </Typography>\n            <div className={classes.editor}>\n                {gymnasticsList\n                    .map(name => (\n                        <FormControl key={name} style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                            <InputLabel id={`${name}-label`}>{name}</InputLabel>\n                            <Select\n                                labelId={`${name}-label`}\n                                id={`${name}`}\n                                value={gymResults[name]}\n                                onChange={event => setGymResults(prevState => {\n                                    const result = { ...prevState };\n                                    result[name] = event.target.value;\n                                    return result;\n                                })}\n                            >\n                                <MenuItem value={2}>2</MenuItem>\n                                <MenuItem value={1.5}>1,5</MenuItem>\n                                <MenuItem value={1}>1</MenuItem>\n                                <MenuItem value={0.5}>0,5</MenuItem>\n                                <MenuItem value={0}>0</MenuItem>\n                            </Select>\n                        </FormControl>\n                    ))\n                }\n                <div className={classes.gymnasticsResult}>\n                    <span className={`material-icons ${classes.editorIcon}`}>\n                        play_arrow\n                    </span>\n                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                        {points ? points : '--'}\n                    </Typography>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default GymnasticsList;","import { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Card, CardActions, CardContent, TextField, Typography } from '@material-ui/core';\nimport { selectActiveEvent, selectActiveCompetitors, selectEventIdsForYear } from '../../redux/selectors';\nimport { getCompetitors, saveCompetitor, setResult, setWeight, setActiveEventIds } from '../Competitors/competitorsSlice';\nimport { useWorkSpaceStyles } from '../../styles/styleHooks';\nimport { getPoints } from '../../competition-logic/points';\nimport { defaultValues } from '../../util/helpers';\nimport { AgesPerGroup, Gender, Group, Exceptional } from '../../competition-logic/values';\nimport { getAge } from '../../competition-logic/year';\nimport { getWeight } from '../../competition-logic/weights';\nimport useInterval from '../../hooks/useInterval';\nimport ListFilters from './ListFilters/ListFilters';\nimport GymnasticsList from './GymnasticsList/GymnasticsList';\nimport { MUI_INPUT_FIELD_MARGIN, WORK_SPACE_SYNCH_INTERVAL } from '../../constants';\nimport { getRanks } from './util';\n\nconst filters = [\n    {\n        [Gender.FEMALE]: competitor => competitor.gender === Gender.FEMALE,\n        [Gender.MALE]: competitor => competitor.gender === Gender.MALE\n    },\n    {\n        [Group.A]: competitor => AgesPerGroup[Group.A].includes(getAge(competitor.year)),\n        [Group.B]: competitor => AgesPerGroup[Group.B].includes(getAge(competitor.year))\n    }\n];\n\n\nfunction WorkSpace() {\n    // util\n    const dispatch = useDispatch();\n    const classes = useWorkSpaceStyles();\n\n    // set active event ids on mount\n\n    const activeEvent = useSelector(selectActiveEvent);\n    const eventIdsForYear = useSelector(selectEventIdsForYear);\n\n    useEffect(() => {\n        dispatch(setActiveEventIds(\n            activeEvent.final ? eventIdsForYear : [ activeEvent.id ]\n        ))\n    }, []);\n\n    // get competitors and active event ids to create ranked list\n\n    const competitors = useSelector(selectActiveCompetitors);\n    const activeEventIds = useSelector(state => state.competitors.activeEventIds);\n\n    // local state for user work\n\n    const [ activeCompetitorId, setActiveCompetitorId ] = useState(0);\n    const [ filter, setFilter ] = useState(() => () => true);\n\n    // BE state synch logic\n\n    const competitorIds = activeEvent?.competitorIds || defaultValues.ARRAY;\n    const sync = useCallback(() => dispatch(getCompetitors(competitorIds.filter(id => id !== activeCompetitorId))), [ dispatch, activeCompetitorId, competitorIds ]);\n\n    useInterval(WORK_SPACE_SYNCH_INTERVAL, sync);\n\n    // render\n\n    if (!activeEvent.id || activeEventIds.length === 0) {\n        return null;\n    }\n\n    const rankedCompetitorList = getRanks(competitors, activeEventIds);\n\n    return (\n        <div>\n            <ListFilters\n                filters={filters}\n                setFilter={setFilter}\n            />\n            {!!rankedCompetitorList.length && rankedCompetitorList.filter(filter).map((competitor, i) => {\n                const active = activeCompetitorId === competitor.id;\n                return (\n                    <Card\n                        key={i}\n                        className={`${classes.card}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (active) {\n                                return;\n                            }\n                            if (activeCompetitorId) {\n                                dispatch(saveCompetitor(competitors.find(e => e.id === activeCompetitorId)));\n                            }\n                            setActiveCompetitorId(competitor.id);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.row}>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    {`${competitor.year} | ${competitor.gender}${competitor.weight[activeEvent.id] ? ` | ${competitor.weight[activeEvent.id]} kg` : ''}`}\n                                </Typography>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    Punkte {competitor.points}\n                                </Typography>\n                            </div>\n                            <div className={classes.row}>\n                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                    {competitor.name}\n                                </Typography>\n                                <Typography variant=\"h6\" color=\"primary\">\n                                    Platz {competitor.rank}\n                                </Typography>\n                            </div>\n                            {active && (\n                                <>\n                                    <div className={classes.editor}>\n                                        <div className={classes.editorEntry}>\n                                            <TextField\n                                                id=\"filled-weight\"\n                                                label=\"Körpergewicht\"\n                                                type=\"number\"\n                                                variant=\"outlined\"\n                                                value={competitor.weight[activeEvent.id]}\n                                                onChange={event => dispatch(setWeight({\n                                                    eventId: activeEvent.id,\n                                                    competitorId: competitor.id,\n                                                    weight: event.target.value\n                                                }))}\n                                                margin=\"dense\"\n                                            />\n                                        </div>\n                                        {Object.keys(activeEvent.disciplines).filter(e => e !== Exceptional.GYMNASTICS).map(discipline => {\n                                            if (!activeEvent.disciplines[discipline]) {\n                                                return null;\n                                            }\n                                            const value = competitor.results[activeEvent.id]?.[discipline];\n                                            const weight = getWeight(competitor.year, competitor.gender, competitor.weight[activeEvent.id], discipline);\n                                            return (\n                                                <div key={discipline} className={classes.editorEntry}>\n                                                    <TextField\n                                                        id={`filled-${discipline}`}\n                                                        label={`${discipline}${weight ? ` ${weight} kg` : ''}`}\n                                                        type=\"number\"\n                                                        variant=\"filled\"\n                                                        value={value}\n                                                        onChange={event => dispatch(setResult({\n                                                            eventId: activeEvent.id,\n                                                            competitorId: competitor.id,\n                                                            discipline,\n                                                            result: event.target.value\n                                                        }))}\n                                                        margin={MUI_INPUT_FIELD_MARGIN}\n                                                    />\n                                                    <span className={`material-icons ${classes.editorIcon}`}>\n                                                        play_arrow\n                                                    </span>\n                                                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                                                        {value ? getPoints(discipline, value) : '--'}\n                                                    </Typography>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                    <GymnasticsList event={activeEvent} competitor={competitor} />\n                                    <CardActions className={classes.marginTop}>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            onClick={() => {\n                                                dispatch(saveCompetitor(competitors.find(e => e.id === competitor.id)));\n                                                setActiveCompetitorId(0);\n                                            }}\n                                        >\n                                            Fertig\n                                        </Button>\n                                    </CardActions>\n                                </>\n                            )}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default WorkSpace;","import { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, Typography } from '@material-ui/core';\n\n\nfunction NoInternetWall() {\n    const [ open, setOpen ] = useState(false);\n\n    useEffect(() => {\n        window.addEventListener('offline', () => setOpen(true));\n        window.addEventListener('online', () => setOpen(false));\n    }, []);\n\n    return (\n        <Dialog open={open} onClose={() => {}} aria-labelledby=\"form-dialog-title\">\n            <DialogContent>\n                <Typography>\n                    Kein Internet\n                </Typography>\n                <div style={{ textAlign: 'center' }}>\n                    <span className=\"material-icons\">perm_scan_wifi</span>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default NoInternetWall;","import { useEffect } from 'react';\nimport { getCenterContentStyle } from '../../util/getCenterContentStyle';\nimport styles from './MainView.module.css';\n\n\nfunction MainView({ children }) {\n    useEffect(() => {\n        window.scroll(0, 0);\n    }, [ children ]);\n\n    return (\n        <div\n            className={styles.MainView}\n            style={getCenterContentStyle()}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default MainView;","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ActiveContent } from './features/Navigation/navigationSlice';\nimport { selectActiveEvent } from './redux/selectors';\n\nimport AuthWall from './features/AuthWall/AuthWall';\nimport TopNavigation from './features/Navigation/TopNavigation/TopNavigation';\nimport BottomNavigation from './features/Navigation/BottomNavigation/BottomNavigation';\nimport EventList from './features/Events/EventList/EventList';\nimport EventManager from './features/Events/EventManager/EventManager';\nimport CompetitorList from './features/Competitors/CompetitorList/CompetitorList';\nimport CompetitorManager from './features/Competitors/CompetitorManager/CompetitorManager';\nimport WorkSpace from './features/WorkSpace/WorkSpace';\nimport NoInternetWall from './features/NoInternetWall/NoInternetWall';\nimport MainView from './features/MainView/MainView';\n\nconst mainView = {\n    [ActiveContent.EVENT_LIST]: <EventList />,\n    [ActiveContent.EVENT_MANAGER]: <EventManager />,\n    [ActiveContent.COMPETITOR_LIST]: <CompetitorList />,\n    [ActiveContent.COMPETITOR_MANAGER]: <CompetitorManager />,\n    [ActiveContent.WORK_SPACE]: <WorkSpace />\n};\n\n\nfunction App() {\n    const activeEvent = useSelector(selectActiveEvent);\n    const activeEventName = activeEvent.name || '';\n    const activeContent = useSelector(state => state.navigation.activeContent);\n\n    const [ , triggerRerender ] = useState(false);\n\n    useEffect(() => {\n        const resize = () => triggerRerender(prevState => !prevState);\n        window.addEventListener('resize', resize);\n        return () => window.removeEventListener('resize', resize);\n    }, []);\n\n    useEffect(() => {\n        if (!activeEventName) {\n            document.title = 'TSC';\n            return;\n        }\n        document.title = activeEventName;\n    }, [ activeEventName ]);\n\n    return (\n        <>\n            <AuthWall />\n            <NoInternetWall />\n            <TopNavigation />\n            <MainView>\n                {mainView[activeContent]}\n            </MainView>\n            <BottomNavigation />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore } from '@reduxjs/toolkit';\nimport reducer from './redux/reducer';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <Provider store={configureStore({ reducer })}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopNavigation\":\"TopNavigation_TopNavigation__1sjDd\",\"TopNavigationStepper\":\"TopNavigation_TopNavigationStepper__3xFMu\",\"TopNavigationSpacer\":\"TopNavigation_TopNavigationSpacer__1GvRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomNavigation\":\"BottomNavigation_BottomNavigation__2CoWW\",\"Cta\":\"BottomNavigation_Cta__1wAwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainView\":\"MainView_MainView__1sxw3\"};"],"sourceRoot":""}