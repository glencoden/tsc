(this.webpackJsonptsc=this.webpackJsonptsc||[]).push([[0],{104:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a,c=n(2),r=n(0),i=n(12),o=n.n(i),s=n(9),l=n(19),u=n(7),d=["Erstellen","Teilnehmer","Wettbewerb"],j="event-list",b="event-manager",f="competitor-list",p="competitor-manager",O="work-space",v=(a={},Object(u.a)(a,j,"Erstellen"),Object(u.a)(a,b,"Erstellen"),Object(u.a)(a,f,"Teilnehmer"),Object(u.a)(a,p,"Teilnehmer"),Object(u.a)(a,O,"Wettbewerb"),a);function m(e){return v[e]}var h=Object(l.c)({name:"navigation",initialState:{activeContent:j,activeStep:m(j)},reducers:{setActiveContent:function(e,t){e.activeContent=t.payload,e.activeStep=m(t.payload)},setActiveStep:function(e,t){e.activeContent=function(e){for(var t=Object.keys(v),n=0;n<t.length;n++){var a=t[n];if(v[a]===e)return a}}(t.payload),e.activeStep=t.payload}}}),g=h.actions,x=g.setActiveContent,y=g.setActiveStep,C=h.reducer,w=n(20),k=n.n(w),N=n(34),S=n(16),T=n(71),I=n(72);var A,E,_=new(function(){function e(){Object(T.a)(this,e),this.baseUrl="",this.oAuth2_access_token="",this.tokenExpiryDate=null,this.baseUrl="https://wolke.glencoden.de"}return Object(I.a)(e,[{key:"get",value:function(e){var t={"Content-Type":"application/json; charset=utf-8"};return this.oAuth2_access_token&&(t.Authorization="Bearer ".concat(this.oAuth2_access_token)),Promise.resolve().then((function(){return fetch(e,{method:"GET",headers:t})})).then((function(e){return e.json()})).catch((function(e){return console.error("Request Service: ",e)}))}},{key:"post",value:function(e,t){var n={"Content-Type":"application/json; charset=utf-8"};return this.oAuth2_access_token&&(n.Authorization="Bearer ".concat(this.oAuth2_access_token)),Promise.resolve().then((function(){return JSON.stringify(t)})).then((function(t){return fetch(e,{method:"POST",headers:n,body:t})})).then((function(e){return e.json()})).catch((function(e){return console.error("Request Service: ",e)}))}},{key:"postEncodeURI",value:function(e,t){return Promise.resolve().then((function(){return function(e){var t=[];for(var n in e){var a=encodeURIComponent(n),c=encodeURIComponent(e[n]);t.push("".concat(a,"=").concat(c))}return t.join("&")}(t)})).then((function(t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:t})})).then((function(e){return e.ok?e.json():Promise.reject(e)}))}},{key:"login",value:function(e,t){var n=this;return this.postEncodeURI("".concat(this.baseUrl,"/auth/login"),{username:e,password:t,grant_type:"password",client_id:null,client_secret:null}).then((function(e){n.oAuth2_access_token=e.access_token;var t=new Date;return t.setSeconds(t.getSeconds()+e.expires_in-60),n.tokenExpiryDate=t,{success:!0}}))}},{key:"isAuthTokenValid",value:function(){return new Date<this.tokenExpiryDate}}]),e}()),P={FEMALE:"W",MALE:"M"},L=[9,10,11,12,13,14],R={A:"Kinder",B:"Sch\xfcler"},U=(A={},Object(u.a)(A,R.A,[9,10,11,12]),Object(u.a)(A,R.B,[13,14]),A),M={PUSH:"Bankdr\xfccken",PULL:"Zug liegend",SNATCH:"Rei\xdfen",CLEAN_AND_JERK:"Sto\xdfen",PULL_UP:"Klimmziehen",T2B:"Anristen",SCHO:"SCHO",H1:"H1",LT:"LT",DR_M:"30m",SW:"SW",SD:"SD",PL:"PL",GYM:"Turnen"},D={GYMNASTICS:M.GYM};function F(){var e;return{id:0,name:"",date:(new Date).toISOString().split("T")[0],place:"",host:"",start:"16:30",final:!1,disciplines:Object.values(M).reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(u.a)({},t,!1))}),{}),gymnastics:(e={},Object(u.a)(e,R.A,""),Object(u.a)(e,R.B,""),e),competitorIds:[]}}var W,G=Object(l.b)("events/getEvents",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("".concat(_.baseUrl,"/tsc/get_events"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(l.b)("events/deleteEvent",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("".concat(_.baseUrl,"/tsc/delete_event/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=Object(l.b)("events/saveEvent",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("".concat(_.baseUrl,"/tsc/upsert_event"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(l.c)({name:"events",initialState:{all:{},activeId:0,draft:F()},reducers:{resetEvents:function(e){e.activeId=0,e.draft=F()},setEventId:function(e,t){e.activeId=t.payload},addCompetitorId:function(e,t){e.activeId&&e.all[e.activeId].competitorIds.push(t.payload)},removeCompetitorId:function(e,t){if(e.activeId){var n=e.all[e.activeId];n.competitorIds.splice(n.competitorIds.indexOf(t.payload),1)}},editEvent:function(e,t){e.draft=e.all[t.payload]},setName:function(e,t){e.draft.name=t.payload},setDate:function(e,t){e.draft.date=t.payload},setPlace:function(e,t){e.draft.place=t.payload},setHost:function(e,t){e.draft.host=t.payload},setStart:function(e,t){e.draft.start=t.payload},toggleFinal:function(e){e.draft.final=!e.draft.final},toggleDiscipline:function(e,t){e.draft.disciplines[t.payload]=!e.draft.disciplines[t.payload]},setGymnastics:function(e,t){t.payload.group&&(e.draft.gymnastics[t.payload.group]=t.payload.gymnastics)}},extraReducers:(E={},Object(u.a)(E,G.fulfilled,(function(e,t){Array.isArray(t.payload)?e.all=t.payload.reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(u.a)({},t.id,t))}),{}):console.warn("error getting events")})),Object(u.a)(E,Y.fulfilled,(function(e,t){var n;(null===(n=t.payload)||void 0===n?void 0:n.success)?(e.activeId===Number(t.payload.id)&&(e.activeId=0),delete e.all[t.payload.id]):console.warn("error deleting event")})),Object(u.a)(E,B.fulfilled,(function(e,t){var n;(null===(n=t.payload)||void 0===n?void 0:n.success)?(e.all[t.payload.event.id]=t.payload.event,e.activeId=t.payload.event.id,e.draft=F()):console.warn("error saving event")})),E)}),J=H.actions,V=J.resetEvents,K=J.setEventId,z=J.addCompetitorId,q=J.removeCompetitorId,$=J.editEvent,Z=J.setName,Q=J.setDate,X=J.setPlace,ee=J.setHost,te=J.setStart,ne=J.toggleFinal,ae=J.toggleDiscipline,ce=J.setGymnastics,re=H.reducer;function ie(){return{id:0,name:"",gender:P.FEMALE,year:(new Date).toISOString().split("T")[0].split("-")[0]-9,weight:{},club:"",results:{}}}var oe=Object(l.b)("competitors/getCompetitors",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("".concat(_.baseUrl,"/tsc/get_competitors"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),se=Object(l.b)("competitors/deleteCompetitor",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.get("".concat(_.baseUrl,"/tsc/delete_competitor/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),le=Object(l.b)("competitors/saveCompetitor",function(){var e=Object(N.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.post("".concat(_.baseUrl,"/tsc/upsert_competitor"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ue=Object(l.c)({name:"competitors",initialState:{all:{},draft:ie()},reducers:{resetCompetitors:function(e){e.draft=ie()},editCompetitor:function(e,t){e.draft=e.all[t.payload]},setName:function(e,t){e.draft.name=t.payload},setGender:function(e,t){e.draft.gender=t.payload},setYear:function(e,t){e.draft.year=t.payload},setWeight:function(e,t){t.payload.eventId?t.payload.competitorId?e.all[t.payload.competitorId].weight[t.payload.eventId]=t.payload.weight:console.warn("you tried to set a weight without a competitor id"):console.warn("you tried to set a weight without an event id")},setClub:function(e,t){e.draft.club=t.payload},setResult:function(e,t){t.payload.eventId?t.payload.competitorId?(e.all[t.payload.competitorId].results[t.payload.eventId]||(e.all[t.payload.competitorId].results[t.payload.eventId]={}),e.all[t.payload.competitorId].results[t.payload.eventId][t.payload.discipline]=t.payload.result):console.warn("you tried to set a result without a competitor id"):console.warn("you tried to set a result without an event id")}},extraReducers:(W={},Object(u.a)(W,oe.fulfilled,(function(e,t){Array.isArray(t.payload)?e.all=t.payload.reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(u.a)({},t.id,t))}),e.all):console.warn("error getting competitors")})),Object(u.a)(W,se.fulfilled,(function(e,t){var n;(null===(n=t.payload)||void 0===n?void 0:n.success)?delete e.all[t.payload.id]:console.warn("error deleting competitor")})),Object(u.a)(W,le.fulfilled,(function(e,t){var n;(null===(n=t.payload)||void 0===n?void 0:n.success)?(e.all[t.payload.competitor.id]=t.payload.competitor,e.draft=ie()):console.warn("error saving competitor")})),W)}),de=ue.actions,je=de.resetCompetitors,be=de.editCompetitor,fe=de.setName,pe=de.setGender,Oe=de.setYear,ve=de.setWeight,me=de.setClub,he=de.setResult,ge={navigation:C,events:re,competitors:ue.reducer},xe=(n(104),n(13)),ye=n(33),Ce={ARRAY:[],OBJECT:{},FUNCTION:function(){}};function we(e){return null!==e&&"function"!==typeof e&&"object"===typeof e&&!Array.isArray(e)}var ke=function(e){return e.events.activeId?e.events.all[e.events.activeId]:Ce.OBJECT},Ne=function(e){var t=ke(e).competitorIds||[];return Object.keys(e.competitors.all).reduce((function(n,a){return t.includes(Number(a))?[].concat(Object(ye.a)(n),[e.competitors.all[a]]):n}),[])},Se=function(e){var t,n=null===(t=ke(e).date)||void 0===t?void 0:t.split("-")[0];return n?Object.values(e.events.all).filter((function(e){var t;return(null===(t=e.date)||void 0===t?void 0:t.split("-")[0])===n})).map((function(e){return e.id})):Ce.ARRAY},Te=n(170),Ie=n(148),Ae=n(171),Ee=n(153),_e=n(108);var Pe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(r.useState)(!0),c=Object(xe.a)(a,2),i=c[0],o=c[1],s=Object(r.useRef)({id:0});return Object(r.useEffect)((function(){if(i){return n&&function n(){t(),s.current.id=setTimeout((function(){return n()}),1e3*e)}(),function(){return clearTimeout(s.current.id)}}}),[i,e,t,n]),[i,o]};var Le=function(){var e=Object(r.useState)(!0),t=Object(xe.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(""),o=Object(xe.a)(i,2),s=o[0],l=o[1],u=Object(r.useState)(""),d=Object(xe.a)(u,2),j=d[0],b=d[1],f=Object(r.useCallback)((function(){_.isAuthTokenValid()||a(!0)}),[]);Pe(30,f);var p=function(){l(""),b("")};return Object(c.jsxs)(Te.a,{open:n,onClose:function(){},"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(Ie.a,{children:Object(c.jsx)(Ae.a,{autoFocus:!0,margin:"normal",id:"pw",label:Object(c.jsx)("span",{className:"material-icons",children:"vpn_key"}),type:"password",fullWidth:!0,value:s,onChange:function(e){var t=e.target;return l(t.value)},onFocus:p,error:!!j,helperText:j})}),Object(c.jsx)(Ee.a,{children:Object(c.jsx)(_e.a,{variant:"contained",color:"primary",onClick:function(){_.login("michi_mueller",s).then((function(e){e.success?(a(!1),p()):b("Unbekannter Fehler")})).catch((function(){b("Falsches Passwort")}))},children:"Login"})})]})},Re=n(5),Ue=n(154),Me=n(109),De=n(155),Fe=n(156),We=n(167),Ge=n(60),Ye=n.n(Ge);var Be={};function He(){var e=Math.min(640,Math.round(.95*window.innerWidth));Be={width:"".concat(e,"px"),margin:"0 ".concat((window.innerWidth-e)/2,"px")}}function Je(){return Be}He(),window.addEventListener("resize",He);var Ve=Object(Re.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(Me.a),Ke=Object(Ue.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center",cursor:"pointer"},active:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)"}});function ze(e){var t=Ke(),n=e.active,a=e.completed,r={1:Object(c.jsx)("span",{className:"material-icons",children:"event_note"}),2:Object(c.jsx)("span",{className:"material-icons",children:"people_alt"}),3:Object(c.jsx)("span",{className:"material-icons",children:"emoji_events"})};return Object(c.jsx)("div",{className:"".concat(t.root).concat(n?" ".concat(t.active):"").concat(a?" ".concat(t.completed):""),children:r[String(e.icon)]})}var qe,$e=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.navigation.activeStep}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:Ye.a.TopNavigation,children:Object(c.jsx)(De.a,{className:Ye.a.TopNavigationStepper,style:Je(),alternativeLabel:!0,activeStep:d.indexOf(t),connector:Object(c.jsx)(Ve,{}),children:d.map((function(t){return Object(c.jsx)(Fe.a,{onClick:function(){return e(y(t))},children:Object(c.jsx)(We.a,{StepIconComponent:ze})},t)}))})}),Object(c.jsx)("div",{className:Ye.a.TopNavigationSpacer})]})},Ze=n(65),Qe=n.n(Ze),Xe=n(161),et=n(175),tt=n(176),nt=n(168),at=n(158),ct=n(159),rt=n(110),it=n(160),ot=Object(Ue.a)((function(e){return{card:{margin:"10px 0"},cardActive:{backgroundColor:e.palette.secondary.light},cardContent:{display:"grid",gridTemplateColumns:"auto 160px"},cardActions:{justifySelf:"end",alignSelf:"start"},contrastText:{color:e.palette.grey[100]},gymnasticsTag:{color:e.palette.primary.main}}})),st=Object(Ue.a)((function(e){return{card:{margin:"10px 0"},flexRow:{display:"flex"},gridRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"10px"},spacer:{width:"10px",flexShrink:0},marginTop:{marginTop:"15px"}}})),lt=Object(Ue.a)((function(e){return{card:{margin:"10px 0"},row:{display:"flex",justifyContent:"space-between"},editor:{display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:"10px"},editorEntry:{display:"flex",flexWrap:"wrap",alignItems:"center"},editorIcon:{color:e.palette.grey[300]},editorPoints:{marginLeft:"10px"},gymnasticsResult:{alignSelf:"center",display:"flex",alignItems:"center"},marginTop:{marginTop:"15px"}}})),ut=Object(Ue.a)((function(e){return{filter:{display:"flex",justifyContent:"center",marginTop:"10px"},filterGroup:{marginRight:"10px"}}}));function dt(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return function(r){return Math.max(Math.round(((n-a)*(r-e)/(e-t)+n)/c),0)*c}}var jt,bt,ft,pt,Ot=(qe={},Object(u.a)(qe,M.PUSH,dt(0,15,0,30)),Object(u.a)(qe,M.PULL,dt(0,15,0,30)),Object(u.a)(qe,M.PULL_UP,dt(0,15,0,30)),Object(u.a)(qe,M.T2B,dt(0,15,0,30)),Object(u.a)(qe,M.H1,dt(10,15.7,45,16)),Object(u.a)(qe,M.LT,dt(11,16,50,0)),Object(u.a)(qe,M.DR_M,dt(4.3,6.3,40,0)),Object(u.a)(qe,M.SW,dt(1.35,2.85,0,50)),Object(u.a)(qe,M.SD,dt(4,9,0,50)),Object(u.a)(qe,M.SCHO,dt(3,13,0,50)),Object(u.a)(qe,M.PL,dt(9,14,50,0)),Object(u.a)(qe,M.GYM,dt(0,10,0,30,.5)),Object(u.a)(qe,M.SNATCH,dt(0,10,0,30,.5)),Object(u.a)(qe,M.CLEAN_AND_JERK,dt(0,10,0,30,.5)),qe),vt=Object(u.a)({},D.GYMNASTICS,(function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)}));function mt(e,t){var n=Ot[e];return"function"!==typeof n?0:(Object.values(D).includes(e)&&(t=vt[e](t)),n(t))}function ht(e){return(new Date).getFullYear()-Number(e)}function gt(e){return(new Date).getFullYear()-e}function xt(e,t){var n=[];return Object.values(R).forEach((function(t){var a=e.filter((function(e){return U[t].includes(ht(e.year))}));Object.values(P).forEach((function(e){n.push(a.filter((function(t){return e===t.gender})))}))})),n.reduce((function(e,n){return[].concat(Object(ye.a)(e),Object(ye.a)(function(e,t){var n=Array.isArray(t)?t:[t],a=-1,c=1,r=e.reduce((function(e,t){var a=n.reduce((function(n,a){var c=t.results[a];return c?(Object.keys(c).forEach((function(t){"number"===typeof e[t]?e[t]=e[t]+c[t]:e[t]=c[t]})),e):e}),{});return[].concat(Object(ye.a)(e),[{id:t.id,points:Object.keys(a).reduce((function(e,t){return a[t]?e+mt(t,a[t]):e}),0)}])}),[]).sort((function(e,t){return t.points-e.points})).map((function(e){return a>e.points&&(c++,a=e.points),-1===a&&(a=e.points),Object(S.a)(Object(S.a)({},e),{},{rank:c})}));return e.map((function(e){var t=r.find((function(t){return t.id===e.id})),n=t.points,a=t.rank;return Object(S.a)(Object(S.a)({},e),{},{points:n,rank:a})}))}(n,t)))}),[])}var yt=(ft={},Object(u.a)(ft,P.FEMALE,(jt={},Object(u.a)(jt,M.SCHO,[2,2,2,2,3,3]),Object(u.a)(jt,M.PUSH,[40,45,50,55,60,65]),Object(u.a)(jt,M.PULL,[40,45,50,50,55,60]),jt)),Object(u.a)(ft,P.MALE,(bt={},Object(u.a)(bt,M.SCHO,[2,2,3,3,4,4]),Object(u.a)(bt,M.PUSH,[45,50,60,65,70,75]),Object(u.a)(bt,M.PULL,[45,50,55,60,65,70]),bt)),ft),Ct="kg",wt="percent",kt=(pt={},Object(u.a)(pt,M.SCHO,Ct),Object(u.a)(pt,M.PUSH,wt),Object(u.a)(pt,M.PULL,wt),pt);var Nt=n(157);var St=function(e){var t=ut(),n=Object(r.useState)((function(){return function(){return!0}})),a=Object(xe.a)(n,2),i=a[0],o=a[1],s=Object(r.useState)([]),l=Object(xe.a)(s,2),u=l[0],d=l[1];return Object(r.useEffect)((function(){o((function(){return function(e){return u.every((function(t){return"function"!==typeof t||t(e)}))}}))}),[u,o]),[i,function(){return Object(c.jsx)("div",{className:t.filter,children:e.map((function(e,n){return Object(c.jsx)(Nt.a,{variant:"contained",className:t.filterGroup,children:Object.keys(e).map((function(t){var a=u[n]===e[t];return Object(c.jsx)(_e.a,{color:a?"primary":"default",onClick:function(){return d((function(c){var r=Object(ye.a)(c);return r[n]=a?void 0:e[t],r}))},children:t},t)}))},n)}))})}]},Tt=n(151),It=n(173),At=n(165),Et=n(174);var _t,Pt,Lt=function(e){var t,n,a=e.event,i=e.competitor,o=Object(s.b)(),l=lt(),d=null===(t=i.results)||void 0===t||null===(n=t[a.id])||void 0===n?void 0:n[D.GYMNASTICS],j=a.gymnastics[Object.values(R).find((function(e){return U[e].includes(ht(i.year))}))],b=j.split(", ").filter((function(e){return!!e})),f=Object(r.useState)(d||b.reduce((function(e,t){return Object(S.a)(Object(S.a)({},e),{},Object(u.a)({},t,0))}),{})),p=Object(xe.a)(f,2),O=p[0],v=p[1];if(Object(r.useEffect)((function(){o(he({eventId:a.id,competitorId:i.id,discipline:D.GYMNASTICS,result:O}))}),[a.id,i.id,o,O]),!j.length)return null;var m=mt(D.GYMNASTICS,O);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(rt.a,{variant:"overline",paragraph:!0,className:l.marginTop,children:D.GYMNASTICS}),Object(c.jsxs)("div",{className:l.editor,children:[b.map((function(e){return Object(c.jsxs)(Tt.a,{style:{overflow:"hidden",textOverflow:"ellipsis"},children:[Object(c.jsx)(It.a,{id:"".concat(e,"-label"),children:e}),Object(c.jsxs)(At.a,{labelId:"".concat(e,"-label"),id:"".concat(e),value:O[e],onChange:function(t){return v((function(n){var a=Object(S.a)({},n);return a[e]=t.target.value,a}))},children:[Object(c.jsx)(Et.a,{value:2,children:"2"}),Object(c.jsx)(Et.a,{value:1.5,children:"1,5"}),Object(c.jsx)(Et.a,{value:1,children:"1"}),Object(c.jsx)(Et.a,{value:.5,children:"0,5"}),Object(c.jsx)(Et.a,{value:0,children:"0"})]})]},e)})),Object(c.jsxs)("div",{className:l.gymnasticsResult,children:[Object(c.jsx)("span",{className:"material-icons ".concat(l.editorIcon),children:"play_arrow"}),Object(c.jsx)(rt.a,{color:"primary",display:"inline",className:l.editorPoints,children:m||"--"})]})]})]})},Rt="certificates",Ut="protocol",Mt=[];var Dt=[(_t={},Object(u.a)(_t,P.FEMALE,(function(e){return e.gender===P.FEMALE})),Object(u.a)(_t,P.MALE,(function(e){return e.gender===P.MALE})),_t),(Pt={},Object(u.a)(Pt,R.A,(function(e){return U[R.A].includes(ht(e.year))})),Object(u.a)(Pt,R.B,(function(e){return U[R.B].includes(ht(e.year))})),Pt)];var Ft=function(){var e=Object(s.b)(),t=Object(s.c)(ke),n=Object(s.c)(Ne),a=Object(s.c)(Se),i=lt(),o=Object(r.useState)([]),l=Object(xe.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(0),b=Object(xe.a)(j,2),f=b[0],p=b[1],O=St(Dt),v=Object(xe.a)(O,2),m=v[0],h=v[1],g=(null===t||void 0===t?void 0:t.competitorIds)||Ce.ARRAY,x=Object(r.useCallback)((function(){return e(oe(g.filter((function(e){return e!==f}))))}),[e,f,g]);return Pe(5,x),Object(r.useEffect)((function(){if(Array.isArray(n)){var e=xt(n,t.final?a:t.id).sort((function(e,t){return e.name.charCodeAt(0)-t.name.charCodeAt(0)}));d(e)}}),[t.id,n,t.final]),Mt=u,t.id?Object(c.jsxs)("div",{children:[Object(c.jsx)(h,{}),!!u.length&&u.filter(m).map((function(a,r){var o=f===a.id;return Object(c.jsx)(at.a,{className:"".concat(i.card),elevation:3,onClick:function(){o||(f&&e(le(n.find((function(e){return e.id===f})))),p(a.id))},children:Object(c.jsxs)(ct.a,{children:[Object(c.jsxs)("div",{className:i.row,children:[Object(c.jsx)(rt.a,{variant:"overline",color:"textSecondary",display:"block",children:"".concat(a.year," | ").concat(a.gender).concat(a.weight[t.id]?" | ".concat(a.weight[t.id]," kg"):"")}),Object(c.jsxs)(rt.a,{variant:"overline",color:"textSecondary",display:"block",children:["Punkte ",a.points]})]}),Object(c.jsxs)("div",{className:i.row,children:[Object(c.jsx)(rt.a,{variant:"h6",color:"textPrimary",children:a.name}),Object(c.jsxs)(rt.a,{variant:"h6",color:"primary",children:["Platz ",a.rank]})]}),o&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:i.editor,children:[Object(c.jsx)("div",{className:i.editorEntry,children:Object(c.jsx)(Ae.a,{id:"filled-weight",label:"K\xf6rpergewicht",type:"number",variant:"outlined",value:a.weight[t.id],onChange:function(n){return e(ve({eventId:t.id,competitorId:a.id,weight:n.target.value}))},margin:"dense"})}),Object.keys(t.disciplines).filter((function(e){return e!==D.GYMNASTICS})).map((function(n){var r;if(!t.disciplines[n])return null;var o=null===(r=a.results[t.id])||void 0===r?void 0:r[n],s=function(e,t,n,a){if(!kt[a])return 0;var c=ht(e),r=yt[t][a][L.indexOf(c)];switch(kt[a]){case Ct:return r;case wt:return Math.round(n*r/100)}}(a.year,a.gender,a.weight[t.id],n);return Object(c.jsxs)("div",{className:i.editorEntry,children:[Object(c.jsx)(Ae.a,{id:"filled-".concat(n),label:"".concat(n).concat(s?" ".concat(s," kg"):""),type:"number",variant:"filled",value:o,onChange:function(c){return e(he({eventId:t.id,competitorId:a.id,discipline:n,result:c.target.value}))},margin:"dense"}),Object(c.jsx)("span",{className:"material-icons ".concat(i.editorIcon),children:"play_arrow"}),Object(c.jsx)(rt.a,{color:"primary",display:"inline",className:i.editorPoints,children:o?mt(n,o):"--"})]},n)}))]}),Object(c.jsx)(Lt,{event:t,competitor:a}),Object(c.jsx)(it.a,{className:i.marginTop,children:Object(c.jsx)(_e.a,{variant:"contained",color:"primary",onClick:function(){e(le(n.find((function(e){return e.id===a.id})))),p(0)},children:"Fertig"})})]})]})},r)}))]}):null},Wt=[{icon:Object(c.jsx)("span",{className:"material-icons",children:"event_note"}),name:"Protokoll",type:Ut},{icon:Object(c.jsx)("span",{className:"material-icons",children:"people_alt"}),name:"Urkunden",type:Rt}];var Gt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.navigation.activeContent})),n=Object(r.useState)(!1),a=Object(xe.a)(n,2),i=a[0],o=a[1],l=null,u="",d="";switch(t){case j:l=function(){return e(x(b))},u="add",d="primary";break;case b:l=function(){return e(x(j))},u="clear",d="secondary";break;case f:l=function(){return e(x(p))},u="add",d="primary";break;case p:l=function(){e(le()),e(x(f))},u="clear",d="secondary";break;default:u="add",d="primary"}return Object(c.jsx)("footer",{className:Qe.a.BottomNavigation,style:Je(),children:Object(c.jsxs)("div",{className:Qe.a.Cta,children:[t!==O&&Object(c.jsx)(Xe.a,{color:d,"aria-label":"add",onClick:l,children:Object(c.jsx)("span",{className:"material-icons",children:u})}),t===O&&window.innerWidth>576&&Object(c.jsx)(et.a,{ariaLabel:"SpeedDial example",hidden:!1,icon:Object(c.jsx)(tt.a,{}),onClose:function(){return o(!1)},onOpen:function(){return o(!0)},open:i,direction:"up",children:Wt.map((function(e){return Object(c.jsx)(nt.a,{icon:e.icon,tooltipTitle:e.name,onClick:function(){!function(e){var t,n={};switch(e){case Rt:n.competitors=Mt,t="".concat(_.baseUrl,"/tsc/print_certificates");break;case Ut:n.competitors=Mt,t="".concat(_.baseUrl,"/tsc/print_protocol")}fetch(t,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(n)}).then((function(e){return e.blob()})).then((function(e){var t=URL.createObjectURL(new Blob([e],{type:"application/pdf"})),n=document.createElement("a");n.href=t,n.target="_blank",n.click(),setTimeout((function(){return URL.revokeObjectURL(t)}),100)})).catch((function(e){return console.error(e)}))}(e.type),o(!1)}},e.name)}))})]})})},Yt=n(111);var Bt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.events.all})),n=Object(s.c)((function(e){return e.events.activeId})),a=ot(),i=Object(r.useState)([]),o=Object(xe.a)(i,2),l=o[0],u=o[1],d=Object(r.useState)(-1),j=Object(xe.a)(d,2),f=j[0],p=j[1],O=Object(r.useCallback)((function(){return e(G())}),[e]),v=!we(t)||0===Object.keys(t).length;Pe(15,O,v),Object(r.useEffect)((function(){we(t)&&u(Object.values(t).sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})))}),[t]);var m=function(t,n){t.stopPropagation(),e($(n)),e(x(b))};return Object(c.jsx)("div",{children:!!l.length&&l.map((function(t,r){var i=t.id===n;return Object(c.jsx)(at.a,{className:"".concat(a.card," ").concat(i&&a.cardActive),elevation:3,onClick:function(){return e(K(t.id))},onDoubleClick:function(e){return m(e,t.id)},children:Object(c.jsxs)(ct.a,{children:[Object(c.jsxs)("div",{className:a.cardContent,children:[Object(c.jsxs)("div",{children:[t.final&&Object(c.jsx)(rt.a,{variant:"overline",color:"primary",display:"block",children:"Jahresabschluss ".concat(t.date.split("-")[0])}),Object(c.jsxs)(rt.a,{variant:"overline",color:"textSecondary",display:"block",children:[t.date.split("-").reverse().join(".")," / ",t.start," Uhr"]}),Object(c.jsx)(rt.a,{variant:"h6",color:"textPrimary",children:t.name})]}),Object(c.jsx)(it.a,{className:a.cardActions,children:f===r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Yt.a,{className:i?a.contrastText:"",onClick:function(e){e.stopPropagation(),p(-1)},children:Object(c.jsx)("span",{className:"material-icons",children:"clear"})}),Object(c.jsx)(_e.a,{variant:"contained",color:"secondary",onClick:function(n){n.stopPropagation(),e(Y(t.id)),p(-1)},children:Object(c.jsx)("span",{className:"material-icons",children:"delete"})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Yt.a,{className:i?a.contrastText:"",onClick:function(e){return m(e,t.id)},children:Object(c.jsx)("span",{className:"material-icons",children:"edit"})}),Object(c.jsx)(Yt.a,{className:i?a.contrastText:"",onClick:function(e){e.stopPropagation(),p(r)},children:Object(c.jsx)("span",{className:"material-icons",children:"delete"})})]})})]}),(t.place||t.host)&&Object(c.jsx)(rt.a,{variant:"caption",color:"textSecondary",display:"block",paragraph:!0,children:"".concat(t.place).concat(t.place&&t.host?" | ":"").concat(t.host)}),Object(c.jsx)(rt.a,{variant:"body1",children:Object.keys(t.disciplines).reduce((function(e,n){return t.disciplines[n]?"".concat(e).concat(e.length?", ":"").concat(n):e}),"")}),t.disciplines[D.GYMNASTICS]&&Object.keys(t.gymnastics).map((function(e){return Object(c.jsxs)(rt.a,{variant:"caption",color:"textSecondary",display:"block",children:[Object(c.jsxs)("span",{className:a.gymnasticsTag,children:["Turnen ",e,":"]})," ",t.gymnastics[e]]},e)}))]})},r)}))})},Ht=n(162),Jt=n(163),Vt=n(164),Kt=n(169);function zt(e){return e.replace(/\s+/gm," ").replace(/[,\s]*,[,\s]*/gm,", ")}var qt="dense";var $t=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.events.draft.id})),n=Object(s.c)((function(e){return e.events.draft.name})),a=Object(s.c)((function(e){return e.events.draft.date})),i=Object(s.c)((function(e){return e.events.draft.place})),o=Object(s.c)((function(e){return e.events.draft.host})),l=Object(s.c)((function(e){return e.events.draft.start})),u=Object(s.c)((function(e){return e.events.draft.final})),d=Object(s.c)((function(e){return e.events.draft.disciplines})),b=Object(s.c)((function(e){return e.events.draft.gymnastics})),f=Object(s.c)((function(e){return e.events.draft.competitorIds})),p=st();Object(r.useEffect)((function(){return function(){return e(V())}}),[e]);var O=function(){var c={};Object.keys(b).forEach((function(e){c[e]=zt(b[e])})),e(B({id:t,name:n,date:a,place:i,host:o,start:l,final:u,disciplines:d,gymnastics:c,competitorIds:f})),e(x(j))};return Object(c.jsx)(at.a,{elevation:3,className:p.card,onKeyDown:function(e){"Enter"===e.key&&O()},children:Object(c.jsx)(ct.a,{children:Object(c.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(c.jsxs)("div",{className:p.flexRow,children:[Object(c.jsx)(Ae.a,{id:"filled-name",label:"Wettbewerb",variant:"filled",value:n,onChange:function(t){return e(Z(t.target.value))},margin:qt,fullWidth:!0}),Object(c.jsx)(Ht.a,{control:Object(c.jsx)(Jt.a,{checked:u,onChange:function(){return e(ne())},name:"Jahresabschluss",color:"primary",inputProps:{"aria-label":"primary checkbox"}}),label:"Jahresab.",labelPlacement:"top"})]}),Object(c.jsxs)("div",{className:p.flexRow,children:[Object(c.jsx)(Ae.a,{id:"date",label:"Datum",type:"date",variant:"filled",value:a,onChange:function(t){return e(Q(t.target.value))},margin:qt,fullWidth:!0}),Object(c.jsx)("div",{className:p.spacer}),Object(c.jsx)(Ae.a,{id:"time",label:"Beginn",type:"time",variant:"filled",value:l,onChange:function(t){return e(te(t.target.value))},margin:qt,fullWidth:!0,inputProps:{step:300}})]}),Object(c.jsxs)("div",{className:p.flexRow,children:[Object(c.jsx)(Ae.a,{id:"filled-place",label:"Wettkampf Ort",variant:"filled",value:i,onChange:function(t){return e(X(t.target.value))},margin:qt,fullWidth:!0}),Object(c.jsx)("div",{className:p.spacer}),Object(c.jsx)(Ae.a,{id:"filled-host",label:"Ausrichter",variant:"filled",value:o,onChange:function(t){return e(ee(t.target.value))},margin:qt,fullWidth:!0})]}),Object(c.jsx)(Vt.a,{row:!0,children:Object.keys(d).map((function(t){return Object(c.jsx)(Ht.a,{control:Object(c.jsx)(Kt.a,{checked:d[t],onChange:function(){return e(ae(t))},name:t,color:t===D.GYMNASTICS?"primary":"secondary"}),label:t},t)}))}),d[D.GYMNASTICS]&&Object.keys(b).map((function(t){var n=U[t];return Object(c.jsxs)("div",{className:p.marginTop,children:[Object(c.jsx)("h3",{children:"Turnen ".concat(t," (Jahrgang ").concat(gt(n[n.length-1])," - ").concat(gt(n[0]),")")}),Object(c.jsx)(Ae.a,{id:"outlined-multiline-flexible",label:"\xdcbungen",multiline:!0,rowsMax:4,variant:"outlined",value:b[t],onChange:function(n){return e(ce({group:t,gymnastics:n.target.value}))},margin:qt,fullWidth:!0})]},t)})),Object(c.jsx)(it.a,{className:p.marginTop,children:Object(c.jsx)(_e.a,{variant:"contained",color:"primary",onClick:O,children:"Fertig"})})]})})})};var Zt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.competitors.all})),n=Object(s.c)(ke),a=n.competitorIds||Ce.ARRAY,i=ot(),o=Object(r.useState)([]),l=Object(xe.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)(-1),b=Object(xe.a)(j,2),f=b[0],O=b[1],v=Object(r.useState)(!1),m=Object(xe.a)(v,2),h=m[0],g=m[1],y=Object(r.useCallback)((function(){return e(oe())}),[e]),C=!we(t)||0===Object.keys(t).length;return Pe(15,y,C),Object(r.useEffect)((function(){we(t)&&d(Object.values(t).sort((function(e,t){return e.name.charCodeAt(0)-t.name.charCodeAt(0)})))}),[t]),Object(r.useEffect)((function(){h&&(e(B(n)),g(!1))}),[e,n,h]),Object(c.jsx)("div",{children:!!u.length&&u.map((function(t,r){var o=!n.id,s=a.includes(t.id);return Object(c.jsx)(at.a,{className:"".concat(i.card," ").concat(s&&i.cardActive),elevation:3,onClick:function(){o||(e(s?q(t.id):z(t.id)),g(!0))},children:Object(c.jsxs)(ct.a,{children:[Object(c.jsxs)("div",{className:i.cardContent,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(rt.a,{variant:"overline",color:"textSecondary",display:"block",children:"".concat(t.year," | ").concat(t.gender)}),Object(c.jsx)(rt.a,{variant:"h6",color:"textPrimary",children:t.name})]}),Object(c.jsx)(it.a,{className:i.cardActions,children:f===r?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Yt.a,{className:s?i.contrastText:"",onClick:function(e){e.stopPropagation(),O(-1)},children:Object(c.jsx)("span",{className:"material-icons",children:"clear"})}),Object(c.jsx)(_e.a,{variant:"contained",color:"secondary",onClick:function(n){n.stopPropagation(),e(se(t.id)),O(-1)},children:Object(c.jsx)("span",{className:"material-icons",children:"delete"})})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Yt.a,{className:s?i.contrastText:"",onClick:function(n){n.stopPropagation(),e(be(t.id)),e(x(p))},children:Object(c.jsx)("span",{className:"material-icons",children:"edit"})}),Object(c.jsx)(Yt.a,{className:s?i.contrastText:"",onClick:function(e){e.stopPropagation(),O(r)},children:Object(c.jsx)("span",{className:"material-icons",children:"delete"})})]})})]}),Object(c.jsx)(rt.a,{variant:"caption",color:"textSecondary",display:"block",children:t.club||"Kein Verein"})]})},r)}))})},Qt="dense";var Xt=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.competitors.draft.id})),n=Object(s.c)((function(e){return e.competitors.draft.name})),a=Object(s.c)((function(e){return e.competitors.draft.gender})),i=Object(s.c)((function(e){return e.competitors.draft.year})),o=Object(s.c)((function(e){return e.competitors.draft.weight})),l=Object(s.c)((function(e){return e.competitors.draft.club})),u=Object(s.c)((function(e){return e.competitors.draft.results})),d=st();Object(r.useEffect)((function(){return function(){return e(je())}}),[e]);var j=function(){e(le({id:t,name:zt(n),gender:a,year:i,weight:o,club:zt(l),results:u})),e(x(f))};return Object(c.jsx)(at.a,{elevation:3,className:d.card,onKeyDown:function(e){"Enter"===e.key&&j()},children:Object(c.jsx)(ct.a,{children:Object(c.jsxs)("form",{noValidate:!0,autoComplete:"off",children:[Object(c.jsx)(Ae.a,{id:"filled-name",label:"Name",variant:"filled",value:n,onChange:function(t){return e(fe(t.target.value))},margin:Qt,fullWidth:!0}),Object(c.jsx)(Ae.a,{id:"filled-club",label:"Verein",variant:"filled",value:l,onChange:function(t){return e(me(t.target.value))},margin:Qt,fullWidth:!0}),Object(c.jsxs)("div",{className:d.gridRow,children:[Object(c.jsxs)(Tt.a,{margin:Qt,children:[Object(c.jsx)(It.a,{id:"demo-simple-select-label-gender",children:"Geschlecht"}),Object(c.jsx)(At.a,{labelId:"demo-simple-select-label-gender",id:"demo-simple-select-gender",value:a,onChange:function(t){return e(pe(t.target.value))},children:Object.values(P).map((function(e){return Object(c.jsx)(Et.a,{value:e,children:e},e)}))})]}),Object(c.jsxs)(Tt.a,{margin:Qt,children:[Object(c.jsx)(It.a,{id:"demo-simple-select-label-year",children:"Jahrgang"}),Object(c.jsx)(At.a,{labelId:"demo-simple-select-label-year",id:"demo-simple-select-year",value:i,onChange:function(t){return e(Oe(t.target.value))},children:L.map((function(e){return gt(e)})).map((function(e){return Object(c.jsx)(Et.a,{value:e,children:e},e)}))})]})]}),Object(c.jsx)(it.a,{className:d.marginTop,children:Object(c.jsx)(_e.a,{variant:"contained",color:"primary",onClick:j,children:"Fertig"})})]})})})};var en=function(){var e=Object(r.useState)(!1),t=Object(xe.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){window.addEventListener("offline",(function(){return a(!0)})),window.addEventListener("online",(function(){return a(!1)}))}),[]),Object(c.jsx)(Te.a,{open:n,onClose:function(){},"aria-labelledby":"form-dialog-title",children:Object(c.jsxs)(Ie.a,{children:[Object(c.jsx)(rt.a,{children:"Kein Internet"}),Object(c.jsx)("div",{style:{textAlign:"center"},children:Object(c.jsx)("span",{className:"material-icons",children:"perm_scan_wifi"})})]})})},tn=n(77),nn=n.n(tn);var an,cn=function(e){var t=e.children;return Object(c.jsx)("div",{className:nn.a.MainView,style:Je(),children:t})},rn=(an={},Object(u.a)(an,j,Object(c.jsx)(Bt,{})),Object(u.a)(an,b,Object(c.jsx)($t,{})),Object(u.a)(an,f,Object(c.jsx)(Zt,{})),Object(u.a)(an,p,Object(c.jsx)(Xt,{})),Object(u.a)(an,O,Object(c.jsx)(Ft,{})),an);var on=function(){var e=Object(s.c)(ke).name||"",t=Object(s.c)((function(e){return e.navigation.activeContent})),n=Object(r.useState)(!1),a=Object(xe.a)(n,2)[1];return Object(r.useEffect)((function(){var e=function(){return a((function(e){return!e}))};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){document.title=e||"TSC"}),[e]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Le,{}),Object(c.jsx)(en,{}),Object(c.jsx)($e,{}),Object(c.jsx)(cn,{children:rn[t]}),Object(c.jsx)(Gt,{})]})};o.a.render(Object(c.jsx)(s.a,{store:Object(l.a)({reducer:ge}),children:Object(c.jsx)(on,{})}),document.getElementById("root"))},60:function(e,t,n){e.exports={TopNavigation:"TopNavigation_TopNavigation__1sjDd",TopNavigationStepper:"TopNavigation_TopNavigationStepper__3xFMu",TopNavigationSpacer:"TopNavigation_TopNavigationSpacer__1GvRx"}},65:function(e,t,n){e.exports={BottomNavigation:"BottomNavigation_BottomNavigation__2CoWW",Cta:"BottomNavigation_Cta__1wAwD"}},77:function(e,t,n){e.exports={MainView:"MainView_MainView__1sxw3"}}},[[107,1,2]]]);
//# sourceMappingURL=main.d4cf15d7.chunk.js.map