{"version":3,"sources":["features/Navigation/navigationSlice.js","constants/index.js","services/requestService.js","competition-logic/values.js","features/Events/eventsSlice.js","competition-logic/points.js","competition-logic/year.js","features/WorkSpace/lib/util.js","features/Competitors/competitorsSlice.js","redux/reducer.js","util/helpers.js","redux/selectors.js","hooks/useInterval.js","features/AuthWall/AuthWall.js","util/getCenterContentStyle.js","util/getContentWidth.js","features/Navigation/TopNavigation/TopNavigation.js","features/Navigation/BottomNavigation/BottomNavigation.js","styles/styleHooks.js","features/Events/EventList/EventList.js","features/Events/EventManager/util.js","features/Events/EventManager/EventManager.js","features/Competitors/CompetitorList/CompetitorList.js","features/Competitors/CompetitorManager/CompetitorManager.js","competition-logic/weights.js","hooks/useFilters.js","features/WorkSpace/GymnasticsList/GymnasticsList.js","features/WorkSpace/WorkSpace.js","features/NoInternetWall/NoInternetWall.js","features/MainView/MainView.js","App.js","index.js","features/Navigation/TopNavigation/TopNavigation.module.css","features/Navigation/BottomNavigation/BottomNavigation.module.css","features/MainView/MainView.module.css"],"names":["steps","ActiveContent","ContentToStep","getStepFromContent","content","navigationSlice","createSlice","name","initialState","activeContent","activeStep","reducers","setActiveContent","state","action","payload","setActiveStep","step","keys","Object","i","length","key","getContentFromStep","actions","MUI_INPUT_FIELD_MARGIN","PrintActionTypes","requestService","baseUrl","oAuth2_access_token","tokenExpiryDate","this","url","headers","Authorization","Promise","resolve","then","fetch","method","resp","json","catch","err","console","error","data","JSON","stringify","body","formBody","encodedKey","encodeURIComponent","encodedValue","push","join","encodeURI","ok","reject","username","password","postEncodeURI","grant_type","client_id","client_secret","access_token","expiryDate","Date","setSeconds","getSeconds","expires_in","success","type","competitorsForPrint","competitors","response","blob","URL","createObjectURL","Blob","a","document","createElement","href","target","click","setTimeout","revokeObjectURL","Gender","FEMALE","MALE","Ages","Group","A","B","AgesPerGroup","Discipline","PUSH","PULL","SNATCH","CLEAN_AND_JERK","PULL_UP","T2B","SCHO","H1","LT","DR_M","SW","SD","PL","GYM","Exceptional","GYMNASTICS","getDraftEvent","id","date","toISOString","split","place","host","start","final","disciplines","values","reduce","r","e","gymnastics","competitorIds","getEvents","createAsyncThunk","ids","post","deleteEvent","get","saveEvent","event","eventsSlice","all","activeId","draft","resetEvents","setEventId","addCompetitorId","removeCompetitorId","activeEvent","splice","indexOf","editEvent","setName","setDate","setPlace","setHost","setStart","toggleFinal","toggleDiscipline","setGymnastics","group","extraReducers","fulfilled","Array","isArray","warn","Number","createTable","inStart","inEnd","outStart","outEnd","roundTo","val","Math","max","round","getters","calcPointsForExceptional","result","getPoints","disc","fn","includes","getAge","birthYear","getFullYear","getBirthYear","age","getRanks","eventIds","competitionClasses","forEach","groupKey","ageClass","filter","year","genderKey","gender","eventId","curPoints","curRank","rankings","results","res","curResults","curRes","points","k","sort","b","map","rank","c","ranking","find","addRanks","getDraftCompetitor","weight","club","getCompetitors","deleteCompetitor","saveCompetitor","competitor","competitorsSlice","rankedList","resetCompetitors","editCompetitor","setGender","setYear","setWeight","competitorId","setClub","setResult","discipline","setRanked","charCodeAt","reducer","navigation","events","defaultValues","ARRAY","OBJECT","FUNCTION","isObject","selectActiveEvent","selectActiveCompetitors","selectEventIdsForYear","activeYear","useInterval","interval","cb","invokeInitially","useState","active","setActive","idRef","useRef","useEffect","req","current","clearTimeout","AuthWall","open","setOpen","setPassword","errorText","setErrorText","validateAuth","useCallback","isAuthTokenValid","TOKEN_EXPIRY_SAFETY_MARGIN","resetTextField","Dialog","onClose","aria-labelledby","DialogContent","TextField","autoFocus","margin","label","className","fullWidth","value","onChange","onFocus","helperText","DialogActions","Button","variant","color","onClick","login","centerContentStyle","onResize","contentWidth","min","window","innerWidth","width","getCenterContentStyle","addEventListener","ColorlibConnector","withStyles","alternativeLabel","top","backgroundImage","completed","line","height","border","backgroundColor","borderRadius","StepConnector","useColorlibStepIconStyles","makeStyles","root","zIndex","display","justifyContent","alignItems","cursor","boxShadow","ColorlibStepIcon","props","classes","icons","1","2","3","String","icon","TopNavigation","dispatch","useDispatch","useSelector","styles","Stepper","TopNavigationStepper","style","connector","Step","StepLabel","StepIconComponent","TopNavigationSpacer","speedDialActions","BottomNavigation","rankedCompetitorList","speedDialOpen","setSpeedDialOpen","onCta","ctaIcon","ctaColor","s","Cta","Fab","aria-label","SpeedDial","ariaLabel","hidden","SpeedDialIcon","onOpen","direction","SpeedDialAction","tooltipTitle","fetchPrint","useListStyles","theme","card","cardActive","palette","secondary","light","cardContent","gridTemplateColumns","cardActions","justifySelf","alignSelf","contrastText","grey","gymnasticsTag","primary","main","useManagerStyles","flexRow","gridRow","gridGap","spacer","flexShrink","marginTop","useWorkSpaceStyles","row","editor","editorEntry","flexWrap","editorIcon","editorPoints","marginLeft","gymnasticsResult","useFilterStyles","filterGroup","marginRight","EventList","activeEventId","eventList","setEventList","deleteIndex","setDeleteIndex","refresh","getEventsOnMount","onEdit","stopPropagation","index","Card","elevation","onDoubleClick","CardContent","Typography","reverse","CardActions","IconButton","paragraph","parseCommaSeparation","input","replace","EventManager","saveAndExit","parsedGymnastics","onKeyDown","noValidate","autoComplete","FormControlLabel","control","Switch","checked","inputProps","labelPlacement","FormGroup","Checkbox","ages","multiline","rowsMax","CompetitorList","selectedCompetitorIds","competitorList","setCompetitorList","doSave","setDoSave","getCompetitorsOnMount","noActiveEvent","selected","CompetitorManager","FormControl","InputLabel","Select","labelId","MenuItem","weights","WeightType","weightDisciplines","useFilters","filters","filterCallback","setFilterCallback","filterList","setFilterList","element","every","ButtonGroup","prevState","undefined","GymnasticsList","gymnasticsList","gymResults","setGymResults","overflow","textOverflow","WorkSpace","eventIdsForYear","activeCompetitorId","setActiveCompetitorId","FilterComponent","sync","bodyWeight","weightValue","getWeight","NoInternetWall","textAlign","MainView","children","scroll","mainView","App","activeEventName","triggerRerender","resize","removeEventListener","title","ReactDOM","render","store","configureStore","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b1457f7e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nexport const steps = [ 'Erstellen', 'Teilnehmer', 'Wettbewerb' ];\n\nexport const ActiveContent = {\n    EVENT_LIST: 'event-list',\n    EVENT_MANAGER: 'event-manager',\n    COMPETITOR_LIST: 'competitor-list',\n    COMPETITOR_MANAGER: 'competitor-manager',\n    WORK_SPACE: 'work-space'\n};\n\nconst ContentToStep = {\n    [ActiveContent.EVENT_LIST]: 'Erstellen',\n    [ActiveContent.EVENT_MANAGER]: 'Erstellen',\n    [ActiveContent.COMPETITOR_LIST]: 'Teilnehmer',\n    [ActiveContent.COMPETITOR_MANAGER]: 'Teilnehmer',\n    [ActiveContent.WORK_SPACE]: 'Wettbewerb'\n};\n\nfunction getStepFromContent(content) {\n    return ContentToStep[content];\n}\n\nfunction getContentFromStep(step) {\n    const keys = Object.keys(ContentToStep);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (ContentToStep[key] === step) {\n            return key;\n        }\n    }\n}\n\nexport const navigationSlice = createSlice({\n    name: 'navigation',\n    initialState: {\n        activeContent: ActiveContent.EVENT_LIST,\n        activeStep: getStepFromContent(ActiveContent.EVENT_LIST)\n    },\n    reducers: {\n        setActiveContent: (state, action) => {\n            state.activeContent = action.payload;\n            state.activeStep = getStepFromContent(action.payload);\n        },\n        setActiveStep: (state, action) => {\n            state.activeContent = getContentFromStep(action.payload);\n            state.activeStep = action.payload;\n        }\n    }\n});\n\nexport const {\n    setActiveContent,\n    setActiveStep\n} = navigationSlice.actions;\n\nexport default navigationSlice.reducer;\n","// layout\nexport const MAX_CONTENT_WIDTH = 640; // px\nexport const CONTENT_WIDTH_FROM_VW = 0.95; // percent\nexport const MOBILE_BREAKPOINT = 576; // px\nexport const MUI_INPUT_FIELD_MARGIN = 'dense'; // mui native property\n\n// timing\nexport const EVENT_LIST_REFRESH_INTERVAL = 15; // seconds\nexport const COMPETITOR_LIST_REFRESH_INTERVAL = 15; // seconds\nexport const WORK_SPACE_SYNCH_INTERVAL = 5; // seconds\n\n// request service\nexport const O_AUTH_2_USER_NAME = 'michi_mueller';\nexport const TOKEN_EXPIRY_SAFETY_MARGIN = 60; // seconds","import { TOKEN_EXPIRY_SAFETY_MARGIN } from '../constants';\n\nexport const PrintActionTypes = {\n    CERTIFICATES: 'certificates',\n    PROTOCOL: 'protocol'\n};\n\nfunction encodeURI(data) {\n    const formBody = [];\n    for (const key in data) {\n        const encodedKey = encodeURIComponent(key);\n        const encodedValue = encodeURIComponent(data[key]);\n        formBody.push(`${encodedKey}=${encodedValue}`);\n    }\n    return formBody.join('&');\n}\n\n\nclass RequestService {\n    baseUrl = '';\n    oAuth2_access_token = '';\n    tokenExpiryDate = null;\n\n    constructor() {\n        this.baseUrl = process.env.NODE_ENV === 'development'\n            ? 'http://127.0.0.1'\n            : 'https://wolke.glencoden.de';\n    }\n\n    get(url) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => fetch(url, { method: 'GET', headers }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    post(url, data) {\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        return Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers,\n                body\n            }))\n            .then(resp => resp.json())\n            .catch(err => console.error('Request Service: ', err));\n    }\n\n    postEncodeURI(url, data) {\n        return Promise.resolve()\n            .then(() => encodeURI(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8' },\n                body\n            }))\n            .then(resp => {\n                if (resp.ok) {\n                    return resp.json();\n                }\n                return Promise.reject(resp);\n            });\n    }\n\n    login(username, password) {\n        return this.postEncodeURI(`${this.baseUrl}/auth/login`, { username, password, grant_type: 'password', client_id: null, client_secret: null })\n            .then(resp => {\n                this.oAuth2_access_token = resp.access_token;\n                const expiryDate = new Date();\n                expiryDate.setSeconds(expiryDate.getSeconds() + resp.expires_in - TOKEN_EXPIRY_SAFETY_MARGIN);\n                this.tokenExpiryDate = expiryDate;\n                return {\n                    success: true\n                };\n            });\n    }\n\n    isAuthTokenValid() {\n        return new Date() < this.tokenExpiryDate;\n    }\n\n    fetchPrint(type, competitorsForPrint) {\n        const data = {};\n        let url;\n        switch (type) {\n            case PrintActionTypes.CERTIFICATES:\n                data.competitors = competitorsForPrint;\n                url = `${this.baseUrl}/tsc/print_certificates`;\n                break;\n            case PrintActionTypes.PROTOCOL:\n                data.competitors = competitorsForPrint;\n                url = `${this.baseUrl}/tsc/print_protocol`;\n                break;\n            default:\n        }\n        const headers = {'Content-Type': 'application/json; charset=utf-8'};\n        if (this.oAuth2_access_token) {\n            headers.Authorization = `Bearer ${this.oAuth2_access_token}`;\n        }\n        Promise.resolve()\n            .then(() => JSON.stringify(data))\n            .then(body => fetch(url, {\n                method: 'POST',\n                headers,\n                body\n            }))\n            .then(response => response.blob())\n            .then(blob => {\n                const url = URL.createObjectURL(new Blob([ blob ], { type: 'application/pdf' }));\n                const a = document.createElement('a');\n                a.href = url;\n                a.target = '_blank';\n                a.click();\n                setTimeout(() => URL.revokeObjectURL(url), 100);\n            })\n            .catch(err => console.error(err));\n    }\n}\n\nexport const requestService = new RequestService();","export const Gender = {\n    FEMALE: 'W',\n    MALE: 'M'\n};\n\nexport const Ages = [ 9, 10, 11, 12, 13, 14 ];\n\nexport const Group = {\n    A: 'Kinder',\n    B: 'Schüler'\n};\n\nexport const AgesPerGroup = {\n    [Group.A]: [ 9, 10, 11, 12 ],\n    [Group.B]: [ 13, 14 ]\n};\n\nexport const Discipline = {\n    PUSH: 'Bankdrücken',\n    PULL: 'Zug liegend',\n    SNATCH: 'Reißen',\n    CLEAN_AND_JERK: 'Stoßen',\n    PULL_UP: 'Klimmziehen',\n    T2B: 'Anristen',\n    SCHO: 'SCHO',\n    H1: 'H1',\n    LT: 'LT',\n    DR_M: '30m',\n    SW: 'SW',\n    SD: 'SD',\n    PL: 'PL',\n    GYM: 'Turnen'\n};\n\nexport const Exceptional = {\n    GYMNASTICS: Discipline.GYM\n};","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from '../../services/requestService';\nimport { Discipline, Group } from '../../competition-logic/values';\n\nfunction getDraftEvent() {\n    return {\n        id: 0,\n        name: '',\n        date: new Date().toISOString().split('T')[0],\n        place: '',\n        host: '',\n        start: '16:30',\n        final: false,\n        disciplines: Object.values(Discipline).reduce((r, e) => ({ ...r, [e]: false }), {}),\n        gymnastics: {\n            [Group.A]: '',\n            [Group.B]: ''\n        },\n        competitorIds: []\n    };\n}\n\nexport const getEvents = createAsyncThunk(\n    'events/getEvents',\n    async ids => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/get_events`, ids);\n    }\n);\n\nexport const deleteEvent = createAsyncThunk(\n    'events/deleteEvent',\n    async id => {\n        return await requestService.get(`${requestService.baseUrl}/tsc/delete_event/${id}`);\n    }\n);\n\nexport const saveEvent = createAsyncThunk(\n    'events/saveEvent',\n    async event => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/upsert_event`, event);\n    }\n);\n\nexport const eventsSlice = createSlice({\n    name: 'events',\n    initialState: {\n        all: {},\n        activeId: 0,\n        draft: getDraftEvent()\n    },\n    reducers: {\n        resetEvents: state => {\n            state.activeId = 0;\n            state.draft = getDraftEvent();\n        },\n        setEventId: (state, action) => {\n            state.activeId = action.payload;\n        },\n        addCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            state.all[state.activeId].competitorIds.push(action.payload);\n        },\n        removeCompetitorId: (state, action) => {\n            if (!state.activeId) {\n                return;\n            }\n            const activeEvent = state.all[state.activeId];\n            activeEvent.competitorIds.splice(activeEvent.competitorIds.indexOf(action.payload), 1);\n        },\n        editEvent: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setDate: (state, action) => {\n            state.draft.date = action.payload;\n        },\n        setPlace: (state, action) => {\n            state.draft.place = action.payload;\n        },\n        setHost: (state, action) => {\n            state.draft.host = action.payload;\n        },\n        setStart: (state, action) => {\n            state.draft.start = action.payload;\n        },\n        toggleFinal: state => {\n            state.draft.final = !state.draft.final;\n        },\n        toggleDiscipline: (state, action) => {\n            state.draft.disciplines[action.payload] = !state.draft.disciplines[action.payload];\n        },\n        setGymnastics: (state, action) => {\n            if (!action.payload.group) {\n                return;\n            }\n            state.draft.gymnastics[action.payload.group] = action.payload.gymnastics;\n        }\n    },\n    extraReducers: {\n        [getEvents.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting events');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), {});\n        },\n        [deleteEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting event');\n                return;\n            }\n            if (state.activeId === Number(action.payload.id)) {\n                state.activeId = 0;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveEvent.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving event');\n                return;\n            }\n            state.all[action.payload.event.id] = action.payload.event;\n            state.activeId = action.payload.event.id;\n            state.draft = getDraftEvent();\n        }\n    }\n});\n\nexport const {\n    resetEvents,\n    setEventId,\n    addCompetitorId,\n    removeCompetitorId,\n    editEvent,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleFinal,\n    toggleDiscipline,\n    setGymnastics\n} = eventsSlice.actions;\n\nexport default eventsSlice.reducer;\n","import { Discipline, Exceptional } from './values';\n\nfunction createTable(inStart, inEnd, outStart, outEnd, roundTo = 1) {\n    return function(val) {\n        return Math.max(Math.round(((outStart - outEnd) * (val - inStart) / (inStart - inEnd) + outStart) / roundTo), 0) * roundTo;\n    }\n}\n\nconst getters = {\n    // Jan 2021: 15 reps with 2 points each\n    [Discipline.PUSH]: createTable(0, 15, 0, 30),\n    [Discipline.PULL]: createTable(0, 15, 0, 30),\n    [Discipline.PULL_UP]: createTable(0, 15, 0, 30),\n    [Discipline.T2B]: createTable(0, 15, 0, 30),\n    // Jan 2021: values from printed table\n    [Discipline.H1]: createTable(10, 15.7, 45, 16),\n    [Discipline.LT]: createTable(11, 16, 50, 0),\n    [Discipline.DR_M]: createTable(4.3, 6.3, 40, 0),\n    [Discipline.SW]: createTable(1.35, 2.85, 0, 50),\n    [Discipline.SD]: createTable(4, 9, 0, 50),\n    [Discipline.SCHO]: createTable(3, 13, 0, 50),\n    [Discipline.PL]: createTable(9, 14, 50, 0),\n    // Jan 2021: coach inputs gymnastics points sum, result outputs x3\n    [Discipline.GYM]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.SNATCH]: createTable(0, 10, 0, 30, 0.5),\n    [Discipline.CLEAN_AND_JERK]: createTable(0, 10, 0, 30, 0.5),\n};\n\nexport const calcPointsForExceptional = {\n    [Exceptional.GYMNASTICS]: result => Object.values(result).reduce((r, e) => r + e, 0)\n};\n\nexport function getPoints(disc, result) {\n    const fn = getters[disc];\n    if (typeof fn !== 'function') {\n        return 0;\n    }\n    if (Object.values(Exceptional).includes(disc)) {\n        result = calcPointsForExceptional[disc](result);\n    }\n    return fn(result);\n}\n","export function getAge(birthYear) {\n    return new Date().getFullYear() - Number(birthYear);\n}\n\nexport function getBirthYear(age) {\n    return new Date().getFullYear() - age;\n}","import { getPoints } from '../../../competition-logic/points';\nimport { AgesPerGroup, Gender, Group } from '../../../competition-logic/values';\nimport { getAge } from '../../../competition-logic/year';\n\nfunction addRanks(competitors, eventId) {\n    const eventIds = Array.isArray(eventId) ? eventId : [ eventId ];\n    let curPoints = -1;\n    let curRank = 1;\n    const rankings = competitors\n        .reduce((r, e) => {\n            const results = eventIds.reduce((res, id) => {\n                const curResults = e.results[id];\n                if (!curResults) {\n                    return r;\n                }\n                Object.keys(curResults).forEach(curRes => {\n                    if (typeof r[curRes] !== 'number') {\n                        r[curRes] = curResults[curRes];\n                        return;\n                    }\n                    r[curRes] = r[curRes] + curResults[curRes];\n                });\n                return r;\n            }, {});\n            return [\n                ...r,\n                {\n                    id: e.id,\n                    points: Object.keys(results).reduce((r, k) => results[k] ? r + getPoints(k, results[k]) : r, 0)\n                }\n            ];\n        }, [])\n        .sort((a, b) => b.points - a.points)\n        .map(e => {\n            if (curPoints > e.points) {\n                curRank++;\n                curPoints = e.points;\n            }\n            if (curPoints === -1) {\n                curPoints = e.points;\n            }\n            return {\n                ...e,\n                rank: curRank\n            };\n        });\n    return competitors.map(c => {\n        const ranking = rankings.find(e => e.id === c.id);\n        const { points, rank } = ranking;\n        return {\n            ...c,\n            points,\n            rank\n        };\n    });\n}\n\nexport function getRanks(competitors, eventIds) {\n    const competitionClasses = [];\n    Object.values(Group).forEach(groupKey => {\n        const ageClass = competitors.filter(e => AgesPerGroup[groupKey].includes(getAge(e.year)));\n        Object.values(Gender).forEach(genderKey => {\n            competitionClasses.push(ageClass.filter(e => genderKey === e.gender));\n        });\n    });\n    return competitionClasses.reduce((r, e) => [ ...r, ...addRanks(e, eventIds) ], []);\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { requestService } from '../../services/requestService';\nimport { Gender } from '../../competition-logic/values';\nimport { getRanks } from '../WorkSpace/lib/util';\n\nfunction getDraftCompetitor() {\n    return {\n        id: 0,\n        name: '',\n        gender: Gender.FEMALE,\n        year: new Date().toISOString().split('T')[0].split('-')[0] - 9,\n        weight: {},\n        club: '',\n        results: {}\n    };\n}\n\nexport const getCompetitors = createAsyncThunk(\n    'competitors/getCompetitors',\n    async ids => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/get_competitors`, ids);\n    }\n);\n\nexport const deleteCompetitor = createAsyncThunk(\n    'competitors/deleteCompetitor',\n    async id => {\n        return await requestService.get(`${requestService.baseUrl}/tsc/delete_competitor/${id}`);\n    }\n);\n\nexport const saveCompetitor = createAsyncThunk(\n    'competitors/saveCompetitor',\n    async competitor => {\n        return await requestService.post(`${requestService.baseUrl}/tsc/upsert_competitor`, competitor);\n    }\n);\n\nexport const competitorsSlice = createSlice({\n    name: 'competitors',\n    initialState: {\n        all: {},\n        rankedList: [],\n        draft: getDraftCompetitor()\n    },\n    reducers: {\n        resetCompetitors: state => {\n            state.draft = getDraftCompetitor();\n        },\n        editCompetitor: (state, action) => {\n            state.draft = state.all[action.payload];\n        },\n        setName: (state, action) => {\n            state.draft.name = action.payload;\n        },\n        setGender: (state, action) => {\n            state.draft.gender = action.payload;\n        },\n        setYear: (state, action) => {\n            state.draft.year = action.payload;\n        },\n        setWeight: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a weight without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a weight without a competitor id');\n                return;\n            }\n            state.all[action.payload.competitorId].weight[action.payload.eventId] = action.payload.weight;\n        },\n        setClub: (state, action) => {\n            state.draft.club = action.payload;\n        },\n        setResult: (state, action) => {\n            if (!action.payload.eventId) {\n                console.warn('you tried to set a result without an event id');\n                return;\n            }\n            if (!action.payload.competitorId) {\n                console.warn('you tried to set a result without a competitor id');\n                return;\n            }\n            if (!state.all[action.payload.competitorId].results[action.payload.eventId]) {\n                state.all[action.payload.competitorId].results[action.payload.eventId] = {};\n            }\n            state.all[action.payload.competitorId].results[action.payload.eventId][action.payload.discipline] = action.payload.result;\n        },\n        setRanked: (state, action) => {\n            const { competitors, eventIds } = action.payload;\n            state.rankedList = getRanks(competitors, eventIds)\n                .sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0));\n        }\n    },\n    extraReducers: {\n        [getCompetitors.fulfilled]: (state, action) => {\n            if (!Array.isArray(action.payload)) {\n                console.warn('error getting competitors');\n                return;\n            }\n            state.all = action.payload.reduce((r, e) => ({ ...r, [e.id]: e }), state.all);\n        },\n        [deleteCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error deleting competitor');\n                return;\n            }\n            delete state.all[action.payload.id];\n        },\n        [saveCompetitor.fulfilled]: (state, action) => {\n            if (!action.payload?.success) {\n                console.warn('error saving competitor');\n                return;\n            }\n            state.all[action.payload.competitor.id] = action.payload.competitor;\n            state.draft = getDraftCompetitor();\n        }\n    }\n});\n\nexport const {\n    resetCompetitors,\n    editCompetitor,\n    setName,\n    setGender,\n    setYear,\n    setWeight,\n    setClub,\n    setResult,\n    setRanked\n} = competitorsSlice.actions;\n\nexport default competitorsSlice.reducer;\n","import navigation from '../features/Navigation/navigationSlice';\nimport events from '../features/Events/eventsSlice';\nimport competitors from '../features/Competitors/competitorsSlice';\n\nconst reducer = {\n    navigation,\n    events,\n    competitors,\n};\n\nexport default reducer;","export const defaultValues = {\n    ARRAY: [],\n    OBJECT: {},\n    FUNCTION: () => {}\n}\n\nexport function isObject(val) {\n    return val !== null && typeof val !== 'function' && typeof val === 'object' && !Array.isArray(val);\n}","import { defaultValues } from '../util/helpers';\n\nexport const selectActiveEvent = state => state.events.activeId ? state.events.all[state.events.activeId] : defaultValues.OBJECT;\n\nexport const selectActiveCompetitors = state => {\n    const activeEvent = selectActiveEvent(state);\n    const competitorIds = activeEvent.competitorIds || [];\n    return Object.keys(state.competitors.all).reduce((r, e) => competitorIds.includes(Number(e)) ? [ ...r, state.competitors.all[e] ] : r, []);\n};\n\nexport const selectEventIdsForYear = state => {\n    const activeYear = selectActiveEvent(state).date?.split('-')[0];\n    if (!activeYear) {\n        return defaultValues.ARRAY;\n    }\n    return Object.values(state.events.all)\n        .filter(e => e.date?.split('-')[0] === activeYear)\n        .map(e => e.id);\n};","import { useState, useRef, useEffect } from 'react';\n\n\nfunction useInterval(interval, cb, invokeInitially = true) {\n    const [ active, setActive ] = useState(true);\n    const idRef = useRef(0);\n\n    useEffect(() => {\n        if (!active) {\n            return;\n        }\n        const req = () => {\n            cb();\n            idRef.current = setTimeout(() => req(), interval * 1000);\n        };\n        if (invokeInitially) {\n            req();\n        } else {\n            idRef.current = setTimeout(() => req(), interval * 1000);\n        }\n        return () => clearTimeout(idRef.current);\n    }, [ active, interval, cb, invokeInitially ]);\n\n    return [ active, setActive ];\n}\n\nexport default useInterval;","import { useState, useCallback } from 'react';\nimport { Button, Dialog, DialogActions, DialogContent, TextField } from '@material-ui/core';\nimport { requestService } from '../../services/requestService';\nimport useInterval from '../../hooks/useInterval';\nimport { O_AUTH_2_USER_NAME, TOKEN_EXPIRY_SAFETY_MARGIN } from '../../constants';\n\n\nfunction AuthWall() {\n    const [ open, setOpen ] = useState(true);\n    const [ password, setPassword ] = useState('');\n    const [ errorText, setErrorText ] = useState('');\n\n    const validateAuth = useCallback(\n        () => {\n            if (requestService.isAuthTokenValid()) {\n                return\n            }\n            setOpen(true);\n        },\n        []\n    );\n\n    useInterval(TOKEN_EXPIRY_SAFETY_MARGIN / 2, validateAuth);\n\n    const resetTextField = () => {\n        setPassword('');\n        setErrorText('');\n    };\n\n    const onLoginButtonClick = () => {\n        requestService.login(O_AUTH_2_USER_NAME, password)\n            .then(response => {\n                if (!response.success) {\n                    setErrorText('Unbekannter Fehler');\n                    return;\n                }\n                setOpen(false);\n                resetTextField();\n            })\n            .catch(() => {\n                setErrorText('Falsches Passwort');\n            });\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={() => {}}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogContent>\n                <TextField\n                    autoFocus\n                    margin=\"normal\"\n                    id=\"pw\"\n                    label={<span className=\"material-icons\">vpn_key</span>}\n                    type=\"password\"\n                    fullWidth\n                    value={password}\n                    onChange={({ target }) => setPassword(target.value)}\n                    onFocus={resetTextField}\n                    error={!!errorText}\n                    helperText={errorText}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={onLoginButtonClick}\n                >\n                    Login\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default AuthWall;","import { getContentWidth } from './getContentWidth';\n\nlet centerContentStyle = {};\n\nfunction onResize() {\n    const contentWidth = getContentWidth();\n    centerContentStyle = {\n        width: `${contentWidth}px`,\n        margin: `0 ${(window.innerWidth - contentWidth) / 2}px`\n    };\n}\n\nonResize();\n\nwindow.addEventListener('resize', onResize);\n\nexport function getCenterContentStyle() {\n    return centerContentStyle;\n}","import { CONTENT_WIDTH_FROM_VW, MAX_CONTENT_WIDTH } from '../constants';\n\nexport function getContentWidth() {\n    return Math.min(MAX_CONTENT_WIDTH, Math.round(CONTENT_WIDTH_FROM_VW * window.innerWidth));\n}","import { useSelector, useDispatch } from 'react-redux';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport { Stepper, Step, StepLabel, StepConnector } from '@material-ui/core';\nimport { steps, setActiveStep } from '../navigationSlice';\nimport styles from './TopNavigation.module.css';\nimport { getCenterContentStyle } from '../../../util/getCenterContentStyle';\n\nconst topNavBackgroundColor = '#fff';\n\nconst ColorlibConnector = withStyles({\n    alternativeLabel: {\n        top: 22\n    },\n    active: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    completed: {\n        '& $line': {\n            backgroundImage: 'linear-gradient( 95deg,rgb(242,113,33) 0%,rgb(233,64,87) 50%,rgb(138,35,135) 100%)'\n        }\n    },\n    line: {\n        height: 3,\n        border: 0,\n        backgroundColor: '#eaeaf0',\n        borderRadius: 1\n    }\n})(StepConnector);\n\nconst useColorlibStepIconStyles = makeStyles({\n    root: {\n        backgroundColor: '#ccc',\n        zIndex: 1,\n        color: topNavBackgroundColor,\n        width: 50,\n        height: 50,\n        display: 'flex',\n        borderRadius: '50%',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: 'pointer'\n    },\n    active: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)',\n        boxShadow: '0 4px 10px 0 rgba(0,0,0,.25)'\n    },\n    completed: {\n        backgroundImage: 'linear-gradient( 136deg, rgb(242,113,33) 0%, rgb(233,64,87) 50%, rgb(138,35,135) 100%)'\n    }\n});\n\nfunction ColorlibStepIcon(props) {\n    const classes = useColorlibStepIconStyles();\n    const { active, completed } = props;\n\n    const icons = {\n        1: <span className=\"material-icons\">event_note</span>,\n        2: <span className=\"material-icons\">people_alt</span>,\n        3: <span className=\"material-icons\">emoji_events</span>\n    };\n\n    return (\n        <div\n            className={`${classes.root}${active ? ` ${classes.active}` : ''}${completed ? ` ${classes.completed}` : ''}`}>\n            {icons[String(props.icon)]}\n        </div>\n    );\n}\n\n\nfunction TopNavigation() {\n    const dispatch = useDispatch();\n    const activeStep = useSelector(state => state.navigation.activeStep);\n\n    return (\n        <>\n            <div className={styles.TopNavigation}>\n                <Stepper\n                    className={styles.TopNavigationStepper}\n                    style={getCenterContentStyle()}\n                    alternativeLabel\n                    activeStep={steps.indexOf(activeStep)}\n                    connector={<ColorlibConnector/>}\n                >\n                    {steps.map(step => (\n                        <Step\n                            key={step}\n                            onClick={() => dispatch(setActiveStep(step))}\n                        >\n                            <StepLabel StepIconComponent={ColorlibStepIcon}/>\n                        </Step>\n                    ))}\n                </Stepper>\n            </div>\n            <div className={styles.TopNavigationSpacer}/>\n        </>\n    );\n}\n\nexport default TopNavigation;","import { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport s from './BottomNavigation.module.css';\nimport { Fab } from '@material-ui/core';\nimport { SpeedDial, SpeedDialIcon, SpeedDialAction } from '@material-ui/lab';\nimport { ActiveContent, setActiveContent } from '../navigationSlice';\nimport { saveCompetitor } from '../../Competitors/competitorsSlice';\nimport { getCenterContentStyle } from '../../../util/getCenterContentStyle';\nimport { MOBILE_BREAKPOINT } from '../../../constants';\nimport { PrintActionTypes, requestService } from '../../../services/requestService';\n\nconst speedDialActions = [\n    {\n        icon: <span className=\"material-icons\">event_note</span>,\n        name: 'Protokoll',\n        type: PrintActionTypes.PROTOCOL\n    },\n    {\n        icon: <span className=\"material-icons\">people_alt</span>,\n        name: 'Urkunden',\n        type: PrintActionTypes.CERTIFICATES\n    }\n];\n\n\nfunction BottomNavigation() {\n    const dispatch = useDispatch();\n    const activeContent = useSelector(state => state.navigation.activeContent);\n    const rankedCompetitorList = useSelector(state => state.competitors.rankedList);\n\n    const [ speedDialOpen, setSpeedDialOpen ] = useState(false);\n\n    let onCta = null;\n    let ctaIcon = '';\n    let ctaColor = '';\n\n    switch (activeContent) {\n        case ActiveContent.EVENT_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.EVENT_MANAGER:\n            onCta = () => dispatch(setActiveContent(ActiveContent.EVENT_LIST));\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        case ActiveContent.COMPETITOR_LIST:\n            onCta = () => dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n            break;\n        case ActiveContent.COMPETITOR_MANAGER:\n            onCta = () => {\n                dispatch(saveCompetitor());\n                dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n            };\n            ctaIcon = 'clear';\n            ctaColor = 'secondary';\n            break;\n        default:\n            ctaIcon = 'add';\n            ctaColor = 'primary';\n    }\n\n    return (\n        <footer\n            className={s.BottomNavigation}\n            style={getCenterContentStyle()}\n        >\n            <div className={s.Cta}>\n                {activeContent !== ActiveContent.WORK_SPACE && (\n                    <Fab\n                        color={ctaColor}\n                        aria-label=\"add\"\n                        onClick={onCta}\n                    >\n                        <span className=\"material-icons\">\n                            {ctaIcon}\n                        </span>\n                    </Fab>\n                )}\n                {activeContent === ActiveContent.WORK_SPACE && window.innerWidth > MOBILE_BREAKPOINT && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial example\"\n                        hidden={false}\n                        icon={<SpeedDialIcon/>}\n                        onClose={() => setSpeedDialOpen(false)}\n                        onOpen={() => setSpeedDialOpen(true)}\n                        open={speedDialOpen}\n                        direction=\"up\"\n                    >\n                        {speedDialActions.map(action => (\n                            <SpeedDialAction\n                                key={action.name}\n                                icon={action.icon}\n                                tooltipTitle={action.name}\n                                onClick={() => {\n                                    requestService.fetchPrint(action.type, rankedCompetitorList);\n                                    setSpeedDialOpen(false);\n                                }}\n                            />\n                        ))}\n                    </SpeedDial>\n                )}\n            </div>\n        </footer>\n    );\n}\n\nexport default BottomNavigation;","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useListStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    cardActive: {\n        backgroundColor: theme.palette.secondary.light\n    },\n    cardContent: {\n        display: 'grid',\n        gridTemplateColumns: 'auto 160px'\n    },\n    cardActions: {\n        justifySelf: 'end',\n        alignSelf: 'start'\n    },\n    contrastText: {\n        color: theme.palette.grey['100']\n    },\n    gymnasticsTag: {\n        color: theme.palette.primary.main\n    }\n}));\n\nexport const useManagerStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    flexRow: {\n        display: 'flex'\n    },\n    gridRow: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    spacer: {\n        width: '10px',\n        flexShrink: 0\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useWorkSpaceStyles = makeStyles(theme => ({\n    card: {\n        margin: '10px 0'\n    },\n    row: {\n        display: 'flex',\n        justifyContent: 'space-between'\n    },\n    editor: {\n        display: 'grid',\n        gridTemplateColumns: '1fr 1fr',\n        gridGap: '10px'\n    },\n    editorEntry: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        alignItems: 'center'\n    },\n    editorIcon: {\n        color: theme.palette.grey['300']\n    },\n    editorPoints: {\n        marginLeft: '10px'\n    },\n    gymnasticsResult: {\n        alignSelf: 'center',\n        display: 'flex',\n        alignItems: 'center'\n    },\n    marginTop: {\n        marginTop: '15px'\n    }\n}));\n\nexport const useFilterStyles = makeStyles(theme => ({\n    filter: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: '10px'\n    },\n    filterGroup: {\n        marginRight: '10px'\n    }\n}));","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { deleteEvent, setEventId, editEvent, getEvents } from '../eventsSlice';\nimport { Exceptional } from '../../../competition-logic/values';\nimport { isObject } from '../../../util/helpers';\nimport { useListStyles } from '../../../styles/styleHooks';\nimport useInterval from '../../../hooks/useInterval';\nimport { EVENT_LIST_REFRESH_INTERVAL } from '../../../constants';\n\n\nfunction EventList() {\n    const dispatch = useDispatch();\n    const events = useSelector(state => state.events.all);\n    const activeEventId = useSelector(state => state.events.activeId);\n    const classes = useListStyles();\n\n    const [ eventList, setEventList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n\n    const refresh = useCallback(() => dispatch(getEvents()), [ dispatch ]);\n    const getEventsOnMount = !isObject(events) || Object.keys(events).length === 0;  // only get events on mount if there's no current data set\n    useInterval(EVENT_LIST_REFRESH_INTERVAL, refresh, getEventsOnMount);\n\n    useEffect(() => {\n        if (!isObject(events)) {\n            return;\n        }\n        setEventList(\n            Object.values(events).sort((a, b) => new Date(a.date) - new Date(b.date))\n        );\n    }, [ events ]);\n\n    const onEdit = (e, id) => {\n        e.stopPropagation();\n        dispatch(editEvent(id));\n        dispatch(setActiveContent(ActiveContent.EVENT_MANAGER));\n    }\n\n    if (!eventList.length) {\n        return null;\n    }\n\n    return (\n        <div>\n            {eventList.map((event, index) => {\n                const active = event.id === activeEventId;\n                return (\n                    <Card\n                        key={event.id}\n                        className={`${classes.card} ${active && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => dispatch(setEventId(event.id))}\n                        onDoubleClick={e => onEdit(e, event.id)}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    {event.final && (\n                                        <Typography variant=\"overline\" color=\"primary\" display=\"block\">\n                                            {`Jahresabschluss ${event.date.split('-')[0]}`}\n                                        </Typography>\n                                    )}\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {event.date.split('-').reverse().join('.')} / {event.start} Uhr\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {event.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === index ? (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteEvent(event.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => onEdit(e, event.id)}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={active ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(index);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            {(event.place || event.host) && (\n                                <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\" paragraph>\n                                    {`${event.place}${(event.place && event.host) ? ' | ' : ''}${event.host}`}\n                                </Typography>\n                            )}\n                            <Typography variant=\"body1\">\n                                {Object.keys(event.disciplines).reduce((r, e) => event.disciplines[e] ? `${r}${r.length ? ', ' : ''}${e}` : r, '')}\n                            </Typography>\n                            {event.disciplines[Exceptional.GYMNASTICS] && Object.keys(event.gymnastics).map(key => (\n                                <Typography key={key} variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                    <span className={classes.gymnasticsTag}>Turnen {key}:</span> {event.gymnastics[key]}\n                                </Typography>\n                            ))}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default EventList;","export function parseCommaSeparation(input) {\n    const matchDoubleSpace = /\\s+/gm;\n    const matchCommaSpaces = /[,\\s]*,[,\\s]*/gm;\n    return input\n        .replace(matchDoubleSpace, ' ')\n        .replace(matchCommaSpaces, ', ');\n}","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    Card,\n    CardContent,\n    CardActions,\n    Button,\n    Checkbox,\n    FormControlLabel,\n    FormGroup,\n    TextField,\n    Switch\n} from '@material-ui/core';\nimport {\n    saveEvent,\n    resetEvents,\n    setName,\n    setDate,\n    setPlace,\n    setHost,\n    setStart,\n    toggleDiscipline,\n    setGymnastics,\n    toggleFinal\n} from '../eventsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { AgesPerGroup, Exceptional } from '../../../competition-logic/values';\nimport { getBirthYear } from '../../../competition-logic/year';\nimport { useManagerStyles } from '../../../styles/styleHooks';\nimport { parseCommaSeparation } from './util';\nimport { MUI_INPUT_FIELD_MARGIN } from '../../../constants';\n\n\nfunction EventManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.events.draft.id);\n    const name = useSelector(state => state.events.draft.name);\n    const date = useSelector(state => state.events.draft.date);\n    const place = useSelector(state => state.events.draft.place);\n    const host = useSelector(state => state.events.draft.host);\n    const start = useSelector(state => state.events.draft.start);\n    const final = useSelector(state => state.events.draft.final);\n    const disciplines = useSelector(state => state.events.draft.disciplines);\n    const gymnastics = useSelector(state => state.events.draft.gymnastics);\n    const competitorIds = useSelector(state => state.events.draft.competitorIds);\n\n    const classes = useManagerStyles();\n\n    useEffect(() => () => dispatch(resetEvents()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        const parsedGymnastics = Object.keys(gymnastics)\n            .reduce((result, key) => ({ ...result, [key]: parseCommaSeparation(gymnastics[key]) }), {});\n        dispatch(saveEvent({\n            id,\n            name,\n            date,\n            place,\n            host,\n            start,\n            final,\n            disciplines,\n            gymnastics: parsedGymnastics,\n            competitorIds\n        }));\n        dispatch(setActiveContent(ActiveContent.EVENT_LIST));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-name\"\n                            label=\"Wettbewerb\"\n                            variant=\"filled\"\n                            value={name}\n                            onChange={event => dispatch(setName(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <FormControlLabel\n                            control={\n                                <Switch\n                                    checked={final}\n                                    onChange={() => dispatch(toggleFinal())}\n                                    name=\"Jahresabschluss\"\n                                    color=\"primary\"\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\n                                />\n                            }\n                            label=\"Jahresab.\"\n                            labelPlacement=\"top\"\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"date\"\n                            label=\"Datum\"\n                            type=\"date\"\n                            variant=\"filled\"\n                            value={date}\n                            onChange={event => dispatch(setDate(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <div className={classes.spacer} />\n                        <TextField\n                            id=\"time\"\n                            label=\"Beginn\"\n                            type=\"time\"\n                            variant=\"filled\"\n                            value={start}\n                            onChange={event => dispatch(setStart(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                            inputProps={{\n                                step: 300, // 5 min\n                            }}\n                        />\n                    </div>\n                    <div className={classes.flexRow}>\n                        <TextField\n                            id=\"filled-place\"\n                            label=\"Wettkampf Ort\"\n                            variant=\"filled\"\n                            value={place}\n                            onChange={event => dispatch(setPlace(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                        <div className={classes.spacer} />\n                        <TextField\n                            id=\"filled-host\"\n                            label=\"Ausrichter\"\n                            variant=\"filled\"\n                            value={host}\n                            onChange={event => dispatch(setHost(event.target.value))}\n                            margin={MUI_INPUT_FIELD_MARGIN}\n                            fullWidth\n                        />\n                    </div>\n\n                    <FormGroup row>\n                        {Object.keys(disciplines).map(key => (\n                            <FormControlLabel\n                                control={\n                                    <Checkbox\n                                        checked={disciplines[key]}\n                                        onChange={() => dispatch(toggleDiscipline(key))}\n                                        name={key}\n                                        color={key === Exceptional.GYMNASTICS ? 'primary' : 'secondary'}\n                                    />\n                                }\n                                label={key}\n                                key={key}\n                            />\n                        ))}\n                    </FormGroup>\n\n                    {disciplines[Exceptional.GYMNASTICS] && Object.keys(gymnastics).map(key => {\n                        const ages = AgesPerGroup[key];\n                        return (\n                            <div key={key} className={classes.marginTop}>\n                                <h3>{`Turnen ${key} (Jahrgang ${getBirthYear(ages[ages.length - 1])} - ${getBirthYear(ages[0])})`}</h3>\n                                <TextField\n                                    id=\"outlined-multiline-flexible\"\n                                    label=\"Übungen\"\n                                    multiline\n                                    rowsMax={4}\n                                    variant=\"outlined\"\n                                    value={gymnastics[key]}\n                                    onChange={event => dispatch(setGymnastics({ group: key, gymnastics: event.target.value }))}\n                                    margin={MUI_INPUT_FIELD_MARGIN}\n                                    fullWidth\n                                />\n                            </div>\n                        );\n                    })}\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default EventManager;","import { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Typography, Button, IconButton } from '@material-ui/core';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { saveEvent, addCompetitorId, removeCompetitorId } from '../../Events/eventsSlice';\nimport { deleteCompetitor, editCompetitor, getCompetitors } from '../competitorsSlice';\nimport { useListStyles } from '../../../styles/styleHooks';\nimport { selectActiveEvent } from '../../../redux/selectors';\nimport { defaultValues, isObject } from '../../../util/helpers';\nimport useInterval from '../../../hooks/useInterval';\nimport { COMPETITOR_LIST_REFRESH_INTERVAL } from '../../../constants';\n\n\nfunction CompetitorList() {\n    const dispatch = useDispatch();\n    const competitors = useSelector(state => state.competitors.all);\n    const activeEvent = useSelector(selectActiveEvent);\n    const selectedCompetitorIds = activeEvent.competitorIds || defaultValues.ARRAY;\n\n    const classes = useListStyles();\n\n    const [ competitorList, setCompetitorList ] = useState([]);\n    const [ deleteIndex, setDeleteIndex ] = useState(-1);\n    const [ doSave, setDoSave ] = useState(false);\n\n    const refresh = useCallback(() => dispatch(getCompetitors()), [ dispatch ]);\n    const getCompetitorsOnMount = !isObject(competitors) || Object.keys(competitors).length === 0; // only get competitors on mount if there's no current data set\n    useInterval(COMPETITOR_LIST_REFRESH_INTERVAL, refresh, getCompetitorsOnMount);\n\n    useEffect(() => {\n        if (!isObject(competitors)) {\n            return;\n        }\n        setCompetitorList(\n            Object.values(competitors).sort((a, b) => a.name.charCodeAt(0) - b.name.charCodeAt(0))\n        );\n    }, [ competitors ]);\n\n    useEffect(() => {\n        if (!doSave) {\n            return;\n        }\n        dispatch(saveEvent(activeEvent));\n        setDoSave(false);\n    }, [ dispatch, activeEvent, doSave ]);\n\n    if (!competitorList.length) {\n        return null;\n    }\n\n    return (\n        <div>\n            {competitorList.map((competitor, index) => {\n                const noActiveEvent = !activeEvent.id;\n                const selected = selectedCompetitorIds.includes(competitor.id);\n                return (\n                    <Card\n                        key={competitor.id}\n                        className={`${classes.card} ${selected && classes.cardActive}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (noActiveEvent) {\n                                return;\n                            }\n                            dispatch(selected ? removeCompetitorId(competitor.id) : addCompetitorId(competitor.id));\n                            setDoSave(true);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.cardContent}>\n                                <div>\n                                    <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                        {`${competitor.year} | ${competitor.gender}`}\n                                    </Typography>\n                                    <Typography variant=\"h6\" color=\"textPrimary\">\n                                        {competitor.name}\n                                    </Typography>\n                                </div>\n                                <CardActions className={classes.cardActions}>\n                                    {deleteIndex === index ? (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">clear</span>\n                                            </IconButton>\n                                            <Button\n                                                variant=\"contained\"\n                                                color=\"secondary\"\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(deleteCompetitor(competitor.id));\n                                                    setDeleteIndex(-1);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </Button>\n                                        </>\n                                    ) : (\n                                        <>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    dispatch(editCompetitor(competitor.id));\n                                                    dispatch(setActiveContent(ActiveContent.COMPETITOR_MANAGER));\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">edit</span>\n                                            </IconButton>\n                                            <IconButton\n                                                className={selected ? classes.contrastText : ''}\n                                                onClick={e => {\n                                                    e.stopPropagation();\n                                                    setDeleteIndex(index);\n                                                }}\n                                            >\n                                                <span className=\"material-icons\">delete</span>\n                                            </IconButton>\n                                        </>\n                                    )}\n                                </CardActions>\n                            </div>\n                            <Typography variant=\"caption\" color=\"textSecondary\" display=\"block\">\n                                {competitor.club || 'Kein Verein'}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default CompetitorList;","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Card, CardContent, CardActions, Button, TextField, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\nimport {\n    resetCompetitors,\n    setName,\n    setGender,\n    setYear,\n    setClub,\n    saveCompetitor\n} from '../competitorsSlice';\nimport { ActiveContent, setActiveContent } from '../../Navigation/navigationSlice';\nimport { Gender, Ages } from '../../../competition-logic/values';\nimport { getBirthYear } from '../../../competition-logic/year';\nimport { useManagerStyles } from '../../../styles/styleHooks';\nimport { parseCommaSeparation } from '../../Events/EventManager/util';\nimport { MUI_INPUT_FIELD_MARGIN } from '../../../constants';\n\n\nfunction CompetitorManager() {\n    const dispatch = useDispatch();\n    const id = useSelector(state => state.competitors.draft.id);\n    const name = useSelector(state => state.competitors.draft.name);\n    const gender = useSelector(state => state.competitors.draft.gender);\n    const year = useSelector(state => state.competitors.draft.year);\n    const weight = useSelector(state => state.competitors.draft.weight);\n    const club = useSelector(state => state.competitors.draft.club);\n    const results = useSelector(state => state.competitors.draft.results);\n\n    const classes = useManagerStyles();\n\n    useEffect(() => () => dispatch(resetCompetitors()), [ dispatch ]);\n\n    const saveAndExit = () => {\n        dispatch(saveCompetitor({\n            id,\n            name: parseCommaSeparation(name),\n            gender,\n            year,\n            weight,\n            club: parseCommaSeparation(club),\n            results\n        }));\n        dispatch(setActiveContent(ActiveContent.COMPETITOR_LIST));\n    };\n\n    return (\n        <Card\n            elevation={3}\n            className={classes.card}\n            onKeyDown={event => {\n                if (event.key !== 'Enter') {\n                    return;\n                }\n                saveAndExit();\n            }}\n        >\n            <CardContent>\n                <form noValidate autoComplete=\"off\">\n                    <TextField\n                        id=\"filled-name\"\n                        label=\"Name\"\n                        variant=\"filled\"\n                        value={name}\n                        onChange={event => dispatch(setName(event.target.value))}\n                        margin={MUI_INPUT_FIELD_MARGIN}\n                        fullWidth\n                    />\n                    <TextField\n                        id=\"filled-club\"\n                        label=\"Verein\"\n                        variant=\"filled\"\n                        value={club}\n                        onChange={event => dispatch(setClub(event.target.value))}\n                        margin={MUI_INPUT_FIELD_MARGIN}\n                        fullWidth\n                    />\n                    <div className={classes.gridRow}>\n                        <FormControl margin={MUI_INPUT_FIELD_MARGIN}>\n                            <InputLabel id=\"demo-simple-select-label-gender\">Geschlecht</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-gender\"\n                                id=\"demo-simple-select-gender\"\n                                value={gender}\n                                onChange={event => dispatch(setGender(event.target.value))}\n                            >\n                                {Object.values(Gender).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                        <FormControl margin={MUI_INPUT_FIELD_MARGIN}>\n                            <InputLabel id=\"demo-simple-select-label-year\">Jahrgang</InputLabel>\n                            <Select\n                                labelId=\"demo-simple-select-label-year\"\n                                id=\"demo-simple-select-year\"\n                                value={year}\n                                onChange={event => dispatch(setYear(event.target.value))}\n                            >\n                                {Ages.map(age => getBirthYear(age)).map(e => (\n                                    <MenuItem key={e} value={e}>{e}</MenuItem>\n                                ))}\n                            </Select>\n                        </FormControl>\n                    </div>\n\n                    <CardActions className={classes.marginTop}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={saveAndExit}\n                        >\n                            Fertig\n                        </Button>\n                    </CardActions>\n                </form>\n            </CardContent>\n        </Card>\n    );\n}\n\nexport default CompetitorManager;","import { Gender, Ages, Discipline } from './values';\nimport { getAge } from './year';\n\nconst weights = {\n    [Gender.FEMALE]: {\n        [Discipline.SCHO]: [ 2, 2, 2, 2, 3, 3 ],\n        [Discipline.PUSH]: [ 40, 45, 50, 55, 60, 65 ],\n        [Discipline.PULL]: [ 40, 45, 50, 50, 55, 60 ]\n    },\n    [Gender.MALE]: {\n        [Discipline.SCHO]: [ 2, 2, 3, 3, 4, 4 ],\n        [Discipline.PUSH]: [ 45, 50, 60, 65, 70, 75 ],\n        [Discipline.PULL]: [ 45, 50, 55, 60, 65, 70 ]\n    }\n};\n\nconst WeightType = {\n    KG: 'kg',\n    PERCENT: 'percent'\n};\n\nconst weightDisciplines = {\n    [Discipline.SCHO]: WeightType.KG,\n    [Discipline.PUSH]: WeightType.PERCENT,\n    [Discipline.PULL]: WeightType.PERCENT\n};\n\nexport function getWeight(birthYear, gender, bodyWeight, discipline) {\n    if (!weightDisciplines[discipline]) {\n        return 0;\n    }\n    const age = getAge(birthYear);\n    const weightValue = weights[gender][discipline][Ages.indexOf(age)];\n    switch (weightDisciplines[discipline]) {\n        case WeightType.KG:\n            return weightValue;\n        case WeightType.PERCENT:\n            return Math.round(bodyWeight * weightValue / 100);\n        default:\n    }\n}\n","import { useFilterStyles } from '../styles/styleHooks';\nimport { useEffect, useState } from 'react';\nimport { Button, ButtonGroup } from '@material-ui/core';\n\nfunction useFilters(filters) {\n    const classes = useFilterStyles();\n\n    const [ filterCallback, setFilterCallback ] = useState(() => () => true);\n    const [ filterList, setFilterList ] = useState([]);\n\n    useEffect(() => {\n        setFilterCallback(() => element => filterList.every(fn => typeof fn === 'function' ? fn(element) : true));\n    }, [ filterList, setFilterCallback ]);\n\n    const FilterComponent = () => (\n        <div className={classes.filter}>\n            {filters.map((filterGroup, i) => {\n                return (\n                    <ButtonGroup\n                        variant=\"contained\"\n                        key={i}\n                        className={classes.filterGroup}\n                    >\n                        {Object.keys(filterGroup).map(name => {\n                            const active = filterList[i] === filterGroup[name];\n                            return (\n                                <Button\n                                    key={name}\n                                    color={active ? 'primary' : 'default'}\n                                    onClick={() => setFilterList(prevState => {\n                                        const result = [ ...prevState ];\n                                        if (active) {\n                                            result[i] = undefined;\n                                        } else {\n                                            result[i] = filterGroup[name];\n                                        }\n                                        return result;\n                                    })}\n                                >\n                                    {name}\n                                </Button>\n                            );\n                        })}\n                    </ButtonGroup>\n                );\n            })}\n        </div>\n    );\n\n    return [ filterCallback, FilterComponent ];\n}\n\nexport default useFilters;","import { useDispatch } from 'react-redux';\nimport { useWorkSpaceStyles } from '../../../styles/styleHooks';\nimport { AgesPerGroup, Exceptional, Group } from '../../../competition-logic/values';\nimport { getAge } from '../../../competition-logic/year';\nimport { useEffect, useState } from 'react';\nimport { setResult } from '../../Competitors/competitorsSlice';\nimport { getPoints } from '../../../competition-logic/points';\nimport { FormControl, InputLabel, MenuItem, Select, Typography } from '@material-ui/core';\n\n\nfunction GymnasticsList({ event, competitor }) {\n    const dispatch = useDispatch();\n    const classes = useWorkSpaceStyles();\n\n    const results = competitor.results?.[event.id]?.[Exceptional.GYMNASTICS];\n    const gymnastics = event.gymnastics[Object.values(Group).find(e => AgesPerGroup[e].includes(getAge(competitor.year)))];\n    const gymnasticsList = gymnastics.split(', ').filter(e => !!e);\n\n    const [ gymResults, setGymResults ] = useState(results ? results : gymnasticsList.reduce((r, e) => ({ ...r, [e]: 0 }), {}));\n\n    useEffect(() => {\n        dispatch(setResult({\n            eventId: event.id,\n            competitorId: competitor.id,\n            discipline: Exceptional.GYMNASTICS,\n            result: gymResults\n        }))\n    }, [ event.id, competitor.id, dispatch, gymResults ]);\n\n    if (!gymnastics.length) {\n        return null;\n    }\n\n    const points = getPoints(Exceptional.GYMNASTICS, gymResults);\n\n    return (\n        <>\n            <Typography variant=\"overline\" paragraph className={classes.marginTop}>\n                {Exceptional.GYMNASTICS}\n            </Typography>\n            <div className={classes.editor}>\n                {gymnasticsList\n                    .map(name => (\n                        <FormControl key={name} style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>\n                            <InputLabel id={`${name}-label`}>{name}</InputLabel>\n                            <Select\n                                labelId={`${name}-label`}\n                                id={`${name}`}\n                                value={gymResults[name]}\n                                onChange={event => setGymResults(prevState => {\n                                    const result = { ...prevState };\n                                    result[name] = event.target.value;\n                                    return result;\n                                })}\n                            >\n                                <MenuItem value={2}>2</MenuItem>\n                                <MenuItem value={1.5}>1,5</MenuItem>\n                                <MenuItem value={1}>1</MenuItem>\n                                <MenuItem value={0.5}>0,5</MenuItem>\n                                <MenuItem value={0}>0</MenuItem>\n                            </Select>\n                        </FormControl>\n                    ))\n                }\n                <div className={classes.gymnasticsResult}>\n                    <span className={`material-icons ${classes.editorIcon}`}>\n                        play_arrow\n                    </span>\n                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                        {points ? points : '--'}\n                    </Typography>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default GymnasticsList;","import { useEffect, useState, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Card, CardActions, CardContent, TextField, Typography } from '@material-ui/core';\nimport { selectActiveEvent, selectActiveCompetitors, selectEventIdsForYear } from '../../redux/selectors';\nimport { getCompetitors, saveCompetitor, setResult, setWeight, setRanked } from '../Competitors/competitorsSlice';\nimport { useWorkSpaceStyles } from '../../styles/styleHooks';\nimport { getPoints } from '../../competition-logic/points';\nimport { defaultValues } from '../../util/helpers';\nimport { AgesPerGroup, Gender, Group, Exceptional } from '../../competition-logic/values';\nimport { getAge } from '../../competition-logic/year';\nimport { getWeight } from '../../competition-logic/weights';\nimport useFilters from '../../hooks/useFilters';\nimport useInterval from '../../hooks/useInterval';\nimport GymnasticsList from './GymnasticsList/GymnasticsList';\nimport { MUI_INPUT_FIELD_MARGIN, WORK_SPACE_SYNCH_INTERVAL } from '../../constants';\n\nconst filters = [\n    {\n        [Gender.FEMALE]: competitor => competitor.gender === Gender.FEMALE,\n        [Gender.MALE]: competitor => competitor.gender === Gender.MALE\n    },\n    {\n        [Group.A]: competitor => AgesPerGroup[Group.A].includes(getAge(competitor.year)),\n        [Group.B]: competitor => AgesPerGroup[Group.B].includes(getAge(competitor.year))\n    }\n];\n\n\nfunction WorkSpace() {\n    const dispatch = useDispatch();\n\n    const competitors = useSelector(selectActiveCompetitors);\n    const rankedCompetitorList = useSelector(state => state.competitors.rankedList);\n\n    const activeEvent = useSelector(selectActiveEvent);\n    const eventIdsForYear = useSelector(selectEventIdsForYear);\n    const eventIds = activeEvent.final ? eventIdsForYear : activeEvent.id;\n\n    const classes = useWorkSpaceStyles();\n\n    const [ activeCompetitorId, setActiveCompetitorId ] = useState(0);\n\n    const [ filterCallback, FilterComponent ] = useFilters(filters);\n\n    const competitorIds = activeEvent?.competitorIds || defaultValues.ARRAY;\n    const sync = useCallback(() => dispatch(getCompetitors(competitorIds.filter(id => id !== activeCompetitorId))), [ dispatch, activeCompetitorId, competitorIds ]);\n\n    useInterval(WORK_SPACE_SYNCH_INTERVAL, sync);\n\n    useEffect(() => {\n        dispatch(setRanked({ competitors, eventIds }));\n    }, [ Object.keys(competitors).length ]); // eventIds will be the same unless usage around new year\n\n    if (!activeEvent.id) {\n        return null;\n    }\n\n    return (\n        <div>\n            <FilterComponent />\n            {!!rankedCompetitorList.length && rankedCompetitorList.filter(filterCallback).map((competitor, i) => {\n                const active = activeCompetitorId === competitor.id;\n                return (\n                    <Card\n                        key={i}\n                        className={`${classes.card}`}\n                        elevation={3}\n                        onClick={() => {\n                            if (active) {\n                                return;\n                            }\n                            if (activeCompetitorId) {\n                                dispatch(saveCompetitor(competitors.find(e => e.id === activeCompetitorId)));\n                            }\n                            setActiveCompetitorId(competitor.id);\n                        }}\n                    >\n                        <CardContent>\n                            <div className={classes.row}>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    {`${competitor.year} | ${competitor.gender}${competitor.weight[activeEvent.id] ? ` | ${competitor.weight[activeEvent.id]} kg` : ''}`}\n                                </Typography>\n                                <Typography variant=\"overline\" color=\"textSecondary\" display=\"block\">\n                                    Punkte {competitor.points}\n                                </Typography>\n                            </div>\n                            <div className={classes.row}>\n                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                    {competitor.name}\n                                </Typography>\n                                <Typography variant=\"h6\" color=\"primary\">\n                                    Platz {competitor.rank}\n                                </Typography>\n                            </div>\n                            {active && (\n                                <>\n                                    <div className={classes.editor}>\n                                        <div className={classes.editorEntry}>\n                                            <TextField\n                                                id=\"filled-weight\"\n                                                label=\"Körpergewicht\"\n                                                type=\"number\"\n                                                variant=\"outlined\"\n                                                value={competitor.weight[activeEvent.id]}\n                                                onChange={event => dispatch(setWeight({\n                                                    eventId: activeEvent.id,\n                                                    competitorId: competitor.id,\n                                                    weight: event.target.value\n                                                }))}\n                                                margin=\"dense\"\n                                            />\n                                        </div>\n                                        {Object.keys(activeEvent.disciplines).filter(e => e !== Exceptional.GYMNASTICS).map(discipline => {\n                                            if (!activeEvent.disciplines[discipline]) {\n                                                return null;\n                                            }\n                                            const value = competitor.results[activeEvent.id]?.[discipline];\n                                            const weight = getWeight(competitor.year, competitor.gender, competitor.weight[activeEvent.id], discipline);\n                                            return (\n                                                <div key={discipline} className={classes.editorEntry}>\n                                                    <TextField\n                                                        id={`filled-${discipline}`}\n                                                        label={`${discipline}${weight ? ` ${weight} kg` : ''}`}\n                                                        type=\"number\"\n                                                        variant=\"filled\"\n                                                        value={value}\n                                                        onChange={event => dispatch(setResult({\n                                                            eventId: activeEvent.id,\n                                                            competitorId: competitor.id,\n                                                            discipline,\n                                                            result: event.target.value\n                                                        }))}\n                                                        margin={MUI_INPUT_FIELD_MARGIN}\n                                                    />\n                                                    <span className={`material-icons ${classes.editorIcon}`}>\n                                                        play_arrow\n                                                    </span>\n                                                    <Typography color=\"primary\" display=\"inline\" className={classes.editorPoints}>\n                                                        {value ? getPoints(discipline, value) : '--'}\n                                                    </Typography>\n                                                </div>\n                                            );\n                                        })}\n                                    </div>\n                                    <GymnasticsList event={activeEvent} competitor={competitor} />\n                                    <CardActions className={classes.marginTop}>\n                                        <Button\n                                            variant=\"contained\"\n                                            color=\"primary\"\n                                            onClick={() => {\n                                                dispatch(saveCompetitor(competitors.find(e => e.id === competitor.id)));\n                                                setActiveCompetitorId(0);\n                                            }}\n                                        >\n                                            Fertig\n                                        </Button>\n                                    </CardActions>\n                                </>\n                            )}\n                        </CardContent>\n                    </Card>\n                );\n            })}\n        </div>\n    );\n}\n\nexport default WorkSpace;","import { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, Typography } from '@material-ui/core';\n\n\nfunction NoInternetWall() {\n    const [ open, setOpen ] = useState(false);\n\n    useEffect(() => {\n        window.addEventListener('offline', () => setOpen(true));\n        window.addEventListener('online', () => setOpen(false));\n    }, []);\n\n    return (\n        <Dialog open={open} onClose={() => {}} aria-labelledby=\"form-dialog-title\">\n            <DialogContent>\n                <Typography>\n                    Kein Internet\n                </Typography>\n                <div style={{ textAlign: 'center' }}>\n                    <span className=\"material-icons\">perm_scan_wifi</span>\n                </div>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport default NoInternetWall;","import { useEffect } from 'react';\nimport { getCenterContentStyle } from '../../util/getCenterContentStyle';\nimport styles from './MainView.module.css';\n\n\nfunction MainView({ children }) {\n    useEffect(() => {\n        window.scroll(0, 0);\n    }, [ children ]);\n\n    return (\n        <div\n            className={styles.MainView}\n            style={getCenterContentStyle()}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default MainView;","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { ActiveContent } from './features/Navigation/navigationSlice';\nimport { selectActiveEvent } from './redux/selectors';\n\nimport AuthWall from './features/AuthWall/AuthWall';\nimport TopNavigation from './features/Navigation/TopNavigation/TopNavigation';\nimport BottomNavigation from './features/Navigation/BottomNavigation/BottomNavigation';\nimport EventList from './features/Events/EventList/EventList';\nimport EventManager from './features/Events/EventManager/EventManager';\nimport CompetitorList from './features/Competitors/CompetitorList/CompetitorList';\nimport CompetitorManager from './features/Competitors/CompetitorManager/CompetitorManager';\nimport WorkSpace from './features/WorkSpace/WorkSpace';\nimport NoInternetWall from './features/NoInternetWall/NoInternetWall';\nimport MainView from './features/MainView/MainView';\n\nconst mainView = {\n    [ActiveContent.EVENT_LIST]: <EventList />,\n    [ActiveContent.EVENT_MANAGER]: <EventManager />,\n    [ActiveContent.COMPETITOR_LIST]: <CompetitorList />,\n    [ActiveContent.COMPETITOR_MANAGER]: <CompetitorManager />,\n    [ActiveContent.WORK_SPACE]: <WorkSpace />\n};\n\n\nfunction App() {\n    const activeEvent = useSelector(selectActiveEvent);\n    const activeEventName = activeEvent.name || '';\n    const activeContent = useSelector(state => state.navigation.activeContent);\n\n    const [ , triggerRerender ] = useState(false);\n\n    useEffect(() => {\n        const resize = () => triggerRerender(prevState => !prevState);\n        window.addEventListener('resize', resize);\n        return () => window.removeEventListener('resize', resize);\n    }, []);\n\n    useEffect(() => {\n        if (!activeEventName) {\n            document.title = 'TSC';\n            return;\n        }\n        document.title = activeEventName;\n    }, [ activeEventName ]);\n\n    return (\n        <>\n            <AuthWall />\n            <NoInternetWall />\n            <TopNavigation />\n            <MainView>\n                {mainView[activeContent]}\n            </MainView>\n            <BottomNavigation />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { configureStore } from '@reduxjs/toolkit';\nimport reducer from './redux/reducer';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <Provider store={configureStore({ reducer })}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopNavigation\":\"TopNavigation_TopNavigation__1sjDd\",\"TopNavigationStepper\":\"TopNavigation_TopNavigationStepper__3xFMu\",\"TopNavigationSpacer\":\"TopNavigation_TopNavigationSpacer__1GvRx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BottomNavigation\":\"BottomNavigation_BottomNavigation__2CoWW\",\"Cta\":\"BottomNavigation_Cta__1wAwD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MainView\":\"MainView_MainView__1sxw3\"};"],"sourceRoot":""}